{"file_contents":{"client/src/components/IntelligentAutomation.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Loader2, PlayCircle, CheckCircle, XCircle } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function IntelligentAutomation() {\n  const [url, setUrl] = useState(\"\");\n  const [prompt, setPrompt] = useState(\"\");\n  const [actions, setActions] = useState<any[]>([]);\n  const [results, setResults] = useState<any>(null);\n  const [parsing, setParsing] = useState(false);\n  const [executing, setExecuting] = useState(false);\n  const [stepResults, setStepResults] = useState<any[]>([]);\n  const { toast } = useToast();\n\n  const parse = async () => {\n    setParsing(true);\n    const res = await fetch(\"/api/parse-instructions\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ prompt }),\n    });\n    const data = await res.json();\n    setActions(data.actions);\n    setParsing(false);\n  };\n\n  const execute = async () => {\n    setExecuting(true);\n    const res = await fetch(\"/api/intelligent-execute\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ url, actions }),\n    });\n    const data = await res.json();\n    setResults(data);\n    setExecuting(false);\n  };\n\n  // Execute a single step\n  const executeStep = async (stepIdx: number) => {\n    if (!actions[stepIdx] || !url) return;\n    setExecuting(true);\n    try {\n      const res = await fetch(\"/api/intelligent-execute\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ url, actions: [actions[stepIdx]] }),\n      });\n      const data = await res.json();\n      setStepResults(prev => {\n        const next = [...prev];\n        next[stepIdx] = data.results[0];\n        return next;\n      });\n    } finally {\n      setExecuting(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto p-6 space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Intelligent Automation</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <Input placeholder=\"Website URL\" value={url} onChange={e => setUrl(e.target.value)} />\n          <Textarea placeholder='e.g. \"Fill username with alice, fill password with secret, click login\"' value={prompt} onChange={e => setPrompt(e.target.value)} rows={3} />\n          <div className=\"flex gap-2\">\n            <Button onClick={parse} disabled={parsing}>{parsing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Parse\"}</Button>\n            <Button onClick={execute} disabled={executing || !actions.length}>{executing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <><PlayCircle className=\"w-4 h-4\" /> Execute</>}</Button>\n          </div>\n        </CardContent>\n      </Card>\n      {actions.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Parsed Actions</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ol className=\"space-y-2\">\n              {actions.map((a, i) => (\n                <li key={i} className=\"text-sm\">{a.type} <b>{a.intent}</b> {a.value && `with \"${a.value}\"`}</li>\n              ))}\n            </ol>\n          </CardContent>\n        </Card>\n      )}\n      {actions.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Test Steps</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ol className=\"space-y-2\">\n              {actions.map((a, i) => (\n                <li key={i} className=\"flex items-center gap-2 text-sm\">\n                  <span>\n                    {a.type} <b>{a.intent}</b> {a.value && `with \"${a.value}\"`}\n                  </span>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    disabled={executing}\n                    onClick={() => executeStep(i)}\n                  >\n                    <PlayCircle className=\"w-4 h-4\" /> Execute\n                  </Button>\n                  {stepResults[i] && (\n                    <span className={stepResults[i].success ? \"text-green-600\" : \"text-red-600\"}>\n                      {stepResults[i].success ? \"✓\" : \"✗\"} {stepResults[i].reasoning}\n                    </span>\n                  )}\n                </li>\n              ))}\n            </ol>\n          </CardContent>\n        </Card>\n      )}\n      {results && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Execution Results</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ol className=\"space-y-2\">\n              {results.results.map((r: any, i: number) => (\n                <li key={i} className={`flex items-center gap-2 text-sm ${r.success ? \"text-green-700\" : \"text-red-700\"}`}>\n                  {r.success ? <CheckCircle className=\"w-4 h-4\" /> : <XCircle className=\"w-4 h-4\" />}\n                  <span>{r.action.type} <b>{r.action.intent}</b> {r.action.value && `with \"${r.action.value}\"`} - {r.reasoning}</span>\n                </li>\n              ))}\n            </ol>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":5309},"client/src/components/ui/hover-card.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\";\nimport { cn } from \"@/lib/utils\";\nconst HoverCard = HoverCardPrimitive.Root;\nconst HoverCardTrigger = HoverCardPrimitive.Trigger;\nconst HoverCardContent = React.forwardRef((_a, ref) => {\n    var { className, align = \"center\", sideOffset = 4 } = _a, props = __rest(_a, [\"className\", \"align\", \"sideOffset\"]);\n    return (_jsx(HoverCardPrimitive.Content, Object.assign({ ref: ref, align: align, sideOffset: sideOffset, className: cn(\"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\", className) }, props)));\n});\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName;\nexport { HoverCard, HoverCardTrigger, HoverCardContent };\n","size_bytes":1722},"client/vite.config.ts":{"content":"import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport path from 'path';\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 3000,\n    hmr: {\n      port: 3000,\n      host: 'localhost',\n    },\n  },\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n});\n","size_bytes":338},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/calendar.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { DayPicker } from \"react-day-picker\";\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nfunction Calendar(_a) {\n    var { className, classNames, showOutsideDays = true } = _a, props = __rest(_a, [\"className\", \"classNames\", \"showOutsideDays\"]);\n    return (_jsx(DayPicker, Object.assign({ showOutsideDays: showOutsideDays, className: cn(\"p-3\", className), classNames: Object.assign({ months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\", month: \"space-y-4\", caption: \"flex justify-center pt-1 relative items-center\", caption_label: \"text-sm font-medium\", nav: \"space-x-1 flex items-center\", nav_button: cn(buttonVariants({ variant: \"outline\" }), \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"), nav_button_previous: \"absolute left-1\", nav_button_next: \"absolute right-1\", table: \"w-full border-collapse space-y-1\", head_row: \"flex\", head_cell: \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\", row: \"flex w-full mt-2\", cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\", day: cn(buttonVariants({ variant: \"ghost\" }), \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"), day_range_end: \"day-range-end\", day_selected: \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\", day_today: \"bg-accent text-accent-foreground\", day_outside: \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\", day_disabled: \"text-muted-foreground opacity-50\", day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\", day_hidden: \"invisible\" }, classNames), components: {\n            IconLeft: (_a) => {\n                var { className } = _a, props = __rest(_a, [\"className\"]);\n                return (_jsx(ChevronLeft, Object.assign({ className: cn(\"h-4 w-4\", className) }, props)));\n            },\n            IconRight: (_a) => {\n                var { className } = _a, props = __rest(_a, [\"className\"]);\n                return (_jsx(ChevronRight, Object.assign({ className: cn(\"h-4 w-4\", className) }, props)));\n            },\n        } }, props)));\n}\nCalendar.displayName = \"Calendar\";\nexport { Calendar };\n","size_bytes":3090},"client/src/pages/not-found.js":{"content":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\nexport default function NotFound() {\n    return (_jsx(\"div\", { className: \"min-h-screen w-full flex items-center justify-center bg-gray-50\", children: _jsx(Card, { className: \"w-full max-w-md mx-4\", children: _jsxs(CardContent, { className: \"pt-6\", children: [_jsxs(\"div\", { className: \"flex mb-4 gap-2\", children: [_jsx(AlertCircle, { className: \"h-8 w-8 text-red-500\" }), _jsx(\"h1\", { className: \"text-2xl font-bold text-gray-900\", children: \"404 Page Not Found\" })] }), _jsx(\"p\", { className: \"mt-4 text-sm text-gray-600\", children: \"Did you forget to add the page to the router?\" })] }) }) }));\n}\n","size_bytes":767},"client/src/components/ui/popover.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport { cn } from \"@/lib/utils\";\nconst Popover = PopoverPrimitive.Root;\nconst PopoverTrigger = PopoverPrimitive.Trigger;\nconst PopoverContent = React.forwardRef((_a, ref) => {\n    var { className, align = \"center\", sideOffset = 4 } = _a, props = __rest(_a, [\"className\", \"align\", \"sideOffset\"]);\n    return (_jsx(PopoverPrimitive.Portal, { children: _jsx(PopoverPrimitive.Content, Object.assign({ ref: ref, align: align, sideOffset: sideOffset, className: cn(\"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\", className) }, props)) }));\n});\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\nexport { Popover, PopoverTrigger, PopoverContent };\n","size_bytes":1723},"client/src/components/ui/table.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Table = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", { className: \"relative w-full overflow-auto\", children: _jsx(\"table\", Object.assign({ ref: ref, className: cn(\"w-full caption-bottom text-sm\", className) }, props)) }));\n});\nTable.displayName = \"Table\";\nconst TableHeader = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"thead\", Object.assign({ ref: ref, className: cn(\"[&_tr]:border-b\", className) }, props)));\n});\nTableHeader.displayName = \"TableHeader\";\nconst TableBody = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"tbody\", Object.assign({ ref: ref, className: cn(\"[&_tr:last-child]:border-0\", className) }, props)));\n});\nTableBody.displayName = \"TableBody\";\nconst TableFooter = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"tfoot\", Object.assign({ ref: ref, className: cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className) }, props)));\n});\nTableFooter.displayName = \"TableFooter\";\nconst TableRow = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"tr\", Object.assign({ ref: ref, className: cn(\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\", className) }, props)));\n});\nTableRow.displayName = \"TableRow\";\nconst TableHead = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"th\", Object.assign({ ref: ref, className: cn(\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\", className) }, props)));\n});\nTableHead.displayName = \"TableHead\";\nconst TableCell = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"td\", Object.assign({ ref: ref, className: cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className) }, props)));\n});\nTableCell.displayName = \"TableCell\";\nconst TableCaption = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"caption\", Object.assign({ ref: ref, className: cn(\"mt-4 text-sm text-muted-foreground\", className) }, props)));\n});\nTableCaption.displayName = \"TableCaption\";\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption, };\n","size_bytes":3138},"server/aiLocator.ts":{"content":"import OpenAI from \"openai\";\n\nconst openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n\nasync function findElementWithAI(intent: string, elements: ElementContext[]): Promise<ElementContext> {\n  // 1. Get embeddings for intent\n  const intentEmbedding = await openai.embeddings.create({\n    model: \"text-embedding-3-small\",\n    input: intent,\n  });\n\n  // 2. Get embeddings for each element's text\n  const elementTexts = elements.map(el => \n    `${el.text} ${el.ariaLabel || ''} ${el.placeholder || ''} ${el.name || ''}`\n  );\n\n  const elementEmbeddings = await Promise.all(\n    elementTexts.map(text => \n      openai.embeddings.create({ model: \"text-embedding-3-small\", input: text })\n    )\n  );\n\n  // 3. Calculate cosine similarity\n  function cosineSimilarity(a: number[], b: number[]): number {\n    const dotProduct = a.reduce((sum, val, i) => sum + val * b[i], 0);\n    const magA = Math.sqrt(a.reduce((sum, val) => sum + val * val, 0));\n    const magB = Math.sqrt(b.reduce((sum, val) => sum + val * val, 0));\n    return dotProduct / (magA * magB);\n  }\n\n  // 4. Find best match\n  const scores = elementEmbeddings.map((emb, i) => ({\n    element: elements[i],\n    score: cosineSimilarity(\n      intentEmbedding.data[0].embedding,\n      emb.data[0].embedding\n    )\n  }));\n\n  return scores.sort((a, b) => b.score - a.score)[0].element;\n}\n","size_bytes":1343},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/lib/utils.js":{"content":"import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nexport function cn(...inputs) {\n    return twMerge(clsx(inputs));\n}\n","size_bytes":139},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"server/promptMatcher.ts":{"content":"import type { WebsiteAnalysis } from \"@shared/schema\";\n\nexport interface MatchedElement {\n  element: any;\n  matchScore: number;\n  matchReason: string;\n}\n\n/**\n * Match user prompt keywords to scraped elements\n */\nexport function matchPromptToElements(\n  prompt: string,\n  analysis: WebsiteAnalysis\n): {\n  fields: MatchedElement[];\n  buttons: MatchedElement[];\n  allMatches: MatchedElement[];\n} {\n  const promptLower = prompt.toLowerCase();\n  const keywords = extractKeywords(promptLower);\n  \n  console.log(`[PromptMatcher] Keywords:`, keywords);\n  \n  const allMatches: MatchedElement[] = [];\n  \n  for (const el of analysis.allInteractive || []) {\n    const score = calculateMatchScore(el, keywords, promptLower);\n    if (score > 0) {\n      allMatches.push({\n        element: el,\n        matchScore: score,\n        matchReason: `${el.tag}[${el.name || el.placeholder || el.text}]`,\n      });\n    }\n  }\n  \n  allMatches.sort((a, b) => b.matchScore - a.matchScore);\n  \n  const fields = allMatches.filter(m => ['input', 'textarea', 'select'].includes(m.element.tag));\n  const buttons = allMatches.filter(m => ['button', 'a'].includes(m.element.tag) || m.element.type === 'submit');\n  \n  console.log(`[PromptMatcher] ${fields.length} fields, ${buttons.length} buttons`);\n  \n  return { fields, buttons, allMatches };\n}\n\nfunction extractKeywords(prompt: string): string[] {\n  const keywords: string[] = [];\n  const fillPattern = /(?:fill|enter|type)\\s+(?:the\\s+)?([a-z]+)/gi;\n  const clickPattern = /(?:click|press|tap)\\s+(?:the\\s+)?([a-z]+)/gi;\n  \n  let match;\n  while ((match = fillPattern.exec(prompt)) !== null) keywords.push(match[1].toLowerCase());\n  while ((match = clickPattern.exec(prompt)) !== null) keywords.push(match[1].toLowerCase());\n  \n  ['username', 'password', 'email', 'login', 'submit', 'search'].forEach(field => {\n    if (prompt.includes(field)) keywords.push(field);\n  });\n  \n  return [...new Set(keywords)];\n}\n\nfunction calculateMatchScore(element: any, keywords: string[], prompt: string): number {\n  let score = 0;\n  const text = (element.text || '').toLowerCase();\n  const placeholder = (element.placeholder || '').toLowerCase();\n  const name = (element.name || '').toLowerCase();\n  const id = (element.id || '').toLowerCase();\n  \n  for (const keyword of keywords) {\n    if (placeholder === keyword) score += 90;\n    if (name === keyword) score += 85;\n    if (placeholder.includes(keyword)) score += 45;\n    if (name.includes(keyword)) score += 40;\n    if (text.includes(keyword)) score += 30;\n    if (id.includes(keyword)) score += 25;\n  }\n  \n  return score;\n}\n","size_bytes":2580},"replit.md":{"content":"# AI Test Case Generator\n\nAn AI-powered application that automatically generates comprehensive test cases for any website using advanced AI analysis.\n\n## Overview\n\nThis application allows users to:\n- Enter any website URL\n- Provide custom testing instructions\n- Get AI-generated comprehensive test cases including:\n  - UI/UX tests\n  - Form validation tests\n  - Navigation tests\n  - End-to-end user flows\n  - Automated Playwright test code\n\n## Tech Stack\n\n### Frontend\n- React with TypeScript\n- Tailwind CSS for styling\n- Shadcn UI components\n- TanStack Query for data fetching\n- Wouter for routing\n- React Hook Form with Zod validation\n\n### Backend\n- Express.js server\n- OpenAI GPT-5 for AI-powered test case generation\n- Cheerio for web scraping and HTML parsing\n- Axios for HTTP requests\n\n## Project Structure\n\n```\n├── client/\n│   ├── src/\n│   │   ├── components/\n│   │   │   └── TestCaseGenerator.tsx  # Main component\n│   │   ├── pages/\n│   │   │   └── Home.tsx               # Home page\n│   │   └── App.tsx                    # App routing\n├── server/\n│   ├── routes.ts                      # API endpoints\n│   ├── scraper.ts                     # Web scraping logic\n│   ├── testCaseGenerator.ts          # AI test generation\n│   └── openai.ts                      # OpenAI client\n├── shared/\n│   └── schema.ts                      # Shared TypeScript schemas\n└── design_guidelines.md               # UI/UX design guidelines\n```\n\n## Features\n\n1. **Website Analysis**: Automatically scrapes and analyzes website structure including:\n   - Page title and description\n   - Navigation links\n   - Forms and input fields\n   - Buttons and interactive elements\n   - Internal links\n\n2. **AI-Powered Test Generation**: Uses OpenAI GPT-5 to generate:\n   - Comprehensive test cases\n   - Test steps and expected results\n   - Playwright automation code\n   - Test categorization (UI, API, E2E, etc.)\n   - Priority levels (High, Medium, Low)\n\n3. **Beautiful UI**: \n   - Clean, professional design following Linear/Material Design principles\n   - Responsive layout for all screen sizes\n   - Interactive test case cards with expand/collapse\n   - Syntax-highlighted code blocks\n   - Copy and download functionality\n\n4. **Export Options**:\n   - Copy individual test cases to clipboard\n   - Download all test cases as Markdown file\n   - Includes Playwright code for automation\n\n## API Endpoints\n\n### POST /api/generate-test-cases\nGenerates test cases for a given website URL and user prompt.\n\n**Request Body:**\n```json\n{\n  \"url\": \"https://example.com\",\n  \"prompt\": \"Test all form validations and user login flow\"\n}\n```\n\n**Response:**\n```json\n{\n  \"analysis\": { ... },\n  \"testCases\": [ ... ],\n  \"summary\": {\n    \"totalTests\": 10,\n    \"byType\": { \"UI\": 5, \"E2E\": 3, \"API\": 2 },\n    \"coverageAreas\": [\"Forms\", \"Navigation\", \"Authentication\"]\n  }\n}\n```\n\n## Environment Variables\n\n- `OPENAI_API_KEY`: Required for AI test case generation\n- `SESSION_SECRET`: Used for session management\n\n## Running the Application\n\nThe application runs on a single port with both frontend and backend:\n- Frontend: Vite development server\n- Backend: Express.js API server\n- Command: `npm run dev`\n\n## Design Philosophy\n\n- **Developer-focused**: Clean, efficient interface for technical users\n- **Information hierarchy**: Clear separation between input, processing, and results\n- **Accessibility**: Proper ARIA labels, keyboard navigation, focus indicators\n- **Professional polish**: Subtle animations, consistent spacing, proper typography\n","size_bytes":3625},"client/src/components/ui/card.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Card = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\", className) }, props)));\n});\nCard.displayName = \"Card\";\nconst CardHeader = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"flex flex-col space-y-1.5 p-6\", className) }, props)));\n});\nCardHeader.displayName = \"CardHeader\";\nconst CardTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"text-2xl font-semibold leading-none tracking-tight\", className) }, props)));\n});\nCardTitle.displayName = \"CardTitle\";\nconst CardDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nCardDescription.displayName = \"CardDescription\";\nconst CardContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"p-6 pt-0\", className) }, props)));\n});\nCardContent.displayName = \"CardContent\";\nconst CardFooter = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"flex items-center p-6 pt-0\", className) }, props)));\n});\nCardFooter.displayName = \"CardFooter\";\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent, };\n","size_bytes":2409},"client/src/components/ui/dropdown-menu.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst DropdownMenu = DropdownMenuPrimitive.Root;\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\nconst DropdownMenuSubTrigger = React.forwardRef((_a, ref) => {\n    var { className, inset, children } = _a, props = __rest(_a, [\"className\", \"inset\", \"children\"]);\n    return (_jsxs(DropdownMenuPrimitive.SubTrigger, Object.assign({ ref: ref, className: cn(\"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", inset && \"pl-8\", className) }, props, { children: [children, _jsx(ChevronRight, { className: \"ml-auto\" })] })));\n});\nDropdownMenuSubTrigger.displayName =\n    DropdownMenuPrimitive.SubTrigger.displayName;\nconst DropdownMenuSubContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DropdownMenuPrimitive.SubContent, Object.assign({ ref: ref, className: cn(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\", className) }, props)));\n});\nDropdownMenuSubContent.displayName =\n    DropdownMenuPrimitive.SubContent.displayName;\nconst DropdownMenuContent = React.forwardRef((_a, ref) => {\n    var { className, sideOffset = 4 } = _a, props = __rest(_a, [\"className\", \"sideOffset\"]);\n    return (_jsx(DropdownMenuPrimitive.Portal, { children: _jsx(DropdownMenuPrimitive.Content, Object.assign({ ref: ref, sideOffset: sideOffset, className: cn(\"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\", className) }, props)) }));\n});\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\nconst DropdownMenuItem = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(DropdownMenuPrimitive.Item, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", inset && \"pl-8\", className) }, props)));\n});\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\nconst DropdownMenuCheckboxItem = React.forwardRef((_a, ref) => {\n    var { className, children, checked } = _a, props = __rest(_a, [\"className\", \"children\", \"checked\"]);\n    return (_jsxs(DropdownMenuPrimitive.CheckboxItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className), checked: checked }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(DropdownMenuPrimitive.ItemIndicator, { children: _jsx(Check, { className: \"h-4 w-4\" }) }) }), children] })));\n});\nDropdownMenuCheckboxItem.displayName =\n    DropdownMenuPrimitive.CheckboxItem.displayName;\nconst DropdownMenuRadioItem = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(DropdownMenuPrimitive.RadioItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className) }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(DropdownMenuPrimitive.ItemIndicator, { children: _jsx(Circle, { className: \"h-2 w-2 fill-current\" }) }) }), children] })));\n});\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\nconst DropdownMenuLabel = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(DropdownMenuPrimitive.Label, Object.assign({ ref: ref, className: cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className) }, props)));\n});\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\nconst DropdownMenuSeparator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DropdownMenuPrimitive.Separator, Object.assign({ ref: ref, className: cn(\"-mx-1 my-1 h-px bg-muted\", className) }, props)));\n});\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\nconst DropdownMenuShortcut = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"span\", Object.assign({ className: cn(\"ml-auto text-xs tracking-widest opacity-60\", className) }, props)));\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\nexport { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuCheckboxItem, DropdownMenuRadioItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuShortcut, DropdownMenuGroup, DropdownMenuPortal, DropdownMenuSub, DropdownMenuSubContent, DropdownMenuSubTrigger, DropdownMenuRadioGroup, };\n","size_bytes":7227},"client/src/components/ui/toggle-group.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\";\nimport { cn } from \"@/lib/utils\";\nimport { toggleVariants } from \"@/components/ui/toggle\";\nconst ToggleGroupContext = React.createContext({\n    size: \"default\",\n    variant: \"default\",\n});\nconst ToggleGroup = React.forwardRef((_a, ref) => {\n    var { className, variant, size, children } = _a, props = __rest(_a, [\"className\", \"variant\", \"size\", \"children\"]);\n    return (_jsx(ToggleGroupPrimitive.Root, Object.assign({ ref: ref, className: cn(\"flex items-center justify-center gap-1\", className) }, props, { children: _jsx(ToggleGroupContext.Provider, { value: { variant, size }, children: children }) })));\n});\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;\nconst ToggleGroupItem = React.forwardRef((_a, ref) => {\n    var { className, children, variant, size } = _a, props = __rest(_a, [\"className\", \"children\", \"variant\", \"size\"]);\n    const context = React.useContext(ToggleGroupContext);\n    return (_jsx(ToggleGroupPrimitive.Item, Object.assign({ ref: ref, className: cn(toggleVariants({\n            variant: context.variant || variant,\n            size: context.size || size,\n        }), className) }, props, { children: children })));\n});\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;\nexport { ToggleGroup, ToggleGroupItem };\n","size_bytes":1931},"client/src/components/TestCaseGenerator.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Loader2, Globe, ChevronDown, ChevronUp, PlayCircle, CheckCircle, XCircle } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../components/ui/card\";\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"../components/ui/input\";\nimport { Textarea } from \"../components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { GenerateTestCasesRequest, TestCaseGenerationResponse, WebsiteAnalysis } from \"../../../shared/schema\";\nimport { generateTestCasesRequestSchema } from \"../../../shared/schema\";\n\nexport default function TestCaseGenerator() {\n\tconst [scrapedAnalysis, setScrapedAnalysis] = useState<WebsiteAnalysis | null>(null);\n\tconst [generatedData, setGeneratedData] = useState<TestCaseGenerationResponse | null>(null);\n\tconst [expandedTestCase, setExpandedTestCase] = useState<string | null>(null);\n\tconst [executing, setExecuting] = useState(false);\n\tconst [executionResults, setExecutionResults] = useState<any>(null);\n\tconst [analysisSummary, setAnalysisSummary] = useState<any | null>(null);\n\tconst { toast } = useToast();\n\tconst form = useForm<GenerateTestCasesRequest>({\n\t\tresolver: zodResolver(generateTestCasesRequestSchema),\n\t\tdefaultValues: { url: \"\", prompt: \"\" },\n\t});\n\n\t// NEW: preview screenshot state\n\tconst [previewHtml, setPreviewHtml] = useState<string | null>(null);\n\tconst [previewBlobUrl, setPreviewBlobUrl] = useState<string | null>(null); // NEW\n\tconst [previewLoading, setPreviewLoading] = useState<boolean>(false);\n\tconst [previewError, setPreviewError] = useState<string | null>(null);\n\tconst iframeRef = useRef<HTMLIFrameElement>(null);\n\n\t// Scrape with prompt\n\tconst scrapeMutation = useMutation({\n\t\tmutationFn: async ({ url, prompt }: { url: string; prompt: string }) => {\n\t\t\tconst response = await apiRequest(\"POST\", \"/api/scrape-website\", { url, prompt });\n\t\t\treturn await response.json() as WebsiteAnalysis;\n\t\t},\n\t\tonSuccess: (data: WebsiteAnalysis) => {\n\t\t\tsetScrapedAnalysis(data);\n\t\t\t// generate a human readable summary and log it\n\t\t\tconst summary = generateAnalysisSummary(data);\n\t\t\tsetAnalysisSummary(summary);\n\t\t\tconsole.groupCollapsed('Site Analysis Summary');\n\t\t\tconsole.log('URL:', data.url);\n\t\t\tif ((data as any).title) console.log('Title:', (data as any).title);\n\t\t\tconsole.log('Interactive elements:', data.allInteractive?.length || 0);\n\t\t\tconsole.log('Top fields/buttons:', summary.topFields, summary.topButtons);\n\t\t\tconsole.log('Suggested flows:', summary.suggestedFlows);\n\t\t\tconsole.log('Full analysis object:', data);\n\t\t\tconsole.groupEnd();\n\n\t\t\ttoast({\n\t\t\t\ttitle: \"✓ XPaths scraped!\",\n\t\t\t\tdescription: `Found ${data.forms?.reduce((sum: number, f: any) => sum + (Array.isArray(f?.fields) ? f.fields.length : 0), 0) || 0} fields, ${data.buttonsWithSelectors?.length || 0} buttons`,\n\t\t\t});\n\t\t},\n\t\tonError: (error: Error) => {\n\t\t\ttoast({ title: \"Scraping failed\", description: error.message, variant: \"destructive\" });\n\t\t},\n\t});\n\n\t// Generate test cases\n\tconst generateMutation = useMutation({\n\t\tmutationFn: async (data: GenerateTestCasesRequest) => {\n\t\t\tconst response = await apiRequest(\"POST\", \"/api/generate-test-cases\", data);\n\t\t\treturn await response.json() as TestCaseGenerationResponse;\n\t\t},\n\t\tonSuccess: (data: TestCaseGenerationResponse) => {\n\t\t\tsetGeneratedData(data);\n\t\t\ttoast({ title: \"Test cases generated!\", description: `Generated ${data.summary.totalTests} tests` });\n\t\t},\n\t\tonError: (error: Error) => {\n\t\t\ttoast({ title: \"Generation failed\", description: error.message, variant: \"destructive\" });\n\t\t},\n\t});\n\n\t// fetch screenshot without using iframe - Puppeteer on server\n\tconst fetchPreview = async (url: string) => {\n\t\ttry {\n\t\t\tsetPreviewLoading(true);\n\t\t\tsetPreviewHtml(null);\n\t\t\tsetPreviewError(null);\n\t\t\tif (previewBlobUrl) {\n\t\t\t\tURL.revokeObjectURL(previewBlobUrl);\n\t\t\t\tsetPreviewBlobUrl(null);\n\t\t\t}\n\n\t\t\tconsole.log('[Preview] Fetching HTML for:', url);\n\t\t\tconst res = await fetch(\"/api/page-screenshot\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({ url }),\n\t\t\t});\n\n\t\t\tconsole.log('[Preview] Response:', res.status, res.statusText);\n\t\t\t\n\t\t\tif (!res.ok) {\n\t\t\t\tconst errorText = await res.text();\n\t\t\t\tconsole.error('[Preview] Server error:', errorText);\n\t\t\t\tthrow new Error(`Server returned ${res.status}: ${res.statusText}`);\n\t\t\t}\n\n\t\t\tconst contentType = res.headers.get('content-type');\n\t\t\tconsole.log('[Preview] Content-Type:', contentType);\n\n\t\t\tif (!contentType?.includes('text/html')) {\n\t\t\t\tconst text = await res.text();\n\t\t\t\tconsole.error('[Preview] Expected HTML, got:', text.substring(0, 200));\n\t\t\t\tthrow new Error('Server did not return HTML');\n\t\t\t}\n\n\t\t\tconst html = await res.text();\n\t\t\tconsole.log('[Preview] HTML received:', html.length, 'bytes');\n\t\t\t\n\t\t\tif (!html || html.length < 50) {\n\t\t\t\tthrow new Error('Received empty or invalid HTML');\n\t\t\t}\n\n\t\t\tsetPreviewHtml(html);\n\n\t\t\t// Create a blob URL for iframe src\n\t\t\tconst blob = new Blob([html], { type: \"text/html; charset=utf-8\" });\n\t\t\tconst objUrl = URL.createObjectURL(blob);\n\t\t\tsetPreviewBlobUrl(objUrl);\n\t\t\tconsole.log('[Preview] ✓ Blob URL created:', objUrl);\n\t\t} catch (e: any) {\n\t\t\tconsole.error('[Preview] Error:', e);\n\t\t\tsetPreviewError(e?.message || \"Failed to load preview\");\n\t\t\ttoast({\n\t\t\t\ttitle: \"Preview failed\",\n\t\t\t\tdescription: e?.message || \"Could not load live preview. Check console for details.\",\n\t\t\t\tvariant: \"destructive\"\n\t\t\t});\n\t\t} finally {\n\t\t\tsetPreviewLoading(false);\n\t\t}\n\t};\n\n\t// Auto-load preview after scraping succeeds\n\tuseEffect(() => {\n\t\tif (scrapedAnalysis?.url) {\n\t\t\tfetchPreview(scrapedAnalysis.url);\n\t\t}\n\t\treturn () => {\n\t\t\tif (previewBlobUrl) URL.revokeObjectURL(previewBlobUrl);\n\t\t\tsetPreviewHtml(null);\n\t\t\tsetPreviewBlobUrl(null);\n\t\t};\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [scrapedAnalysis?.url]);\n\n\tconst handleScrapeAndGenerate = () => {\n\t\tconst url = form.getValues(\"url\");\n\t\tconst prompt = form.getValues(\"prompt\");\n\t\tif (!url || !prompt) {\n\t\t\ttoast({ title: \"Enter URL and prompt\", variant: \"destructive\" });\n\t\t\treturn;\n\t\t}\n\t\t// First scrape\n\t\tscrapeMutation.mutate({ url, prompt });\n\t};\n\n\tconst handleGenerate = () => {\n\t\tconst url = form.getValues(\"url\");\n\t\tconst prompt = form.getValues(\"prompt\");\n\t\tif (!url || !prompt) {\n\t\t\ttoast({ title: \"Enter URL and prompt\", variant: \"destructive\" });\n\t\t\treturn;\n\t\t}\n\t\tgenerateMutation.mutate({ url, prompt });\n\t};\n\n\t// Execute test cases\n\tconst executeTestCases = async () => {\n\t\tif (!generatedData || !form.getValues(\"url\")) {\n\t\t\ttoast({ title: \"No test cases to execute\", variant: \"destructive\" });\n\t\t\treturn;\n\t\t}\n\n\t\tsetExecuting(true);\n\t\tsetExecutionResults(null);\n\n\t\ttry {\n\t\t\t// Extract steps from test cases\n\t\t\tconst allSteps = generatedData.testCases.flatMap((tc: typeof generatedData.testCases[number]) => tc.steps);\n\t\t\t\n\t\t\tconst res = await fetch(\"/api/execute-test-flow\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\turl: form.getValues(\"url\"),\n\t\t\t\t\tsteps: allSteps\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tif (!res.ok) throw new Error(\"Execution failed\");\n\n\t\t\tconst data = await res.json();\n\t\t\tsetExecutionResults(data);\n\n\t\t\ttoast({\n\t\t\t\ttitle: data.success ? \"✓ Test execution completed\" : \"⚠ Some tests failed\",\n\t\t\t\tdescription: `${data.summary.successful}/${data.summary.total} steps succeeded`,\n\t\t\t});\n\t\t} catch (error: any) {\n\t\t\ttoast({\n\t\t\t\ttitle: \"Execution error\",\n\t\t\t\tdescription: error.message,\n\t\t\t\tvariant: \"destructive\",\n\t\t\t});\n\t\t} finally {\n\t\t\tsetExecuting(false);\n\t\t}\n\t};\n\n\t// Execute test cases DIRECTLY on the live preview iframe\n\tconst executeTestCasesOnPreview = async () => {\n\t\tif (!generatedData || !iframeRef.current) {\n\t\t\ttoast({ title: \"No test cases to execute or preview not loaded\", variant: \"destructive\" });\n\t\t\treturn;\n\t\t}\n\n\t\tsetExecuting(true);\n\t\tsetExecutionResults(null);\n\n\t\ttry {\n\t\t\tconst iframe = iframeRef.current;\n\t\t\tconst iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;\n\t\t\t\n\t\t\tif (!iframeDoc) {\n\t\t\t\tthrow new Error(\"Cannot access iframe content\");\n\t\t\t}\n\n\t\t\tconst allSteps = generatedData.testCases.flatMap((tc: typeof generatedData.testCases[number]) => tc.steps);\n\t\t\tconst results = [];\n\n\t\t\tfor (let i = 0; i < allSteps.length; i++) {\n\t\t\t\tconst step = allSteps[i];\n\t\t\t\tconst startTime = Date.now();\n\n\t\t\t\ttry {\n\t\t\t\t\tconst fillMatch = step.match(/(?:fill|enter|type)\\s+[\"']?([^\"']+?)[\"']?\\s+(?:with\\s+)?[\"']?([^\"']+)[\"']?/i);\n\t\t\t\t\tconst clickMatch = step.match(/click\\s+[\"']?([^\"']+)[\"']?/i);\n\n\t\t\t\t\tlet success = false;\n\t\t\t\t\tlet selector = '';\n\t\t\t\t\tlet reasoning = '';\n\n\t\t\t\t\tif (fillMatch) {\n\t\t\t\t\t\tconst fieldName = fillMatch[1].trim().toLowerCase();\n\t\t\t\t\t\tconst value = fillMatch[2]?.trim() || 'test_value';\n\n\t\t\t\t\t\t// Try to match by placeholder, name, id, aria-label, label text\n\t\t\t\t\t\tconst inputs = Array.from(iframeDoc.querySelectorAll('input, textarea'));\n\t\t\t\t\t\tconst targetInput = inputs.find(el => {\n\t\t\t\t\t\t\tconst htmlEl = el as HTMLInputElement;\n\t\t\t\t\t\t\tconst text = [\n\t\t\t\t\t\t\t\thtmlEl.placeholder,\n\t\t\t\t\t\t\t\thtmlEl.name,\n\t\t\t\t\t\t\t\thtmlEl.id,\n\t\t\t\t\t\t\t\thtmlEl.getAttribute('aria-label'),\n\t\t\t\t\t\t\t].filter(Boolean).map(s => s!.toLowerCase()).join(' ');\n\t\t\t\t\t\t\treturn text.includes(fieldName);\n\t\t\t\t\t\t}) as HTMLInputElement;\n\n\t\t\t\t\t\tif (targetInput) {\n\t\t\t\t\t\t\thighlightElement(targetInput, iframeDoc);\n\t\t\t\t\t\t\ttargetInput.value = value;\n\t\t\t\t\t\t\ttargetInput.dispatchEvent(new Event('input', { bubbles: true }));\n\t\t\t\t\t\t\ttargetInput.dispatchEvent(new Event('change', { bubbles: true }));\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tselector = targetInput.name ? `input[name=\"${targetInput.name}\"]` : targetInput.id ? `#${targetInput.id}` : targetInput.tagName.toLowerCase();\n\t\t\t\t\t\t\treasoning = `Filled \"${fieldName}\" with \"${value}\"`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treasoning = `Field \"${fieldName}\" not found`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (clickMatch) {\n\t\t\t\t\t\tconst buttonName = clickMatch[1].trim().toLowerCase();\n\n\t\t\t\t\t\t// Try to match by text, value, aria-label, title\n\t\t\t\t\t\tconst buttons = Array.from(iframeDoc.querySelectorAll('button, a, input[type=\"submit\"], [role=\"button\"]'));\n\t\t\t\t\t\tconst targetButton = buttons.find(el => {\n\t\t\t\t\t\t\tconst text = [\n\t\t\t\t\t\t\t\tel.textContent,\n\t\t\t\t\t\t\t\tel.getAttribute('value'),\n\t\t\t\t\t\t\t\tel.getAttribute('aria-label'),\n\t\t\t\t\t\t\t\tel.getAttribute('title'),\n\t\t\t\t\t\t\t].filter(Boolean).map(s => s!.toLowerCase()).join(' ');\n\t\t\t\t\t\t\treturn text.includes(buttonName);\n\t\t\t\t\t\t}) as HTMLElement;\n\n\t\t\t\t\t\tif (targetButton) {\n\t\t\t\t\t\t\thighlightElement(targetButton, iframeDoc);\n\t\t\t\t\t\t\ttargetButton.click();\n\t\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t\t\tselector = targetButton.id ? `#${targetButton.id}` : targetButton.tagName.toLowerCase();\n\t\t\t\t\t\t\treasoning = `Clicked \"${buttonName}\"`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treasoning = `Button \"${buttonName}\" not found`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresults.push({\n\t\t\t\t\t\tstep: i + 1,\n\t\t\t\t\t\tinstruction: step,\n\t\t\t\t\t\tsuccess,\n\t\t\t\t\t\treasoning,\n\t\t\t\t\t\tselector,\n\t\t\t\t\t\tduration: Date.now() - startTime\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!success) break;\n\n\t\t\t\t\t// Wait between actions\n\t\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 500));\n\n\t\t\t\t} catch (error: any) {\n\t\t\t\t\tresults.push({\n\t\t\t\t\t\tstep: i + 1,\n\t\t\t\t\t\tinstruction: step,\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\treasoning: `Error: ${error.message}`,\n\t\t\t\t\t\tselector: '',\n\t\t\t\t\t\tduration: Date.now() - startTime\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take screenshot of iframe\n\t\t\tlet screenshot = '';\n\t\t\ttry {\n\t\t\t\tscreenshot = 'Screenshot not available for cross-origin content';\n\t\t\t} catch (e) {\n\t\t\t\tscreenshot = 'Screenshot failed';\n\t\t\t}\n\n\t\t\tconst successCount = results.filter(r => r.success).length;\n\n\t\t\tsetExecutionResults({\n\t\t\t\tsuccess: results.every(r => r.success),\n\t\t\t\tresults,\n\t\t\t\tsummary: {\n\t\t\t\t\ttotal: results.length,\n\t\t\t\t\tsuccessful: successCount,\n\t\t\t\t\tfailed: results.length - successCount,\n\t\t\t\t\ttotalDuration: results.reduce((sum, r) => sum + r.duration, 0)\n\t\t\t\t},\n\t\t\t\tscreenshot\n\t\t\t});\n\n\t\t\ttoast({\n\t\t\t\ttitle: successCount === results.length ? \"✓ All steps passed\" : \"⚠ Some steps failed\",\n\t\t\t\tdescription: `${successCount}/${results.length} steps succeeded`,\n\t\t\t});\n\n\t\t} catch (error: any) {\n\t\t\ttoast({\n\t\t\t\ttitle: \"Execution error\",\n\t\t\t\tdescription: error.message,\n\t\t\t\tvariant: \"destructive\",\n\t\t\t});\n\t\t} finally {\n\t\t\tsetExecuting(false);\n\t\t}\n\t};\n\n\t// Highlight element in iframe\n\tconst highlightElement = (element: Element, doc: Document) => {\n\t\t// Remove previous highlight\n\t\tconst existing = doc.getElementById('ai-test-highlight');\n\t\tif (existing) existing.remove();\n\n\t\t// Add highlight\n\t\tconst rect = element.getBoundingClientRect();\n\t\tconst highlight = doc.createElement('div');\n\t\thighlight.id = 'ai-test-highlight';\n\t\thighlight.style.cssText = `\n\t\t\tposition: fixed;\n\t\t\tleft: ${rect.left}px;\n\t\t\ttop: ${rect.top}px;\n\t\t\twidth: ${rect.width}px;\n\t\t\theight: ${rect.height}px;\n\t\t\tborder: 3px solid #22c55e;\n\t\t\tbackground: rgba(34, 197, 94, 0.2);\n\t\t\tpointer-events: none;\n\t\t\tz-index: 999999;\n\t\t\ttransition: all 0.3s;\n\t\t`;\n\t\tdoc.body.appendChild(highlight);\n\n\t\t// Scroll to element\n\t\telement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\t};\n\n\t// helper: produce a small human-friendly summary and suggested flows\n\tfunction generateAnalysisSummary(analysis: WebsiteAnalysis) {\n\t\tconst fields = (analysis.allInteractive || []).filter((e: any) => ['input','textarea','select'].includes(e.tag));\n\t\tconst buttons = (analysis.allInteractive || []).filter((e: any) => ['button','a'].includes(e.tag) || (e.type && e.type.toLowerCase() === 'submit'));\n\t\t// detect username/password fields heuristically, check friendlyName first\n\t\tconst username = fields.find((f: any) => {\n\t\t\tconst label = (f as any).friendlyName || f.name || f.id || f.placeholder || f.text || '';\n\t\t\treturn label.toLowerCase().includes('user') || label.toLowerCase().includes('email') || (f.name || '').toLowerCase().includes('user');\n\t\t});\n\t\tconst password = fields.find((f: any) => {\n\t\t\tconst label = (f as any).friendlyName || f.name || f.id || f.placeholder || f.text || '';\n\t\t\treturn label.toLowerCase().includes('pass') || (f.name || '').toLowerCase().includes('pass');\n\t\t});\n\t\tconst submitBtn = buttons.find((b: any) => {\n\t\t\tconst label = (b as any).friendlyName || b.text || b.id || b.name || '';\n\t\t\treturn label.toLowerCase().includes('submit') || label.toLowerCase().includes('login') || (b.selectors || []).some((s:any) => s.includes('submit') || s.includes('login'));\n\t\t});\n\t\tconst topFields = fields.slice(0,6).map((f: any) => ({ name: (f as any).friendlyName || f.name || f.placeholder || f.id || f.text, selectors: f.selectors, xpath: (f as any).xpath || (f as any).xpathCandidates?.[0] }));\n\t\tconst topButtons = buttons.slice(0,6).map((b: any) => ({ text: (b as any).friendlyName || b.text || b.name || b.id, selectors: b.selectors, xpath: (b as any).xpath || (b as any).xpathCandidates?.[0] }));\n\t\tconst suggestedFlows: string[] = [];\n\t\tif (username && password && submitBtn) {\n\t\t\tsuggestedFlows.push(`Login flow: Fill \"${username.name||username.placeholder||username.id}\" -> Fill \"${password.name||password.placeholder||password.id}\" -> Click \"${submitBtn.text||submitBtn.id||'submit'}\"`);\n\t\t}\n\t\tif (fields.length) suggestedFlows.push(`Form tests: ${fields.length} input fields detected - validate required, invalid/valid inputs`);\n\t\tif (buttons.length) suggestedFlows.push(`Navigation tests: ${buttons.length} clickable elements detected`);\n\t\treturn {\n\t\t\ttitle: (analysis as any).title || null,\n\t\t\tinteractiveCount: (analysis.allInteractive || []).length,\n\t\t\ttopFields,\n\t\t\ttopButtons,\n\t\t\tusernameField: username ? (username.name||username.id||username.placeholder) : null,\n\t\t\tpasswordField: password ? (password.name||password.id||password.placeholder) : null,\n\t\t\tsubmitButton: submitBtn ? (submitBtn.text||submitBtn.id||submitBtn.selectors?.[0]) : null,\n\t\t\tsuggestedFlows\n\t\t};\n\t}\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-background p-4\">\n\t\t\t<div className=\"max-w-[98vw] mx-auto\">\n\t\t\t\t<div className=\"mb-4 text-center\">\n\t\t\t\t\t<h1 className=\"text-3xl font-bold mb-2\">AI Test Case Generator</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground\">Enter URL and instructions to scrape XPaths and generate test cases</p>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Two-column layout: 40% LEFT (all controls + results), 60% RIGHT (preview only) */}\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-[40%_60%] gap-4\">\n\t\t\t\t\t{/* LEFT COLUMN: 40% - All Inputs, Test Cases, and Results */}\n\t\t\t\t\t<div className=\"space-y-4 overflow-y-auto max-h-[calc(100vh-8rem)]\">\n\t\t\t\t\t\t{/* Input Card */}\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Website & Instructions</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">Enter the URL and describe what you want to test</CardDescription>\n\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-medium\">Website URL</label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"https://example.com/login\"\n\t\t\t\t\t\t\t\t\t\tvalue={form.watch(\"url\")}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => form.setValue(\"url\", e.target.value)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-medium\">Testing Instructions</label>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"e.g., Fill username and password, then click Login button\"\n\t\t\t\t\t\t\t\t\t\tvalue={form.watch(\"prompt\")}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => form.setValue(\"prompt\", e.target.value)}\n\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<p className=\"text-[10px] text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tMention fields (username, password) and buttons (login, submit) you want to test\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<Button onClick={handleScrapeAndGenerate} disabled={scrapeMutation.isPending} className=\"flex-1 text-xs h-9\">\n\t\t\t\t\t\t\t\t\t\t{scrapeMutation.isPending ? <><Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />Scraping...</> : \"1. Scrape\"}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button onClick={handleGenerate} disabled={!scrapedAnalysis || generateMutation.isPending} variant=\"secondary\" className=\"flex-1 text-xs h-9\">\n\t\t\t\t\t\t\t\t\t\t{generateMutation.isPending ? <><Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />Generating...</> : \"2. Generate\"}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t{/* Scraped XPaths Card */}\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Scraped Elements</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t{scrapedAnalysis ? \n\t\t\t\t\t\t\t\t\t\t`${(scrapedAnalysis.allInteractive || []).filter((e: any) => ['input','textarea','select'].includes(e.tag)).length} fields, ${(scrapedAnalysis.allInteractive || []).filter((e: any) => ['button','a'].includes(e.tag) || (e.type && e.type.toLowerCase() === 'submit')).length} buttons` \n\t\t\t\t\t\t\t\t\t\t: 'Waiting for scrape...'}\n\t\t\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t{!scrapedAnalysis && <div className=\"text-xs text-muted-foreground text-center py-4\">Enter URL and prompt, then click \"Scrape\"</div>}\n\t\t\t\t\t\t\t\t{scrapedAnalysis && (\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n\t\t\t\t\t\t\t\t\t\t{/* If explicit forms exist show them, otherwise show derived interactive elements */}\n\t\t\t\t\t\t\t\t\t\t{(scrapedAnalysis.forms && scrapedAnalysis.forms.length > 0) ? (\n\t\t\t\t\t\t\t\t\t\t\tscrapedAnalysis.forms.map((form: { name: string; fields: Array<{ name: string; type: string; selectors?: string[]; xpath?: string }> }, fi: number) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={fi}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-semibold text-xs mb-1\">📝 {form.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{form.fields.map((field, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"ml-3 mb-1.5 text-[11px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium\">{field.name} ({field.type})</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<code className=\"text-[9px] bg-muted px-1 rounded block mt-0.5 truncate\">{field.selectors?.[0] || field.xpath || '—'}</code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t// Fallback listing from allInteractive\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{(scrapedAnalysis.allInteractive || []).slice(0, 40).map((el: any, i: number) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"flex items-center justify-between text-[11px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium truncate\">{el.tag}{el.friendlyName ? ` — ${String(el.friendlyName).trim().slice(0,60)}` : el.text ? ` — ${String(el.text).trim().slice(0,60)}` : ''}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[9px] text-muted-foreground mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{el.friendlyName ? `label=${el.friendlyName} ` : ''}{el.name ? `name=${el.name} ` : ''}{el.id ? `id=${el.id} ` : ''}{el.ariaLabel ? `aria=${el.ariaLabel}` : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-3 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<code className=\"text-[9px] bg-muted px-1 rounded truncate block max-w-[140px]\">\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(el.selectors && el.selectors[0]) || (el as any).xpath || '—'}\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(el as any).xpath || (el as any).xpathCandidates?.[0] || (el.selectors && el.selectors[0]) || '—'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t{(scrapedAnalysis.allInteractive || []).length > 40 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[10px] text-muted-foreground\">Showing first 40 of {(scrapedAnalysis.allInteractive || []).length} interactive elements</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t{/* Site Understanding Card (NEW) */}\n\t\t\t\t\t\t{analysisSummary && (\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Site Understanding</CardTitle>\n\t\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">What the analyzer found and suggested flows</CardDescription>\n\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t\t\t<div><strong>Title:</strong> {analysisSummary.title || '—'}</div>\n\t\t\t\t\t\t\t\t\t\t<div><strong>Interactive elements:</strong> {analysisSummary.interactiveCount}</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Top fields:</strong>\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-disc list-inside text-xs mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{analysisSummary.topFields.map((f: any, i:number) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>{f.name} — <code className=\"text-[10px] bg-muted px-1 rounded\">{f.selectors?.[0]}</code></li>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Top buttons:</strong>\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-disc list-inside text-xs mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{analysisSummary.topButtons.map((b: any, i:number) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>{b.text || 'button'} — <code className=\"text-[10px] bg-muted px-1 rounded\">{b.selectors?.[0]}</code></li>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{analysisSummary.suggestedFlows.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Suggested flows:</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<ol className=\"list-decimal list-inside text-xs mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{analysisSummary.suggestedFlows.map((s:string, idx:number) => <li key={idx}>{s}</li>)}\n\t\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2 flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"outline\" onClick={() => console.log('Full analysis:', scrapedAnalysis)}>Print full analysis to console</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(JSON.stringify({analysis: scrapedAnalysis, summary: analysisSummary}, null, 2));\n\t\t\t\t\t\t\t\t\t\t\t\ttoast({ title: 'Copied summary to clipboard' });\n\t\t\t\t\t\t\t\t\t\t\t}}>Copy summary</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Generated Test Cases (Now in Left Column) */}\n\t\t\t\t\t\t{generatedData && (\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Generated Test Cases ({generatedData.summary.totalTests})</CardTitle>\n\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t{generatedData.testCases.map((tc: typeof generatedData.testCases[number]) => (\n\t\t\t\t\t\t\t\t\t\t\t<Card key={tc.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardHeader className=\"pb-2 pt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-xs\">{tc.title}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-1.5 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-[9px] h-4 px-1.5\">{tc.type}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-[9px] h-4 px-1.5\">{tc.priority}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"icon\" variant=\"ghost\" onClick={() => setExpandedTestCase(expandedTestCase === tc.id ? null : tc.id)} className=\"h-6 w-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{expandedTestCase === tc.id ? <ChevronUp className=\"w-3 h-3\" /> : <ChevronDown className=\"w-3 h-3\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t{expandedTestCase === tc.id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardContent className=\"pt-0 pb-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-1.5 text-[10px] mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><strong>Steps:</strong></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ol className=\"list-decimal list-inside space-y-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{tc.steps.map((s: string, i: number) => <li key={i}>{s}</li>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[9px] font-semibold mb-1\">Playwright Code:</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"bg-[#1f2937] text-[#e5e7eb] p-2 rounded text-[9px] overflow-auto max-h-32\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<code>{tc.playwrightCode}</code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Execute Button (Now in Left Column) */}\n\t\t\t\t\t\t{generatedData && (\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Execute Tests</CardTitle>\n\t\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">Run the generated test cases on the live preview</CardDescription>\n\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={executeTestCasesOnPreview}\n\t\t\t\t\t\t\t\t\t\tdisabled={executing || !previewBlobUrl}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full gap-2 h-10\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{executing ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"w-4 h-4 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tExecuting...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<PlayCircle className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t▶️ Execute on Live Preview\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Execution Results (Now in Left Column) */}\n\t\t\t\t\t\t{executionResults && (\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Execution Results</CardTitle>\n\t\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">Test execution completed</CardDescription>\n\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between p-2 bg-muted rounded-lg\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs font-medium\">Execution Summary</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[9px] text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{executionResults.summary.successful} / {executionResults.summary.total} steps passed\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant={executionResults.success ? \"default\" : \"destructive\"} className=\"text-sm px-2 py-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t{executionResults.success ? \"✓ Passed\" : \"✗ Failed\"}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{executionResults.results.map((r: any, i: number) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`p-2 border rounded-lg ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tr.success ? \"border-green-500 bg-green-50\" : \"border-red-500 bg-red-50\"\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{r.success ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle className=\"w-3 h-3 text-green-500 flex-shrink-0 mt-0.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<XCircle className=\"w-3 h-3 text-red-500 flex-shrink-0 mt-0.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-[10px] mb-0.5\">Step {r.step}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[9px] text-muted-foreground mb-0.5\">{r.instruction}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-[9px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-semibold\">Result:</span> {r.reasoning}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{r.selector && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<code className=\"text-[8px] bg-white px-1 py-0.5 rounded mt-0.5 inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{r.selector}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* RIGHT COLUMN: 60% - Live Preview ONLY */}\n\t\t\t\t\t<div className=\"lg:sticky lg:top-4 lg:h-[calc(100vh-6rem)]\">\n\t\t\t\t\t\t<Card className=\"h-full flex flex-col\">\n\t\t\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-lg\">\n\t\t\t\t\t\t\t\t\t<span>Live Preview</span>\n\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst url = form.getValues(\"url\");\n\t\t\t\t\t\t\t\t\t\t\t\tif (url) fetchPreview(url);\n\t\t\t\t\t\t\t\t\t\t\t\telse toast({ title: \"Enter URL\", variant: \"destructive\" });\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={previewLoading}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 text-xs\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{previewLoading ? <><Loader2 className=\"w-3 h-3 mr-1 animate-spin\" /> Loading...</> : \"Refresh\"}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription className=\"text-xs\">\n\t\t\t\t\t\t\t\t\tLive browser rendering - test execution happens here\n\t\t\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t<CardContent className=\"flex-1 flex flex-col min-h-0 pb-3\">\n\t\t\t\t\t\t\t\t<div className=\"flex-1 border-2 rounded-lg overflow-hidden bg-white flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t{previewLoading && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-center gap-2 p-6\">\n\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm font-medium\">Loading live preview...</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">This may take 10-30 seconds</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{!previewLoading && previewBlobUrl && (\n\t\t\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\t\t\tref={iframeRef}\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Live Page Preview\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={previewBlobUrl}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full border-0\"\n\t\t\t\t\t\t\t\t\t\t\tsandbox=\"allow-forms allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox allow-downloads\"\n\t\t\t\t\t\t\t\t\t\t\tonLoad={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('[Preview] ✓ Iframe loaded successfully');\n\t\t\t\t\t\t\t\t\t\t\t\tsetPreviewError(null);\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t// Try to access iframe content for execution\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst iframeDoc = iframeRef.current?.contentDocument;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (iframeDoc) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('[Preview] ✓ Can access iframe DOM');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('[Preview] Cannot access iframe DOM (cross-origin):', e);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonError={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.error('[Preview] ✗ Iframe error:', e);\n\t\t\t\t\t\t\t\t\t\t\t\tsetPreviewError('Iframe failed to load');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{!previewLoading && !previewBlobUrl && previewError && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center p-6\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-red-500 mb-3 text-sm\">⚠️ Preview Error</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-3\">{previewError}</div>\n\t\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\" \n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst url = form.getValues(\"url\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (url) fetchPreview(url);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs h-8\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tRetry Preview\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{!previewLoading && !previewBlobUrl && !previewError && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center p-6\">\n\t\t\t\t\t\t\t\t\t\t\t<Globe className=\"w-12 h-12 mx-auto mb-2 text-muted-foreground opacity-40\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground mb-1\">Live preview will appear here</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-3\">Click \"Scrape\" to load the site</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"mt-2 text-[10px] text-muted-foreground flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"inline-block w-1.5 h-1.5 rounded-full bg-green-500\"></span>\n\t\t\t\t\t\t\t\t\t\tPlaywright engine\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{scrapedAnalysis?.url && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-mono text-[9px] truncate max-w-[300px]\">{scrapedAnalysis.url}</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","size_bytes":33430},"server/geminiClient.ts":{"content":"const GEMINI_API_URL = process.env.GEMINI_API_URL; // e.g. https://your-gemini-proxy.example.com/embeddings\nconst GEMINI_API_KEY = process.env.GEMINI_API_KEY;\n\nasync function getFetch(): Promise<typeof fetch> {\n\t// Use global fetch if available (Node 18+)\n\tif (typeof globalThis.fetch === \"function\") return globalThis.fetch.bind(globalThis);\n\n\t// Try dynamic import of node-fetch as a fallback\n\ttry {\n\t\tconst mod = await import(\"node-fetch\");\n\t\t// node-fetch exports a default function in ESM\n\t\treturn (mod as any).default ?? (mod as any);\n\t} catch (e) {\n\t\tthrow new Error(\n\t\t\t\"`fetch` is not available in this Node runtime and 'node-fetch' is not installed. \" +\n\t\t\t\"Install it with `npm i node-fetch` or run on Node 18+ which includes `fetch` natively.\"\n\t\t);\n\t}\n}\n\nexport async function geminiEmbeddings(input: string): Promise<number[]> {\n  if (!GEMINI_API_URL || !GEMINI_API_KEY) {\n    throw new Error(\"Gemini configuration missing (GEMINI_API_URL / GEMINI_API_KEY)\");\n  }\n\n  const fetchFn = await getFetch();\n\n  const res = await fetchFn(GEMINI_API_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${GEMINI_API_KEY}`,\n    },\n    body: JSON.stringify({ input }),\n  });\n\n  if (!res.ok) {\n    const txt = await res.text();\n    throw new Error(`Gemini embeddings request failed: ${res.status} ${txt}`);\n  }\n\n  const body = await res.json() as { embedding?: number[]; data?: Array<{ embedding?: number[] }> };\n  // Expecting body.embedding: number[] or body.data[0].embedding depending on your proxy\n  if (Array.isArray(body.embedding)) return body.embedding;\n  if (body?.data?.[0]?.embedding) return body.data[0].embedding;\n  throw new Error(\"Unexpected Gemini response shape\");\n}\n","size_bytes":1748},"client/src/__tests__/TestCaseGenerator.test.tsx":{"content":"import { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { describe, it, expect, beforeEach } from 'vitest';\nimport TestCaseGenerator from '../components/TestCaseGenerator';\n\ndescribe('TestCaseGenerator', () => {\n  const queryClient = new QueryClient();\n\n  beforeEach(() => {\n    render(\n      <QueryClientProvider client={queryClient}>\n        <TestCaseGenerator />\n      </QueryClientProvider>\n    );\n  });\n\n  it('should render the form inputs', () => {\n    expect(screen.getByTestId('input-url')).toBeInTheDocument();\n    expect(screen.getByTestId('input-prompt')).toBeInTheDocument();\n    expect(screen.getByTestId('button-generate')).toBeInTheDocument();\n  });\n\n  it('should validate form inputs', async () => {\n    fireEvent.click(screen.getByTestId('button-generate'));\n    await waitFor(() => {\n      expect(screen.getByText(/please enter a valid url/i)).toBeInTheDocument();\n    });\n  });\n\n  it('should generate test cases successfully', async () => {\n    fireEvent.change(screen.getByTestId('input-url'), {\n      target: { value: 'https://example.com' }\n    });\n    \n    fireEvent.change(screen.getByTestId('input-prompt'), {\n      target: { value: 'Test the login functionality' }\n    });\n\n    fireEvent.click(screen.getByTestId('button-generate'));\n\n    await waitFor(() => {\n      expect(screen.getByText(/test cases generated successfully/i)).toBeInTheDocument();\n    });\n  });\n});\n","size_bytes":1497},"client/src/components/ui/dialog.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\nconst DialogOverlay = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DialogPrimitive.Overlay, Object.assign({ ref: ref, className: cn(\"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className) }, props)));\n});\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\nconst DialogContent = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(DialogPortal, { children: [_jsx(DialogOverlay, {}), _jsxs(DialogPrimitive.Content, Object.assign({ ref: ref, className: cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className) }, props, { children: [children, _jsxs(DialogPrimitive.Close, { className: \"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\", children: [_jsx(X, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"Close\" })] })] }))] }));\n});\nDialogContent.displayName = DialogPrimitive.Content.displayName;\nconst DialogHeader = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className) }, props)));\n};\nDialogHeader.displayName = \"DialogHeader\";\nconst DialogFooter = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className) }, props)));\n};\nDialogFooter.displayName = \"DialogFooter\";\nconst DialogTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DialogPrimitive.Title, Object.assign({ ref: ref, className: cn(\"text-lg font-semibold leading-none tracking-tight\", className) }, props)));\n});\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\nconst DialogDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DialogPrimitive.Description, Object.assign({ ref: ref, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\nexport { Dialog, DialogPortal, DialogOverlay, DialogClose, DialogTrigger, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription, };\n","size_bytes":4069},"client/src/components/ui/aspect-ratio.js":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\";\nconst AspectRatio = AspectRatioPrimitive.Root;\nexport { AspectRatio };\n","size_bytes":141},"client/src/__tests__/setup.ts":{"content":"import '@testing-library/jest-dom';\nimport { vi } from 'vitest';\nimport { mockTestGenerationResponse } from './mocks/testData';\n\n// Mock fetch globally\nglobal.fetch = vi.fn();\n\n// Setup default fetch mock response\nbeforeEach(() => {\n  (fetch as jest.Mock).mockResolvedValue({\n    ok: true,\n    json: async () => mockTestGenerationResponse,\n  });\n});\n\n// Clean up mocks\nafterEach(() => {\n  vi.clearAllMocks();\n});\n","size_bytes":413},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/context-menu.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst ContextMenu = ContextMenuPrimitive.Root;\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger;\nconst ContextMenuGroup = ContextMenuPrimitive.Group;\nconst ContextMenuPortal = ContextMenuPrimitive.Portal;\nconst ContextMenuSub = ContextMenuPrimitive.Sub;\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;\nconst ContextMenuSubTrigger = React.forwardRef((_a, ref) => {\n    var { className, inset, children } = _a, props = __rest(_a, [\"className\", \"inset\", \"children\"]);\n    return (_jsxs(ContextMenuPrimitive.SubTrigger, Object.assign({ ref: ref, className: cn(\"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\", inset && \"pl-8\", className) }, props, { children: [children, _jsx(ChevronRight, { className: \"ml-auto h-4 w-4\" })] })));\n});\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;\nconst ContextMenuSubContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ContextMenuPrimitive.SubContent, Object.assign({ ref: ref, className: cn(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\", className) }, props)));\n});\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;\nconst ContextMenuContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ContextMenuPrimitive.Portal, { children: _jsx(ContextMenuPrimitive.Content, Object.assign({ ref: ref, className: cn(\"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\", className) }, props)) }));\n});\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;\nconst ContextMenuItem = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(ContextMenuPrimitive.Item, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", inset && \"pl-8\", className) }, props)));\n});\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;\nconst ContextMenuCheckboxItem = React.forwardRef((_a, ref) => {\n    var { className, children, checked } = _a, props = __rest(_a, [\"className\", \"children\", \"checked\"]);\n    return (_jsxs(ContextMenuPrimitive.CheckboxItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className), checked: checked }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(ContextMenuPrimitive.ItemIndicator, { children: _jsx(Check, { className: \"h-4 w-4\" }) }) }), children] })));\n});\nContextMenuCheckboxItem.displayName =\n    ContextMenuPrimitive.CheckboxItem.displayName;\nconst ContextMenuRadioItem = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(ContextMenuPrimitive.RadioItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className) }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(ContextMenuPrimitive.ItemIndicator, { children: _jsx(Circle, { className: \"h-2 w-2 fill-current\" }) }) }), children] })));\n});\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;\nconst ContextMenuLabel = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(ContextMenuPrimitive.Label, Object.assign({ ref: ref, className: cn(\"px-2 py-1.5 text-sm font-semibold text-foreground\", inset && \"pl-8\", className) }, props)));\n});\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;\nconst ContextMenuSeparator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ContextMenuPrimitive.Separator, Object.assign({ ref: ref, className: cn(\"-mx-1 my-1 h-px bg-border\", className) }, props)));\n});\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;\nconst ContextMenuShortcut = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"span\", Object.assign({ className: cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className) }, props)));\n};\nContextMenuShortcut.displayName = \"ContextMenuShortcut\";\nexport { ContextMenu, ContextMenuTrigger, ContextMenuContent, ContextMenuItem, ContextMenuCheckboxItem, ContextMenuRadioItem, ContextMenuLabel, ContextMenuSeparator, ContextMenuShortcut, ContextMenuGroup, ContextMenuPortal, ContextMenuSub, ContextMenuSubContent, ContextMenuSubTrigger, ContextMenuRadioGroup, };\n","size_bytes":7032},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/radio-group.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst RadioGroup = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(RadioGroupPrimitive.Root, Object.assign({ className: cn(\"grid gap-2\", className) }, props, { ref: ref })));\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\nconst RadioGroupItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(RadioGroupPrimitive.Item, Object.assign({ ref: ref, className: cn(\"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\", className) }, props, { children: _jsx(RadioGroupPrimitive.Indicator, { className: \"flex items-center justify-center\", children: _jsx(Circle, { className: \"h-2.5 w-2.5 fill-current text-current\" }) }) })));\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\nexport { RadioGroup, RadioGroupItem };\n","size_bytes":1772},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"server/intelligentLocator.ts":{"content":"import type { Page } from \"playwright\";\nimport OpenAI from \"openai\";\nimport { geminiEmbeddings } from \"./geminiClient\";\n\nconst OPENAI_KEY = process.env.OPENAI_API_KEY;\nconst openai = OPENAI_KEY ? new OpenAI({ apiKey: OPENAI_KEY }) : null;\n\nexport interface ElementContext {\n  tag: string;\n  type: string;\n  text: string;\n  ariaLabel: string;\n  role: string;\n  placeholder: string;\n  name: string;\n  id: string;\n  selectors: string[];\n  xpath?: string;\n}\n\nexport async function getAllElements(page: Page): Promise<ElementContext[]> {\n  return await page.$$eval(\n    'input, button, a, textarea, select, [role], [aria-label], [placeholder]',\n    (elements) =>\n      Array.from(elements).map((el) => ({\n        tag: el.tagName.toLowerCase(),\n        type: (el as any).type || \"\",\n        text: (el.textContent || (el as any).value || \"\").trim(),\n        ariaLabel: el.getAttribute(\"aria-label\") || \"\",\n        role: el.getAttribute(\"role\") || \"\",\n        placeholder: (el as any).placeholder || \"\",\n        name: el.getAttribute(\"name\") || \"\",\n        id: (el as any).id || \"\",\n        selectors: [\n          (el as any).id ? `#${(el as any).id}` : null,\n          el.getAttribute(\"name\") ? `[name='${el.getAttribute(\"name\")}']` : null,\n          el.getAttribute(\"aria-label\") ? `[aria-label='${el.getAttribute(\"aria-label\")}']` : null,\n          (el as any).placeholder ? `[placeholder='${(el as any).placeholder}']` : null,\n          el.tagName.toLowerCase(),\n        ].filter(Boolean),\n      }))\n  );\n}\n\nexport async function aiFindElement(intent: string, elements: ElementContext[]): Promise<{ element: ElementContext; score: number }> {\n  // Use OpenAI embeddings for semantic similarity\n  if (!openai) {\n    throw new Error('OpenAI client not initialized');\n  }\n  const intentEmbedding = await openai.embeddings.create({\n    model: \"text-embedding-3-small\",\n    input: intent,\n  });\n  const elementTexts = elements.map(\n    (el) =>\n      `${el.text} ${el.ariaLabel} ${el.role} ${el.placeholder} ${el.name} ${el.id}`\n  );\n  const elementEmbeddings = await Promise.all(\n    elementTexts.map((text) =>\n      openai.embeddings.create({ model: \"text-embedding-3-small\", input: text })\n    )\n  );\n  function cosineSimilarity(a: number[], b: number[]): number {\n    const dot = a.reduce((sum, v, i) => sum + v * b[i], 0);\n    const magA = Math.sqrt(a.reduce((sum, v) => sum + v * v, 0));\n    const magB = Math.sqrt(b.reduce((sum, v) => sum + v * v, 0));\n    return dot / (magA * magB);\n  }\n  const scores = elementEmbeddings.map((emb, i) => ({\n    element: elements[i],\n    score: cosineSimilarity(\n      intentEmbedding.data[0].embedding,\n      emb.data[0].embedding\n    ),\n  }));\n  scores.sort((a, b) => b.score - a.score);\n  return scores[0];\n}\n\nexport async function intelligentAction(\n  page: Page,\n  action: \"fill\" | \"click\",\n  intent: string,\n  value?: string\n): Promise<{ success: boolean; selector: string; reasoning: string }> {\n  // Fallback to simple matching if no API key\n  if (!openai) {\n    console.warn('[IntelligentLocator] No OpenAI key - using simple matching');\n    return simpleElementMatching(page, action, intent, value);\n  }\n  \n  const elements = await getAllElements(page);\n  const { element, score } = await aiFindElement(intent, elements);\n  if (!element) return { success: false, selector: \"\", reasoning: \"No element found\" };\n  try {\n    const selector = element.selectors[0];\n    const locator = page.locator(selector).first();\n    if (action === \"fill\" && value) await locator.fill(value);\n    else if (action === \"click\") await locator.click();\n    return { success: true, selector, reasoning: `Matched \"${intent}\" with score ${score.toFixed(2)}` };\n  } catch (e: any) {\n    return { success: false, selector: element.selectors[0], reasoning: e.message };\n  }\n}\n\n// Simple fallback without AI\nasync function simpleElementMatching(\n  page: Page,\n  action: \"fill\" | \"click\",\n  intent: string,\n  value?: string\n): Promise<{ success: boolean; selector: string; reasoning: string }> {\n  const intentLower = intent.toLowerCase();\n  \n  try {\n    if (action === \"fill\") {\n      const selector = `input[name*=\"${intentLower}\"], input[placeholder*=\"${intentLower}\"], input[id*=\"${intentLower}\"]`;\n      const locator = page.locator(selector).first();\n      if (await locator.count() > 0) {\n        await locator.fill(value || '');\n        return { success: true, selector, reasoning: `Matched by name/placeholder` };\n      }\n    } else if (action === \"click\") {\n      const selector = `button:has-text(\"${intent}\"), a:has-text(\"${intent}\")`;\n      const locator = page.locator(selector).first();\n      if (await locator.count() > 0) {\n        await locator.click();\n        return { success: true, selector, reasoning: `Matched by text` };\n      }\n    }\n  } catch (e: any) {\n    return { success: false, selector: '', reasoning: e.message };\n  }\n  \n  return { success: false, selector: '', reasoning: 'No element found' };\n}\n\n// New: score and choose best selector from scraped elements\nexport async function selectBestSelectorsFromElements(\n  intent: string,\n  elements: ElementContext[]\n): Promise<{ element: ElementContext | null; selector: string; confidence: number; source: \"gemini\" | \"openai\" | \"heuristic\" | \"none\" }> {\n  if (!elements || elements.length === 0) return { element: null, selector: '', confidence: 0, source: \"none\" };\n\n  // prepare text corpus to embed\n  const elementTexts = elements.map(e => `${e.text || ''} ${e.ariaLabel || ''} ${e.placeholder || ''} ${e.name || ''} ${e.id || ''}`.trim());\n\n  // Try Gemini first (if configured)\n  if (process.env.GEMINI_API_URL && process.env.GEMINI_API_KEY) {\n    try {\n      const intentEmb = await geminiEmbeddings(intent);\n      const elementEmbeddings = await Promise.all(elementTexts.map(t => geminiEmbeddings(t)));\n      const scores = elementEmbeddings.map((emb, i) => cosine(intentEmb, emb));\n      const idx = scores.indexOf(Math.max(...scores));\n      const chosen = elements[idx];\n      const selector = chooseBestSelectorForElement(chosen);\n      return { element: chosen, selector, confidence: scores[idx], source: \"gemini\" };\n    } catch (e) {\n      console.warn('[Selector] Gemini failed, falling back:', (e as Error).message);\n    }\n  }\n\n  // Try OpenAI embeddings\n  if (openai) {\n    try {\n      const intentEmb = await openai.embeddings.create({ model: \"text-embedding-3-small\", input: intent });\n      const intentVec = intentEmb.data[0].embedding;\n      const elementEmbeddings = await Promise.all(elementTexts.map(t => openai.embeddings.create({ model: \"text-embedding-3-small\", input: t })));\n      const scores = elementEmbeddings.map((emb, i) => cosine(intentVec, emb.data[0].embedding));\n      const idx = scores.indexOf(Math.max(...scores));\n      const chosen = elements[idx];\n      const selector = chooseBestSelectorForElement(chosen);\n      return { element: chosen, selector, confidence: scores[idx], source: \"openai\" };\n    } catch (e) {\n      console.warn('[Selector] OpenAI embeddings failed, falling back:', (e as Error).message);\n    }\n  }\n\n  // Heuristic fallback: string matching over fields\n  const intentLower = intent.toLowerCase();\n  let best: { el?: ElementContext; score?: number } = {};\n  for (const el of elements) {\n    let s = 0;\n    const txt = (el.text || '').toLowerCase();\n    const ph = (el.placeholder || '').toLowerCase();\n    const name = (el.name || '').toLowerCase();\n    const id = (el.id || '').toLowerCase();\n    if (txt === intentLower) s += 100;\n    if (ph === intentLower) s += 90;\n    if (name === intentLower) s += 80;\n    if (txt.includes(intentLower)) s += 40;\n    if (ph.includes(intentLower)) s += 30;\n    if (!best.score || s > best.score) best = { el, score: s };\n  }\n  if (best.el) {\n    const selector = chooseBestSelectorForElement(best.el);\n    return { element: best.el, selector, confidence: best.score || 0, source: \"heuristic\" };\n  }\n\n  return { element: null, selector: '', confidence: 0, source: \"none\" };\n}\n\nfunction cosine(a: number[], b: number[]) {\n  const dot = a.reduce((s, v, i) => s + v * (b[i] || 0), 0);\n  const magA = Math.sqrt(a.reduce((s, v) => s + v * v, 0));\n  const magB = Math.sqrt(b.reduce((s, v) => s + v * v, 0));\n  if (magA === 0 || magB === 0) return 0;\n  return dot / (magA * magB);\n}\n\nfunction chooseBestSelectorForElement(el: ElementContext): string {\n  // Prefer id, name, aria-label, placeholder, xpath, then first CSS selector\n  if (el.id) return `#${el.id}`;\n  if (el.name) return `[name=\"${el.name}\"]`;\n  if (el.ariaLabel) return `[aria-label=\"${el.ariaLabel}\"]`;\n  if (el.placeholder) return `[placeholder=\"${el.placeholder}\"]`;\n  if ((el as any).xpath) return `xpath=${(el as any).xpath}`;\n  if (el.selectors && el.selectors.length) return el.selectors[0];\n  return el.tag || 'body';\n}\n","size_bytes":8782},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    port: 5173,\n    strictPort: false,\n    fs: {\n      strict: false,\n      allow: [\n        path.resolve(import.meta.dirname, \"client\"),\n        path.resolve(import.meta.dirname, \"shared\"),\n      ],\n    },\n  },\n});\n","size_bytes":702},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/command.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\nconst Command = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CommandPrimitive, Object.assign({ ref: ref, className: cn(\"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\", className) }, props)));\n});\nCommand.displayName = CommandPrimitive.displayName;\nconst CommandDialog = (_a) => {\n    var { children } = _a, props = __rest(_a, [\"children\"]);\n    return (_jsx(Dialog, Object.assign({}, props, { children: _jsx(DialogContent, { className: \"overflow-hidden p-0 shadow-lg\", children: _jsx(Command, { className: \"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\", children: children }) }) })));\n};\nconst CommandInput = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(\"div\", { className: \"flex items-center border-b px-3\", \"cmdk-input-wrapper\": \"\", children: [_jsx(Search, { className: \"mr-2 h-4 w-4 shrink-0 opacity-50\" }), _jsx(CommandPrimitive.Input, Object.assign({ ref: ref, className: cn(\"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\", className) }, props))] }));\n});\nCommandInput.displayName = CommandPrimitive.Input.displayName;\nconst CommandList = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CommandPrimitive.List, Object.assign({ ref: ref, className: cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className) }, props)));\n});\nCommandList.displayName = CommandPrimitive.List.displayName;\nconst CommandEmpty = React.forwardRef((props, ref) => (_jsx(CommandPrimitive.Empty, Object.assign({ ref: ref, className: \"py-6 text-center text-sm\" }, props))));\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\nconst CommandGroup = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CommandPrimitive.Group, Object.assign({ ref: ref, className: cn(\"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\", className) }, props)));\n});\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\nconst CommandSeparator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CommandPrimitive.Separator, Object.assign({ ref: ref, className: cn(\"-mx-1 h-px bg-border\", className) }, props)));\n});\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\nconst CommandItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CommandPrimitive.Item, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", className) }, props)));\n});\nCommandItem.displayName = CommandPrimitive.Item.displayName;\nconst CommandShortcut = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"span\", Object.assign({ className: cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className) }, props)));\n};\nCommandShortcut.displayName = \"CommandShortcut\";\nexport { Command, CommandDialog, CommandInput, CommandList, CommandEmpty, CommandGroup, CommandItem, CommandShortcut, CommandSeparator, };\n","size_bytes":4822},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/drawer.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\nimport { cn } from \"@/lib/utils\";\nconst Drawer = (_a) => {\n    var { shouldScaleBackground = true } = _a, props = __rest(_a, [\"shouldScaleBackground\"]);\n    return (_jsx(DrawerPrimitive.Root, Object.assign({ shouldScaleBackground: shouldScaleBackground }, props)));\n};\nDrawer.displayName = \"Drawer\";\nconst DrawerTrigger = DrawerPrimitive.Trigger;\nconst DrawerPortal = DrawerPrimitive.Portal;\nconst DrawerClose = DrawerPrimitive.Close;\nconst DrawerOverlay = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DrawerPrimitive.Overlay, Object.assign({ ref: ref, className: cn(\"fixed inset-0 z-50 bg-black/80\", className) }, props)));\n});\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\nconst DrawerContent = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(DrawerPortal, { children: [_jsx(DrawerOverlay, {}), _jsxs(DrawerPrimitive.Content, Object.assign({ ref: ref, className: cn(\"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\", className) }, props, { children: [_jsx(\"div\", { className: \"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" }), children] }))] }));\n});\nDrawerContent.displayName = \"DrawerContent\";\nconst DrawerHeader = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className) }, props)));\n};\nDrawerHeader.displayName = \"DrawerHeader\";\nconst DrawerFooter = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"mt-auto flex flex-col gap-2 p-4\", className) }, props)));\n};\nDrawerFooter.displayName = \"DrawerFooter\";\nconst DrawerTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DrawerPrimitive.Title, Object.assign({ ref: ref, className: cn(\"text-lg font-semibold leading-none tracking-tight\", className) }, props)));\n});\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\nconst DrawerDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(DrawerPrimitive.Description, Object.assign({ ref: ref, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\nexport { Drawer, DrawerPortal, DrawerOverlay, DrawerTrigger, DrawerClose, DrawerContent, DrawerHeader, DrawerFooter, DrawerTitle, DrawerDescription, };\n","size_bytes":3319},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"README.md":{"content":"# AI Test Case Generator\n\nAutomatically generate comprehensive test cases for any website using AI-powered analysis and Playwright automation.\n\n## 🚀 Quick Start\n\n```bash\n# Install dependencies\nnpm install\n\n# Set up environment\ncp .env.example .env\n# Edit .env and add your OPENAI_API_KEY\n\n# Start development server\nnpm run dev\n```\n\nVisit `http://localhost:3000`\n\n## 📁 Project Structure\n\n```\nclient/     → Frontend (React + TypeScript + Tailwind)\nserver/     → Backend (Express + Playwright + OpenAI)\nshared/     → Shared TypeScript schemas\n```\n\nSee [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md) for detailed organization.\n\n## 🛠️ Available Scripts\n\n```bash\nnpm run dev      # Start development server (frontend + backend)\nnpm run build    # Build for production\nnpm start        # Run production build\nnpm run check    # TypeScript type checking\n```\n\n## 🏗️ Architecture\n\n### Frontend (Port 3000)\n- **React 18** with TypeScript\n- **TanStack Query** for API state management\n- **Tailwind CSS** + **shadcn UI** for styling\n- **Vite** for fast development\n\n### Backend (Port 3000)\n- **Express.js** API server\n- **Playwright** for web scraping and screenshots\n- **OpenAI GPT** for test case generation\n- **File-based storage** for scraped XPath data\n\n### Communication\n- Frontend makes API calls to `/api/*` endpoints\n- Backend responds with JSON\n- Shared TypeScript types ensure type safety\n\n## 🔑 Environment Variables\n\n```env\nPORT=3000\nOPENAI_API_KEY=sk-...\nNODE_ENV=development\n```\n\n## 🧪 Testing\n\n```bash\nnpm test           # Run tests\nnpm run test:ui    # Open Vitest UI\n```\n\n## 📦 Build for Production\n\n```bash\n# Build frontend and backend\nnpm run build\n\n# Output:\n# - dist/public/    (frontend static files)\n# - dist/index.js   (backend bundle)\n\n# Run production server\nnpm start\n```\n\n## 🎯 Features\n\n✅ Smart XPath scraping with Playwright  \n✅ AI-powered test case generation  \n✅ Live website preview  \n✅ Playwright code generation  \n✅ Export test cases  \n✅ Form and button detection  \n\n## 🔧 Tech Stack\n\n**Frontend:**\n- React 18, TypeScript\n- TanStack Query\n- Tailwind CSS\n- shadcn UI\n- React Hook Form + Zod\n\n**Backend:**\n- Node.js, Express\n- Playwright\n- OpenAI API\n- TypeScript\n\n**Shared:**\n- Zod schemas\n- TypeScript types\n\n## 📝 License\n\nMIT\n\n## 🤝 Contributing\n\n1. Frontend changes → `client/src/`\n2. Backend changes → `server/`\n3. Shared types → `shared/schema.ts`\n4. Run `npm run check` before committing\n5. Keep components small and focused\n","size_bytes":2509},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/form.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, FormProvider, useFormContext, } from \"react-hook-form\";\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\nconst Form = FormProvider;\nconst FormFieldContext = React.createContext({});\nconst FormField = (_a) => {\n    var props = __rest(_a, []);\n    return (_jsx(FormFieldContext.Provider, { value: { name: props.name }, children: _jsx(Controller, Object.assign({}, props)) }));\n};\nconst useFormField = () => {\n    const fieldContext = React.useContext(FormFieldContext);\n    const itemContext = React.useContext(FormItemContext);\n    const { getFieldState, formState } = useFormContext();\n    const fieldState = getFieldState(fieldContext.name, formState);\n    if (!fieldContext) {\n        throw new Error(\"useFormField should be used within <FormField>\");\n    }\n    const { id } = itemContext;\n    return Object.assign({ id, name: fieldContext.name, formItemId: `${id}-form-item`, formDescriptionId: `${id}-form-item-description`, formMessageId: `${id}-form-item-message` }, fieldState);\n};\nconst FormItemContext = React.createContext({});\nconst FormItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const id = React.useId();\n    return (_jsx(FormItemContext.Provider, { value: { id }, children: _jsx(\"div\", Object.assign({ ref: ref, className: cn(\"space-y-2\", className) }, props)) }));\n});\nFormItem.displayName = \"FormItem\";\nconst FormLabel = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const { error, formItemId } = useFormField();\n    return (_jsx(Label, Object.assign({ ref: ref, className: cn(error && \"text-destructive\", className), htmlFor: formItemId }, props)));\n});\nFormLabel.displayName = \"FormLabel\";\nconst FormControl = React.forwardRef((_a, ref) => {\n    var props = __rest(_a, []);\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n    return (_jsx(Slot, Object.assign({ ref: ref, id: formItemId, \"aria-describedby\": !error\n            ? `${formDescriptionId}`\n            : `${formDescriptionId} ${formMessageId}`, \"aria-invalid\": !!error }, props)));\n});\nFormControl.displayName = \"FormControl\";\nconst FormDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const { formDescriptionId } = useFormField();\n    return (_jsx(\"p\", Object.assign({ ref: ref, id: formDescriptionId, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nFormDescription.displayName = \"FormDescription\";\nconst FormMessage = React.forwardRef((_a, ref) => {\n    var _b;\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    const { error, formMessageId } = useFormField();\n    const body = error ? String((_b = error === null || error === void 0 ? void 0 : error.message) !== null && _b !== void 0 ? _b : \"\") : children;\n    if (!body) {\n        return null;\n    }\n    return (_jsx(\"p\", Object.assign({ ref: ref, id: formMessageId, className: cn(\"text-sm font-medium text-destructive\", className) }, props, { children: body })));\n});\nFormMessage.displayName = \"FormMessage\";\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField, };\n","size_bytes":3916},"client/src/components/ui/alert-dialog.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nconst AlertDialog = AlertDialogPrimitive.Root;\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\nconst AlertDialogOverlay = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AlertDialogPrimitive.Overlay, Object.assign({ className: cn(\"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className) }, props, { ref: ref })));\n});\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\nconst AlertDialogContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(AlertDialogPortal, { children: [_jsx(AlertDialogOverlay, {}), _jsx(AlertDialogPrimitive.Content, Object.assign({ ref: ref, className: cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className) }, props))] }));\n});\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\nconst AlertDialogHeader = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col space-y-2 text-center sm:text-left\", className) }, props)));\n};\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\nconst AlertDialogFooter = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className) }, props)));\n};\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\nconst AlertDialogTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AlertDialogPrimitive.Title, Object.assign({ ref: ref, className: cn(\"text-lg font-semibold\", className) }, props)));\n});\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\nconst AlertDialogDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AlertDialogPrimitive.Description, Object.assign({ ref: ref, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nAlertDialogDescription.displayName =\n    AlertDialogPrimitive.Description.displayName;\nconst AlertDialogAction = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AlertDialogPrimitive.Action, Object.assign({ ref: ref, className: cn(buttonVariants(), className) }, props)));\n});\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\nconst AlertDialogCancel = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AlertDialogPrimitive.Cancel, Object.assign({ ref: ref, className: cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className) }, props)));\n});\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\nexport { AlertDialog, AlertDialogPortal, AlertDialogOverlay, AlertDialogTrigger, AlertDialogContent, AlertDialogHeader, AlertDialogFooter, AlertDialogTitle, AlertDialogDescription, AlertDialogAction, AlertDialogCancel, };\n","size_bytes":4462},"client/src/components/ui/tooltip.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport { cn } from \"@/lib/utils\";\nconst TooltipProvider = TooltipPrimitive.Provider;\nconst Tooltip = TooltipPrimitive.Root;\nconst TooltipTrigger = TooltipPrimitive.Trigger;\nconst TooltipContent = React.forwardRef((_a, ref) => {\n    var { className, sideOffset = 4 } = _a, props = __rest(_a, [\"className\", \"sideOffset\"]);\n    return (_jsx(TooltipPrimitive.Content, Object.assign({ ref: ref, sideOffset: sideOffset, className: cn(\"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\", className) }, props)));\n});\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","size_bytes":1679},"client/src/pages/Home.js":{"content":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport TestCaseGenerator from \"@/components/TestCaseGenerator\";\nexport default function Home() {\n    return _jsx(TestCaseGenerator, {});\n}\n","size_bytes":188},"client/src/hooks/use-toast.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from \"react\";\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\nconst actionTypes = {\n    ADD_TOAST: \"ADD_TOAST\",\n    UPDATE_TOAST: \"UPDATE_TOAST\",\n    DISMISS_TOAST: \"DISMISS_TOAST\",\n    REMOVE_TOAST: \"REMOVE_TOAST\",\n};\nlet count = 0;\nfunction genId() {\n    count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    return count.toString();\n}\nconst toastTimeouts = new Map();\nconst addToRemoveQueue = (toastId) => {\n    if (toastTimeouts.has(toastId)) {\n        return;\n    }\n    const timeout = setTimeout(() => {\n        toastTimeouts.delete(toastId);\n        dispatch({\n            type: \"REMOVE_TOAST\",\n            toastId: toastId,\n        });\n    }, TOAST_REMOVE_DELAY);\n    toastTimeouts.set(toastId, timeout);\n};\nexport const reducer = (state, action) => {\n    switch (action.type) {\n        case \"ADD_TOAST\":\n            return Object.assign(Object.assign({}, state), { toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT) });\n        case \"UPDATE_TOAST\":\n            return Object.assign(Object.assign({}, state), { toasts: state.toasts.map((t) => t.id === action.toast.id ? Object.assign(Object.assign({}, t), action.toast) : t) });\n        case \"DISMISS_TOAST\": {\n            const { toastId } = action;\n            // ! Side effects ! - This could be extracted into a dismissToast() action,\n            // but I'll keep it here for simplicity\n            if (toastId) {\n                addToRemoveQueue(toastId);\n            }\n            else {\n                state.toasts.forEach((toast) => {\n                    addToRemoveQueue(toast.id);\n                });\n            }\n            return Object.assign(Object.assign({}, state), { toasts: state.toasts.map((t) => t.id === toastId || toastId === undefined\n                    ? Object.assign(Object.assign({}, t), { open: false }) : t) });\n        }\n        case \"REMOVE_TOAST\":\n            if (action.toastId === undefined) {\n                return Object.assign(Object.assign({}, state), { toasts: [] });\n            }\n            return Object.assign(Object.assign({}, state), { toasts: state.toasts.filter((t) => t.id !== action.toastId) });\n    }\n};\nconst listeners = [];\nlet memoryState = { toasts: [] };\nfunction dispatch(action) {\n    memoryState = reducer(memoryState, action);\n    listeners.forEach((listener) => {\n        listener(memoryState);\n    });\n}\nfunction toast(_a) {\n    var props = __rest(_a, []);\n    const id = genId();\n    const update = (props) => dispatch({\n        type: \"UPDATE_TOAST\",\n        toast: Object.assign(Object.assign({}, props), { id }),\n    });\n    const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n    dispatch({\n        type: \"ADD_TOAST\",\n        toast: Object.assign(Object.assign({}, props), { id, open: true, onOpenChange: (open) => {\n                if (!open)\n                    dismiss();\n            } }),\n    });\n    return {\n        id: id,\n        dismiss,\n        update,\n    };\n}\nfunction useToast() {\n    const [state, setState] = React.useState(memoryState);\n    React.useEffect(() => {\n        listeners.push(setState);\n        return () => {\n            const index = listeners.indexOf(setState);\n            if (index > -1) {\n                listeners.splice(index, 1);\n            }\n        };\n    }, [state]);\n    return Object.assign(Object.assign({}, state), { toast, dismiss: (toastId) => dispatch({ type: \"DISMISS_TOAST\", toastId }) });\n}\nexport { useToast, toast };\n","size_bytes":3947},"server/storage.ts":{"content":"// Storage interface - currently not used by the test case generator\n// This file is kept for potential future user management features\n\nexport interface IStorage {\n  // Storage methods can be added here as needed\n}\n\nexport class MemStorage implements IStorage {\n  constructor() {\n    // Empty constructor for now\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":362},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/resizable.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { GripVertical } from \"lucide-react\";\nimport * as ResizablePrimitive from \"react-resizable-panels\";\nimport { cn } from \"@/lib/utils\";\nconst ResizablePanelGroup = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ResizablePrimitive.PanelGroup, Object.assign({ className: cn(\"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\", className) }, props)));\n};\nconst ResizablePanel = ResizablePrimitive.Panel;\nconst ResizableHandle = (_a) => {\n    var { withHandle, className } = _a, props = __rest(_a, [\"withHandle\", \"className\"]);\n    return (_jsx(ResizablePrimitive.PanelResizeHandle, Object.assign({ className: cn(\"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\", className) }, props, { children: withHandle && (_jsx(\"div\", { className: \"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\", children: _jsx(GripVertical, { className: \"h-2.5 w-2.5\" }) })) })));\n};\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle };\n","size_bytes":2165},"client/src/components/ui/toast.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\nimport { cva } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst ToastProvider = ToastPrimitives.Provider;\nconst ToastViewport = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ToastPrimitives.Viewport, Object.assign({ ref: ref, className: cn(\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\", className) }, props)));\n});\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;\nconst toastVariants = cva(\"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\", {\n    variants: {\n        variant: {\n            default: \"border bg-background text-foreground\",\n            destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n    },\n});\nconst Toast = React.forwardRef((_a, ref) => {\n    var { className, variant } = _a, props = __rest(_a, [\"className\", \"variant\"]);\n    return (_jsx(ToastPrimitives.Root, Object.assign({ ref: ref, className: cn(toastVariants({ variant }), className) }, props)));\n});\nToast.displayName = ToastPrimitives.Root.displayName;\nconst ToastAction = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ToastPrimitives.Action, Object.assign({ ref: ref, className: cn(\"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\", className) }, props)));\n});\nToastAction.displayName = ToastPrimitives.Action.displayName;\nconst ToastClose = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ToastPrimitives.Close, Object.assign({ ref: ref, className: cn(\"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\", className), \"toast-close\": \"\" }, props, { children: _jsx(X, { className: \"h-4 w-4\" }) })));\n});\nToastClose.displayName = ToastPrimitives.Close.displayName;\nconst ToastTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ToastPrimitives.Title, Object.assign({ ref: ref, className: cn(\"text-sm font-semibold\", className) }, props)));\n});\nToastTitle.displayName = ToastPrimitives.Title.displayName;\nconst ToastDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(ToastPrimitives.Description, Object.assign({ ref: ref, className: cn(\"text-sm opacity-90\", className) }, props)));\n});\nToastDescription.displayName = ToastPrimitives.Description.displayName;\nexport { ToastProvider, ToastViewport, Toast, ToastTitle, ToastDescription, ToastClose, ToastAction, };\n","size_bytes":4694},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"server/xpathStorage.ts":{"content":"import fs from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Directory to store scraped XPaths\nconst STORAGE_DIR = path.join(__dirname, '..', 'scraped-xpaths');\n\n// Ensure storage directory exists\nif (!fs.existsSync(STORAGE_DIR)) {\n  fs.mkdirSync(STORAGE_DIR, { recursive: true });\n}\n\nexport interface StoredXPathData {\n  url: string;\n  scrapedAt: string;\n  forms: Array<{\n    name: string;\n    fields: Array<{\n      name: string;\n      type?: string;\n      selectors: string[]; // Semantic selectors\n      placeholder?: string;\n      ariaLabel?: string;\n      role?: string;\n      matchScore?: number;\n      xpath?: string; // <-- added\n      xpathCandidates?: string[]; // <-- added\n    }>;\n  }>;\n  buttons: Array<{\n    text: string;\n    selectors: string[]; // Semantic selectors\n    ariaLabel?: string;\n    role?: string;\n    matchScore?: number;\n    xpath?: string; // <-- added\n    xpathCandidates?: string[]; // <-- added\n  }>;\n  links: Array<{\n    text: string;\n    href: string;\n    selectors?: string[];\n    ariaLabel?: string;\n    xpath?: string; // <-- added\n    xpathCandidates?: string[]; // <-- added\n  }>;\n  allInteractive?: Array<{\n    text: string;\n    tag: string;\n    type: string;\n    selectors: string[];\n    matchScore?: number;\n    xpath?: string; // <-- added\n    xpathCandidates?: string[]; // <-- added\n  }>;\n}\n\n/**\n * Generate a filename from URL (sanitized)\n */\nfunction getFilenameFromUrl(url: string): string {\n  const sanitized = url\n    .replace(/^https?:\\/\\//, '')\n    .replace(/[^a-z0-9]/gi, '_')\n    .toLowerCase();\n  return `${sanitized}.json`;\n}\n\n/**\n * Save scraped XPath data to file\n */\nexport function saveXPathData(url: string, data: StoredXPathData): string {\n  const filename = getFilenameFromUrl(url);\n  const filepath = path.join(STORAGE_DIR, filename);\n  \n  fs.writeFileSync(filepath, JSON.stringify(data, null, 2), 'utf-8');\n  console.log(`✓ Saved XPath data to: ${filepath}`);\n  \n  return filepath;\n}\n\n/**\n * Load XPath data from file\n */\nexport function loadXPathData(url: string): StoredXPathData | null {\n  const filename = getFilenameFromUrl(url);\n  const filepath = path.join(STORAGE_DIR, filename);\n  \n  if (!fs.existsSync(filepath)) {\n    return null;\n  }\n  \n  try {\n    const content = fs.readFileSync(filepath, 'utf-8');\n    return JSON.parse(content) as StoredXPathData;\n  } catch (error) {\n    console.error(`Error loading XPath data from ${filepath}:`, error);\n    return null;\n  }\n}\n\n/**\n * List all stored XPath files\n */\nexport function listStoredUrls(): string[] {\n  try {\n    const files = fs.readdirSync(STORAGE_DIR);\n    return files\n      .filter(f => f.endsWith('.json'))\n      .map(f => {\n        const filepath = path.join(STORAGE_DIR, f);\n        try {\n          const content = fs.readFileSync(filepath, 'utf-8');\n          const data = JSON.parse(content) as StoredXPathData;\n          return data.url;\n        } catch {\n          return null;\n        }\n      })\n      .filter((url): url is string => url !== null);\n  } catch (error) {\n    console.error('Error listing stored URLs:', error);\n    return [];\n  }\n}\n\n/**\n * Delete stored XPath data for a URL\n */\nexport function deleteXPathData(url: string): boolean {\n  const filename = getFilenameFromUrl(url);\n  const filepath = path.join(STORAGE_DIR, filename);\n  \n  if (!fs.existsSync(filepath)) {\n    return false;\n  }\n  \n  try {\n    fs.unlinkSync(filepath);\n    console.log(`✓ Deleted XPath data: ${filepath}`);\n    return true;\n  } catch (error) {\n    console.error(`Error deleting XPath data from ${filepath}:`, error);\n    return false;\n  }\n}\n","size_bytes":3702},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 222 47% 11%;\n\n  --border: 220 13% 91%;\n\n  --card: 0 0% 98%;\n\n  --card-foreground: 222 47% 11%;\n\n  --card-border: 220 13% 93%;\n\n  --sidebar: 220 14% 96%;\n\n  --sidebar-foreground: 222 47% 11%;\n\n  --sidebar-border: 220 13% 89%;\n\n  --sidebar-primary: 221 83% 53%;\n\n  --sidebar-primary-foreground: 210 40% 98%;\n\n  --sidebar-accent: 220 14% 91%;\n\n  --sidebar-accent-foreground: 222 47% 11%;\n\n  --sidebar-ring: 221 83% 53%;\n\n  --popover: 0 0% 95%;\n\n  --popover-foreground: 222 47% 11%;\n\n  --popover-border: 220 13% 87%;\n\n  --primary: 221 83% 53%;\n\n  --primary-foreground: 210 40% 98%;\n\n  --secondary: 220 13% 88%;\n\n  --secondary-foreground: 222 47% 11%;\n\n  --muted: 220 14% 92%;\n\n  --muted-foreground: 220 9% 46%;\n\n  --accent: 217 16% 90%;\n\n  --accent-foreground: 222 47% 15%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  --input: 220 13% 82%;\n  --ring: 221 83% 53%;\n  --chart-1: 221 83% 53%;\n  --chart-2: 262 83% 58%;\n  --chart-3: 291 64% 42%;\n  --chart-4: 173 58% 39%;\n  --chart-5: 43 74% 49%;\n\n  --font-sans: Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: \"JetBrains Mono\", Menlo, Monaco, \"Courier New\", monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(220 13% 9% / 0.05);\n  --shadow-xs: 0px 1px 2px 0px hsl(220 13% 9% / 0.06);\n  --shadow-sm: 0px 2px 4px -1px hsl(220 13% 9% / 0.06), 0px 1px 2px -1px hsl(220 13% 9% / 0.06);\n  --shadow: 0px 4px 6px -1px hsl(220 13% 9% / 0.08), 0px 2px 4px -1px hsl(220 13% 9% / 0.06);\n  --shadow-md: 0px 6px 8px -1px hsl(220 13% 9% / 0.08), 0px 2px 4px -1px hsl(220 13% 9% / 0.06);\n  --shadow-lg: 0px 10px 15px -3px hsl(220 13% 9% / 0.10), 0px 4px 6px -2px hsl(220 13% 9% / 0.05);\n  --shadow-xl: 0px 20px 25px -5px hsl(220 13% 9% / 0.10), 0px 10px 10px -5px hsl(220 13% 9% / 0.04);\n  --shadow-2xl: 0px 25px 50px -12px hsl(220 13% 9% / 0.25);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 222 47% 11%;\n\n  --foreground: 210 40% 98%;\n\n  --border: 217 19% 27%;\n\n  --card: 220 13% 13%;\n\n  --card-foreground: 210 40% 98%;\n\n  --card-border: 217 19% 20%;\n\n  --sidebar: 217 19% 18%;\n\n  --sidebar-foreground: 210 40% 98%;\n\n  --sidebar-border: 217 19% 24%;\n\n  --sidebar-primary: 221 83% 53%;\n\n  --sidebar-primary-foreground: 210 40% 98%;\n\n  --sidebar-accent: 217 19% 24%;\n\n  --sidebar-accent-foreground: 210 40% 98%;\n\n  --sidebar-ring: 221 83% 53%;\n\n  --popover: 220 13% 16%;\n\n  --popover-foreground: 210 40% 98%;\n\n  --popover-border: 217 19% 22%;\n\n  --primary: 221 83% 53%;\n\n  --primary-foreground: 210 40% 98%;\n\n  --secondary: 217 19% 27%;\n\n  --secondary-foreground: 210 40% 98%;\n\n  --muted: 217 19% 23%;\n\n  --muted-foreground: 217 10% 64%;\n\n  --accent: 217 19% 26%;\n\n  --accent-foreground: 210 40% 98%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  --input: 217 19% 35%;\n  --ring: 221 83% 53%;\n  --chart-1: 221 83% 63%;\n  --chart-2: 262 83% 68%;\n  --chart-3: 291 64% 62%;\n  --chart-4: 173 58% 59%;\n  --chart-5: 43 74% 69%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.15);\n  --shadow-xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.18);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.18), 0px 1px 2px -1px hsl(0 0% 0% / 0.18);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.22), 0px 2px 4px -1px hsl(0 0% 0% / 0.18);\n  --shadow-md: 0px 6px 8px -1px hsl(0 0% 0% / 0.22), 0px 2px 4px -1px hsl(0 0% 0% / 0.18);\n  --shadow-lg: 0px 10px 15px -3px hsl(0 0% 0% / 0.28), 0px 4px 6px -2px hsl(0 0% 0% / 0.15);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.28), 0px 10px 10px -5px hsl(0 0% 0% / 0.12);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.35);\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":11305},"client/src/components/ui/menubar.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nfunction MenubarMenu(_a) {\n    var props = __rest(_a, []);\n    return _jsx(MenubarPrimitive.Menu, Object.assign({}, props));\n}\nfunction MenubarGroup(_a) {\n    var props = __rest(_a, []);\n    return _jsx(MenubarPrimitive.Group, Object.assign({}, props));\n}\nfunction MenubarPortal(_a) {\n    var props = __rest(_a, []);\n    return _jsx(MenubarPrimitive.Portal, Object.assign({}, props));\n}\nfunction MenubarRadioGroup(_a) {\n    var props = __rest(_a, []);\n    return _jsx(MenubarPrimitive.RadioGroup, Object.assign({}, props));\n}\nfunction MenubarSub(_a) {\n    var props = __rest(_a, []);\n    return _jsx(MenubarPrimitive.Sub, Object.assign({ \"data-slot\": \"menubar-sub\" }, props));\n}\nconst Menubar = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(MenubarPrimitive.Root, Object.assign({ ref: ref, className: cn(\"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\", className) }, props)));\n});\nMenubar.displayName = MenubarPrimitive.Root.displayName;\nconst MenubarTrigger = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(MenubarPrimitive.Trigger, Object.assign({ ref: ref, className: cn(\"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\", className) }, props)));\n});\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;\nconst MenubarSubTrigger = React.forwardRef((_a, ref) => {\n    var { className, inset, children } = _a, props = __rest(_a, [\"className\", \"inset\", \"children\"]);\n    return (_jsxs(MenubarPrimitive.SubTrigger, Object.assign({ ref: ref, className: cn(\"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\", inset && \"pl-8\", className) }, props, { children: [children, _jsx(ChevronRight, { className: \"ml-auto h-4 w-4\" })] })));\n});\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;\nconst MenubarSubContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(MenubarPrimitive.SubContent, Object.assign({ ref: ref, className: cn(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\", className) }, props)));\n});\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;\nconst MenubarContent = React.forwardRef((_a, ref) => {\n    var { className, align = \"start\", alignOffset = -4, sideOffset = 8 } = _a, props = __rest(_a, [\"className\", \"align\", \"alignOffset\", \"sideOffset\"]);\n    return (_jsx(MenubarPrimitive.Portal, { children: _jsx(MenubarPrimitive.Content, Object.assign({ ref: ref, align: align, alignOffset: alignOffset, sideOffset: sideOffset, className: cn(\"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\", className) }, props)) }));\n});\nMenubarContent.displayName = MenubarPrimitive.Content.displayName;\nconst MenubarItem = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(MenubarPrimitive.Item, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", inset && \"pl-8\", className) }, props)));\n});\nMenubarItem.displayName = MenubarPrimitive.Item.displayName;\nconst MenubarCheckboxItem = React.forwardRef((_a, ref) => {\n    var { className, children, checked } = _a, props = __rest(_a, [\"className\", \"children\", \"checked\"]);\n    return (_jsxs(MenubarPrimitive.CheckboxItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className), checked: checked }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(MenubarPrimitive.ItemIndicator, { children: _jsx(Check, { className: \"h-4 w-4\" }) }) }), children] })));\n});\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;\nconst MenubarRadioItem = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(MenubarPrimitive.RadioItem, Object.assign({ ref: ref, className: cn(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className) }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(MenubarPrimitive.ItemIndicator, { children: _jsx(Circle, { className: \"h-2 w-2 fill-current\" }) }) }), children] })));\n});\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;\nconst MenubarLabel = React.forwardRef((_a, ref) => {\n    var { className, inset } = _a, props = __rest(_a, [\"className\", \"inset\"]);\n    return (_jsx(MenubarPrimitive.Label, Object.assign({ ref: ref, className: cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className) }, props)));\n});\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName;\nconst MenubarSeparator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(MenubarPrimitive.Separator, Object.assign({ ref: ref, className: cn(\"-mx-1 my-1 h-px bg-muted\", className) }, props)));\n});\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;\nconst MenubarShortcut = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"span\", Object.assign({ className: cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className) }, props)));\n};\nMenubarShortcut.displayname = \"MenubarShortcut\";\nexport { Menubar, MenubarMenu, MenubarTrigger, MenubarContent, MenubarItem, MenubarSeparator, MenubarLabel, MenubarCheckboxItem, MenubarRadioGroup, MenubarRadioItem, MenubarPortal, MenubarSubContent, MenubarSubTrigger, MenubarGroup, MenubarSub, MenubarShortcut, };\n","size_bytes":8042},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/App.js":{"content":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Home from \"@/pages/Home\";\nimport NotFound from \"@/pages/not-found\";\nfunction Router() {\n    return (_jsxs(Switch, { children: [_jsx(Route, { path: \"/\", component: Home }), _jsx(Route, { component: NotFound })] }));\n}\nfunction App() {\n    return (_jsx(QueryClientProvider, { client: queryClient, children: _jsxs(TooltipProvider, { children: [_jsx(Toaster, {}), _jsx(Router, {})] }) }));\n}\nexport default App;\n","size_bytes":739},"client/src/components/ui/badge.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst badgeVariants = cva(\n// Whitespace-nowrap: Badges should never wrap.\n\"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n    \" hover-elevate \", {\n    variants: {\n        variant: {\n            default: \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n            secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n            destructive: \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n            outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n    },\n});\nfunction Badge(_a) {\n    var { className, variant } = _a, props = __rest(_a, [\"className\", \"variant\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(badgeVariants({ variant }), className) }, props)));\n}\nexport { Badge, badgeVariants };\n","size_bytes":1619},"client/src/components/ui/chart.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as RechartsPrimitive from \"recharts\";\nimport { cn } from \"@/lib/utils\";\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" };\nconst ChartContext = React.createContext(null);\nfunction useChart() {\n    const context = React.useContext(ChartContext);\n    if (!context) {\n        throw new Error(\"useChart must be used within a <ChartContainer />\");\n    }\n    return context;\n}\nconst ChartContainer = React.forwardRef((_a, ref) => {\n    var { id, className, children, config } = _a, props = __rest(_a, [\"id\", \"className\", \"children\", \"config\"]);\n    const uniqueId = React.useId();\n    const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`;\n    return (_jsx(ChartContext.Provider, { value: { config }, children: _jsxs(\"div\", Object.assign({ \"data-chart\": chartId, ref: ref, className: cn(\"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\", className) }, props, { children: [_jsx(ChartStyle, { id: chartId, config: config }), _jsx(RechartsPrimitive.ResponsiveContainer, { children: children })] })) }));\n});\nChartContainer.displayName = \"Chart\";\nconst ChartStyle = ({ id, config }) => {\n    const colorConfig = Object.entries(config).filter(([, config]) => config.theme || config.color);\n    if (!colorConfig.length) {\n        return null;\n    }\n    return (_jsx(\"style\", { dangerouslySetInnerHTML: {\n            __html: Object.entries(THEMES)\n                .map(([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n                .map(([key, itemConfig]) => {\n                var _a;\n                const color = ((_a = itemConfig.theme) === null || _a === void 0 ? void 0 : _a[theme]) ||\n                    itemConfig.color;\n                return color ? `  --color-${key}: ${color};` : null;\n            })\n                .join(\"\\n\")}\n}\n`)\n                .join(\"\\n\"),\n        } }));\n};\nconst ChartTooltip = RechartsPrimitive.Tooltip;\nconst ChartTooltipContent = React.forwardRef(({ active, payload, className, indicator = \"dot\", hideLabel = false, hideIndicator = false, label, labelFormatter, labelClassName, formatter, color, nameKey, labelKey, }, ref) => {\n    const { config } = useChart();\n    const tooltipLabel = React.useMemo(() => {\n        var _a;\n        if (hideLabel || !(payload === null || payload === void 0 ? void 0 : payload.length)) {\n            return null;\n        }\n        const [item] = payload;\n        const key = `${labelKey || (item === null || item === void 0 ? void 0 : item.dataKey) || (item === null || item === void 0 ? void 0 : item.name) || \"value\"}`;\n        const itemConfig = getPayloadConfigFromPayload(config, item, key);\n        const value = !labelKey && typeof label === \"string\"\n            ? ((_a = config[label]) === null || _a === void 0 ? void 0 : _a.label) || label\n            : itemConfig === null || itemConfig === void 0 ? void 0 : itemConfig.label;\n        if (labelFormatter) {\n            return (_jsx(\"div\", { className: cn(\"font-medium\", labelClassName), children: labelFormatter(value, payload) }));\n        }\n        if (!value) {\n            return null;\n        }\n        return _jsx(\"div\", { className: cn(\"font-medium\", labelClassName), children: value });\n    }, [\n        label,\n        labelFormatter,\n        payload,\n        hideLabel,\n        labelClassName,\n        config,\n        labelKey,\n    ]);\n    if (!active || !(payload === null || payload === void 0 ? void 0 : payload.length)) {\n        return null;\n    }\n    const nestLabel = payload.length === 1 && indicator !== \"dot\";\n    return (_jsxs(\"div\", { ref: ref, className: cn(\"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\", className), children: [!nestLabel ? tooltipLabel : null, _jsx(\"div\", { className: \"grid gap-1.5\", children: payload.map((item, index) => {\n                    const key = `${nameKey || item.name || item.dataKey || \"value\"}`;\n                    const itemConfig = getPayloadConfigFromPayload(config, item, key);\n                    const indicatorColor = color || item.payload.fill || item.color;\n                    return (_jsx(\"div\", { className: cn(\"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\", indicator === \"dot\" && \"items-center\"), children: formatter && (item === null || item === void 0 ? void 0 : item.value) !== undefined && item.name ? (formatter(item.value, item.name, item, index, item.payload)) : (_jsxs(_Fragment, { children: [(itemConfig === null || itemConfig === void 0 ? void 0 : itemConfig.icon) ? (_jsx(itemConfig.icon, {})) : (!hideIndicator && (_jsx(\"div\", { className: cn(\"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\", {\n                                        \"h-2.5 w-2.5\": indicator === \"dot\",\n                                        \"w-1\": indicator === \"line\",\n                                        \"w-0 border-[1.5px] border-dashed bg-transparent\": indicator === \"dashed\",\n                                        \"my-0.5\": nestLabel && indicator === \"dashed\",\n                                    }), style: {\n                                        \"--color-bg\": indicatorColor,\n                                        \"--color-border\": indicatorColor,\n                                    } }))), _jsxs(\"div\", { className: cn(\"flex flex-1 justify-between leading-none\", nestLabel ? \"items-end\" : \"items-center\"), children: [_jsxs(\"div\", { className: \"grid gap-1.5\", children: [nestLabel ? tooltipLabel : null, _jsx(\"span\", { className: \"text-muted-foreground\", children: (itemConfig === null || itemConfig === void 0 ? void 0 : itemConfig.label) || item.name })] }), item.value && (_jsx(\"span\", { className: \"font-mono font-medium tabular-nums text-foreground\", children: item.value.toLocaleString() }))] })] })) }, item.dataKey));\n                }) })] }));\n});\nChartTooltipContent.displayName = \"ChartTooltip\";\nconst ChartLegend = RechartsPrimitive.Legend;\nconst ChartLegendContent = React.forwardRef(({ className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey }, ref) => {\n    const { config } = useChart();\n    if (!(payload === null || payload === void 0 ? void 0 : payload.length)) {\n        return null;\n    }\n    return (_jsx(\"div\", { ref: ref, className: cn(\"flex items-center justify-center gap-4\", verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\", className), children: payload.map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`;\n            const itemConfig = getPayloadConfigFromPayload(config, item, key);\n            return (_jsxs(\"div\", { className: cn(\"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"), children: [(itemConfig === null || itemConfig === void 0 ? void 0 : itemConfig.icon) && !hideIcon ? (_jsx(itemConfig.icon, {})) : (_jsx(\"div\", { className: \"h-2 w-2 shrink-0 rounded-[2px]\", style: {\n                            backgroundColor: item.color,\n                        } })), itemConfig === null || itemConfig === void 0 ? void 0 : itemConfig.label] }, item.value));\n        }) }));\n});\nChartLegendContent.displayName = \"ChartLegend\";\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(config, payload, key) {\n    if (typeof payload !== \"object\" || payload === null) {\n        return undefined;\n    }\n    const payloadPayload = \"payload\" in payload &&\n        typeof payload.payload === \"object\" &&\n        payload.payload !== null\n        ? payload.payload\n        : undefined;\n    let configLabelKey = key;\n    if (key in payload &&\n        typeof payload[key] === \"string\") {\n        configLabelKey = payload[key];\n    }\n    else if (payloadPayload &&\n        key in payloadPayload &&\n        typeof payloadPayload[key] === \"string\") {\n        configLabelKey = payloadPayload[key];\n    }\n    return configLabelKey in config\n        ? config[configLabelKey]\n        : config[key];\n}\nexport { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle, };\n","size_bytes":9272},"server/testCaseGenerator.ts":{"content":"import { randomUUID } from \"crypto\";\nimport type { WebsiteAnalysis, TestCase, TestCaseGenerationResponse } from \"@shared/schema\";\nimport { matchPromptToElements, type MatchedElement } from \"./promptMatcher\";\n\nfunction xpathLiteral(s: string) {\n\t// produce a safe XPath literal (use double quotes if single quotes exist)\n\tif (s.includes(\"'\") && s.includes('\"')) {\n\t\t// fallback: build concat('a', \"'\", \"b\", '\"', 'c')\n\t\tconst parts: string[] = [];\n\t\tfor (const chunk of s.split(\"'\")) {\n\t\t\tparts.push(`'${chunk}'`);\n\t\t\tparts.push(`\"'\"`);\n\t\t}\n\t\t// remove last inserted extra\n\t\tparts.pop();\n\t\treturn `concat(${parts.join(\",\")})`;\n\t}\n\tif (s.includes(\"'\")) return `\"${s}\"`;\n\treturn `'${s}'`;\n}\n\n// New helper: synthesize a reasonable XPath when el.xpath is missing\nfunction synthesizeXPath(el: any): string {\n\t// prefer id/name/aria/placeholder then tag-based fallbacks\n\tif (!el) return \"//*\";\n\tconst tag = el.tag || '*';\n\tif (el.id) return `//${tag}[@id=${xpathLiteral(el.id)}]`;\n\tif (el.name) return `//${tag}[@name=${xpathLiteral(el.name)}]`;\n\tif (el.ariaLabel) return `//${tag}[@aria-label=${xpathLiteral(el.ariaLabel)}]`;\n\tif (el.placeholder) return `//${tag}[@placeholder=${xpathLiteral(el.placeholder)}]`;\n\t// if selectors contain [name=...] or #id try to convert\n\tif (Array.isArray(el.selectors) && el.selectors.length > 0) {\n\t\tfor (const s of el.selectors) {\n\t\t\tif (typeof s === 'string') {\n\t\t\t\tconst mId = s.match(/^#(.+)$/);\n\t\t\t\tif (mId) return `//${tag}[@id=${xpathLiteral(mId[1])}]`;\n\t\t\t\tconst mName = s.match(/^\\[name=['\"]?(.+?)['\"]?\\]$/);\n\t\t\t\tif (mName) return `//${tag}[@name=${xpathLiteral(mName[1])}]`;\n\t\t\t\tconst mAria = s.match(/^\\[aria-label=['\"]?(.+?)['\"]?\\]$/);\n\t\t\t\tif (mAria) return `//${tag}[@aria-label=${xpathLiteral(mAria[1])}]`;\n\t\t\t}\n\t\t}\n\t}\n\t// text fallback (exact/contains)\n\tif (el.text && String(el.text).trim()) {\n\t\tconst txt = String(el.text).trim().slice(0, 200);\n\t\treturn `//${tag}[contains(normalize-space(.), ${xpathLiteral(txt)})]`;\n\t}\n\t// last resort: positional fallback\n\treturn `//${tag}[1]`;\n}\n\nfunction buildSelectorCandidates(fieldName: string) {\n  const safe = (t: string) => t.replace(/[\"']/g, \"\");\n  const n = safe(fieldName.toLowerCase().trim());\n  // CSS/text-based candidates first (preferred), then XPath fallbacks\n  const cssCandidates = [\n    `[name=\"${n}\"]`,\n    `[id*=\"${n}\"]`,\n    `[data-testid*=\"${n}\"]`,\n    `label:has-text(\"${fieldName}\") >> input`,\n    `text=${fieldName}`,\n    `input[name=\"${n}\"]`,\n    `input[id*=\"${n}\"]`,\n  ];\n\n  const xpathCandidates = [\n    `xpath=//input[@name=${xpathLiteral(n)}]`,\n    `xpath=//input[contains(@id, ${xpathLiteral(n)})]`,\n    `xpath=//input[contains(translate(@placeholder,'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'), ${xpathLiteral(n)})]`,\n    `xpath=//label[contains(normalize-space(.), ${xpathLiteral(fieldName)})]/following::input[1]`,\n    `xpath=//textarea[@name=${xpathLiteral(n)}]`,\n    `xpath=//select[@name=${xpathLiteral(n)}]`,\n  ];\n\n  return [...cssCandidates, ...xpathCandidates];\n}\n\nfunction generatePlaywrightForSteps(analysis: WebsiteAnalysis, tc: TestCase, wrap = true) {\n  // Use provided playwrightCode if available and wrap behavior requested\n  if (tc.playwrightCode && wrap) return tc.playwrightCode;\n  const lines: string[] = [];\n\n  // If wrapping, include imports and test wrapper; otherwise only include inner actions\n  if (wrap) {\n    lines.push(`import { test, expect } from '@playwright/test';`);\n    lines.push(``);\n    lines.push(`test(${JSON.stringify(tc.title)}, async ({ page }) => {`);\n    lines.push(`  // Navigate to the site`);\n    lines.push(`  await page.goto(${JSON.stringify(analysis.url)});`);\n    lines.push(``);\n  } else {\n    // inner body: just navigation line first (without duplicate import)\n    lines.push(`  // Test: ${tc.title}`);\n    lines.push(`  // Navigate to the site`);\n    lines.push(`  await page.goto(${JSON.stringify(analysis.url)});`);\n    lines.push(``);\n  }\n\n  // Try to interpret steps into Playwright actions heuristically\n  tc.steps.slice(0, 50).forEach((step, idx) => {\n    const s = step.toLowerCase();\n    if (s.includes(\"navigate\") || s.includes(\"open\") || s.includes(\"go to\")) {\n      // already handled by goto\n    } else if (s.includes(\"click\") || s.includes(\"press\") || s.includes(\"select\")) {\n      const match = step.match(/click\\s+(?:on\\s+)?[\"']?([^\"']+)[\"']?/i) || step.match(/click\\s+(.*)/i);\n      const target = match ? match[1].trim() : undefined;\n\n      if (target) {\n        // build candidates for button/link by text and XPath\n        const btnCandidates = [\n          `text=${target}`,\n          `xpath=//button[normalize-space()=${xpathLiteral(target)}]`,\n          `xpath=//a[normalize-space()=${xpathLiteral(target)}]`,\n          `xpath=//input[(translate(@value,'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz')=${xpathLiteral(target.toLowerCase())}) and (@type=\"submit\" or @type=\"button\")]`,\n          `xpath=//*[contains(normalize-space(.), ${xpathLiteral(target)}) and (self::button or self::a or @role=\"button\")]`,\n        ];\n        lines.push(`  // Click \"${target}\" - try selectors in order`);\n        lines.push(`  {`);\n        lines.push(`    const candidates = ${JSON.stringify(btnCandidates)};`);\n        lines.push(`    let clicked = false;`);\n        lines.push(`    for (const sel of candidates) {`);\n        lines.push(`      try {`);\n        lines.push(`        const el = page.locator(sel).first();`);\n        lines.push(`        if (await el.count() > 0) { await el.click(); clicked = true; break; }`);\n        lines.push(`      } catch (e) { /* try next */ }`);\n        lines.push(`    }`);\n        lines.push(`    if (!clicked) { /* fallback: click first actionable element */`);\n        lines.push(`      const cta = page.locator('a, button').first();`);\n        lines.push(`      if (await cta.count() > 0) await cta.click();`);\n        lines.push(`    }`);\n        lines.push(`  }`);\n      } else {\n        lines.push(`  // Click: ${JSON.stringify(step)}`);\n        lines.push(`  const cta = page.locator('a, button').first();`);\n        lines.push(`  if (await cta.count() > 0) await cta.click();`);\n      }\n    } else if (s.includes(\"enter\") || s.includes(\"type\") || s.includes(\"fill\")) {\n      const m = step.match(/(?:enter|type|fill)\\s+[\"']?([^\"']+)[\"']?\\s+(?:into|in|to)?\\s*[\"']?([^\"']+)[\"']?/i) ||\n                step.match(/(?:enter|type|fill)\\s+(.*)\\s+into\\s+(.*)/i);\n      if (m) {\n        const value = m[1].trim();\n        const target = m[2].trim();\n        const candidates = buildSelectorCandidates(target);\n        lines.push(`  // Fill ${JSON.stringify(target)} with ${JSON.stringify(value)} - try selectors in order`);\n        lines.push(`  {`);\n        lines.push(`    const candidates = ${JSON.stringify(candidates)};`);\n        lines.push(`    let filled = false;`);\n        lines.push(`    for (const sel of candidates) {`);\n        lines.push(`      try {`);\n        lines.push(`        const el = page.locator(sel).first();`);\n        lines.push(`        if (await el.count() > 0) { await el.fill(${JSON.stringify(value)}); filled = true; break; }`);\n        lines.push(`      } catch (e) { /* try next */ }`);\n        lines.push(`    }`);\n        lines.push(`    if (!filled) {`);\n        lines.push(`      // as a last resort try to type into the first input`);\n        lines.push(`      const fallback = page.locator('input, textarea, [contenteditable]').first();`);\n        lines.push(`      if (await fallback.count() > 0) await fallback.fill(${JSON.stringify(value)});`);\n        lines.push(`    }`);\n        lines.push(`  }`);\n      } else {\n        lines.push(`  // Step [${idx}]: ${JSON.stringify(step)}`);\n      }\n    } else if (s.includes(\"submit\")) {\n      lines.push(`  // Submit first form`);\n      lines.push(`  await page.locator('form').first().evaluate(f => (f as HTMLFormElement).submit());`);\n    } else if (s.includes(\"expect\") || s.includes(\"verify\") || s.includes(\"check\") || s.includes(\"should\")) {\n      const match = step.match(/(?:verify|expect|check|should)\\s+(?:that\\s+)?(?:the\\s+)?(.*)/i);\n      const target = match ? match[1].trim() : step;\n      lines.push(`  // Assertion: ${JSON.stringify(target)}`);\n      lines.push(`  await expect(page.locator('body')).toContainText(${JSON.stringify(target)});`);\n    } else {\n      lines.push(`  // Unparsed instruction: ${JSON.stringify(step)}`);\n    }\n  });\n\n  // Visual snapshot if requested\n  const descLower = (tc.description || \"\").toLowerCase();\n  if (descLower.includes(\"visual\") || descLower.includes(\"screenshot\") || descLower.includes(\"layout\") || descLower.includes(\"render\")) {\n    lines.push(``);\n    lines.push(`  // Visual check: take screenshot for visual validation`);\n    lines.push(`  const screenshot = await page.screenshot({ fullPage: true });`);\n    lines.push(`  // TODO: Compare screenshot to baseline`);\n  }\n\n  if (wrap) {\n    lines.push(`});`);\n    return lines.join(\"\\n\");\n  } else {\n    // inner body returned as string (no closing wrapper)\n    return lines.join(\"\\n\");\n  }\n}\n\nfunction generateFallbackTestCases(analysis: WebsiteAnalysis, userPrompt: string): TestCaseGenerationResponse {\n  const baseUrl = analysis.url;\n  const testCases: TestCase[] = [];\n\n  // Simple site load test\n  testCases.push({\n    id: randomUUID(),\n    title: \"Load site and check basic render\",\n    description: `Verify ${baseUrl} loads and main content is visible`,\n    type: \"UI\",\n    priority: \"High\",\n    steps: [\"Navigate to the homepage\", \"Wait for main content to be visible\"],\n    expectedResult: \"Homepage loads without errors and main content is visible\",\n    playwrightCode: `import { test, expect } from '@playwright/test';\n\ntest('homepage loads', async ({ page }) => {\n  await page.goto('${baseUrl}');\n  await expect(page).toHaveURL(/${baseUrl.replace(/[:\\/.]/g, '\\\\$&')}/);\n  await expect(page.locator('body')).toBeVisible();\n});`,\n  });\n\n  // Navigation test\n  testCases.push({\n    id: randomUUID(),\n    title: \"Primary navigation sanity\",\n    description: \"Click a handful of primary links and confirm pages load\",\n    type: \"E2E\",\n    priority: \"Medium\",\n    steps: [\"Open homepage\", \"Click first 3 site links\", \"Verify target pages load (status and title)\"],\n    expectedResult: \"Primary links navigate to reachable pages\",\n    playwrightCode: `import { test, expect } from '@playwright/test';\n\ntest('navigation links', async ({ page }) => {\n  await page.goto('${baseUrl}');\n  const links = await page.$$eval('a[href^=\"http\"], a[href^=\"/\"]', els => els.slice(0,5).map(a => (a as HTMLAnchorElement).href));\n  for (const href of links) {\n    if (!href) continue;\n    await page.goto(href);\n    await expect(page).not.toHaveURL(/about:blank/);\n  }\n});`,\n  });\n\n  // Derive form tests if forms are present\n  if (analysis.forms && analysis.forms.length > 0) {\n    analysis.forms.forEach((form) => {\n      // normalize field names\n      const fieldNames = (form.fields || []).map((f: any) => (typeof f === \"string\" ? f : f.name));\n      testCases.push({\n        id: randomUUID(),\n        title: `Form validation: ${form.name}`,\n        description: `Validate required fields and basic submit for form \"${form.name}\"`,\n        type: \"UI\",\n        priority: \"High\",\n        steps: [\n          `Navigate to ${baseUrl}`,\n          `Locate form \"${form.name}\" and try to submit empty`,\n          `Verify validation messages for fields: ${fieldNames.join(\", \")}`,\n        ],\n        expectedResult: `Form \"${form.name}\" shows validation errors and prevents empty submission`,\n        playwrightCode: `import { test, expect } from '@playwright/test';\n\ntest('form validation - ${form.name}', async ({ page }) => {\n  await page.goto('${baseUrl}');\n  const form = page.locator('form').first();\n  await form.locator('button[type=\"submit\"]').click().catch(() => {});\n  ${fieldNames.map((f: string) => `await expect(page.locator('[name=\"${f}\"], [id*=\"${f}\"], [data-testid*=\"${f}\"], label:has-text(\"${f}\")')).toBeTruthy();`).join(\"\\n  \")}\n});`,\n      });\n    });\n  }\n\n  // Add a sample user flow based on prompt\n  testCases.push({\n    id: randomUUID(),\n    title: \"Representative user flow from prompt\",\n    description: `Representative flow derived from prompt: \"${userPrompt}\"`,\n    type: \"E2E\",\n    priority: \"Medium\",\n    steps: [\"Open homepage\", \"Perform typical user actions described in the prompt (CTA, login attempt, navigation)\"],\n    expectedResult: \"Representative flow completes without fatal errors\",\n    playwrightCode: `import { test, expect } from '@playwright/test';\n\ntest('representative user flow', async ({ page }) => {\n  await page.goto('${baseUrl}');\n  const cta = page.locator('a, button').filter({ hasText: /get started|sign up|login|submit/i }).first();\n  if (await cta.count() > 0) await cta.click();\n  // assertions should be customized per app\n  await expect(page).toHaveURL(/${baseUrl.replace(/[:\\/.]/g, '\\\\$&')}/);\n});`,\n  });\n\n  // Summary\n  const byType: Record<string, number> = {};\n  testCases.forEach(tc => (byType[tc.type] = (byType[tc.type] || 0) + 1));\n\n  return {\n    analysis,\n    testCases,\n    summary: {\n      totalTests: testCases.length,\n      byType,\n      coverageAreas: Object.keys(byType),\n    },\n  };\n}\n\n/**\n * Build Playwright code using stored XPaths\n */\nfunction generatePlaywrightCodeWithXPaths(\n  analysis: WebsiteAnalysis | StoredXPathData,\n  steps: string[],\n  testTitle: string\n): string {\n  const lines: string[] = [];\n  \n  lines.push(`import { test, expect } from '@playwright/test';`);\n  lines.push(``);\n  lines.push(`test('${testTitle}', async ({ page }) => {`);\n  lines.push(`  // Navigate to the site`);\n  lines.push(`  await page.goto('${analysis.url}');`);\n  lines.push(`  await page.waitForLoadState('networkidle');`);\n  lines.push(``);\n\n  for (const step of steps) {\n    const stepLower = step.toLowerCase();\n\n    // Fill branch: normalize field selectors\n    const fillMatch = step.match(/(?:fill|enter|type)\\s+[\"']?([^\"']+)[\"']?\\s+(?:with\\s+)?[\"']?([^\"']+)[\"']?/i);\n    if (fillMatch) {\n      const fieldName = fillMatch[1]?.trim() || \"\";\n      const value = fillMatch[2]?.trim() || (fieldName.toLowerCase().includes(\"pass\") ? \"TestPassword123!\" : \"test@example.com\");\n      const fieldSel = getFieldSelectors(analysis, fieldName);\n\n      lines.push(`  // Fill field: ${fieldName}`);\n      lines.push(`  { let filled = false;`);\n      if (fieldSel.css.length) {\n        lines.push(`    for (const sel of ${JSON.stringify(fieldSel.css)}) { try { const el = page.locator(sel).first(); if (await el.count() > 0) { await el.fill(${JSON.stringify(value)}); filled = true; break; } } catch {} }`);\n      }\n      if (!fieldSel.css.length && !fieldSel.xpaths.length) {\n        // heuristic candidates\n        const candidates = buildSelectorCandidates(fieldName);\n        lines.push(`    if (!filled) for (const sel of ${JSON.stringify(candidates)}) { try { const el = page.locator(sel).first(); if (await el.count() > 0) { await el.fill(${JSON.stringify(value)}); filled = true; break; } } catch {} }`);\n      } else if (fieldSel.xpaths.length) {\n        lines.push(`    if (!filled) for (const xp of ${JSON.stringify(fieldSel.xpaths)}) { try { const el = page.locator(\\`xpath=\\${xp}\\`).first(); if (await el.count() > 0) { await el.fill(${JSON.stringify(value)}); filled = true; break; } } catch {} }`);\n      }\n      lines.push(`    if (!filled) throw new Error('Failed to fill field: ${fieldName}'); }`);\n      lines.push(``);\n      continue;\n    }\n\n    // Click branch: normalize button selectors\n    const clickMatch = step.match(/click\\s+[\"']?([^\"']+)[\"']?/i);\n    if (clickMatch) {\n      const buttonText = clickMatch[1]?.trim() || \"Login\";\n      const btnSel = getButtonSelectors(analysis, buttonText);\n\n      lines.push(`  // Click button: ${buttonText}`);\n      lines.push(`  { let clicked = false;`);\n      if (btnSel.css.length) {\n        lines.push(`    for (const sel of ${JSON.stringify(btnSel.css)}) { try { const el = page.locator(sel).first(); if (await el.count() > 0) { await el.click(); clicked = true; break; } } catch {} }`);\n      }\n      if (btnSel.xpaths.length) {\n        lines.push(`    if (!clicked) for (const xp of ${JSON.stringify(btnSel.xpaths)}) { try { const el = page.locator(\\`xpath=\\${xp}\\`).first(); if (await el.count() > 0) { await el.click(); clicked = true; break; } } catch {} }`);\n      }\n      if (!btnSel.css.length && !btnSel.xpaths.length) {\n        lines.push(`    if (!clicked) for (const sel of ${JSON.stringify(buildTextBasedButtonCandidates(buttonText))}) { try { const el = page.locator(sel).first(); if (await el.count() > 0) { await el.click(); clicked = true; break; } } catch {} }`);\n      }\n      lines.push(`    if (!clicked) throw new Error('Failed to click button: ${buttonText}'); }`);\n      lines.push(`  await page.waitForLoadState('networkidle');`);\n      lines.push(``);\n      continue;\n    }\n\n    // Parse verification steps\n    if (stepLower.includes('verify') || stepLower.includes('check') || stepLower.includes('expect')) {\n      const textMatch = step.match(/(?:verify|check|expect)\\s+(?:that\\s+)?[\"']?([^\"']+)[\"']?/i);\n      const text = textMatch ? textMatch[1]?.trim() : 'dashboard';\n      lines.push(`  // Verify: ${text}`);\n      lines.push(`  await expect(page.locator('body')).toContainText('${text}', { timeout: 5000 });`);\n      lines.push(``);\n      continue;\n    }\n\n    // Generic step comment\n    lines.push(`  // ${step}`);\n    lines.push(`  await page.waitForTimeout(500);`);\n    lines.push(``);\n  }\n\n  lines.push(`  // Take screenshot of final state`);\n  lines.push(`  await page.screenshot({ path: 'test-result.png', fullPage: true });`);\n  lines.push(`});`);\n\n  return lines.join('\\n');\n}\n\nfunction interpretUserPromptToSteps(userPrompt: string, analysis: WebsiteAnalysis | StoredXPathData) {\n  const steps: string[] = [\"Navigate to the homepage\"];\n  \n  let usernameField: string | undefined;\n  let passwordField: string | undefined;\n  let loginButton: string | undefined;\n\n  // Find username/password fields from scraped forms\n  if ('forms' in analysis && Array.isArray(analysis.forms)) {\n    for (const form of analysis.forms) {\n      for (const field of form.fields) {\n        const fname = (field.name || \"\").toLowerCase();\n        if (!usernameField && (fname.includes(\"user\") || fname.includes(\"email\") || fname.includes(\"login\"))) {\n          usernameField = field.name;\n        }\n        if (!passwordField && fname.includes(\"pass\")) {\n          passwordField = field.name;\n        }\n      }\n    }\n  }\n\n  // Find login button from scraped buttons\n  const buttons = ((analysis as any).buttonsWithSelectors || (analysis as any).buttons || []);\n  for (const btn of buttons) {\n    const text = typeof btn === 'string' ? btn : (btn.text || \"\");\n    if (/login|sign.?in/i.test(text)) {\n      loginButton = text;\n      break;\n    }\n  }\n\n  if (usernameField) steps.push(`Fill \"${usernameField}\" with \"testuser@example.com\"`);\n  if (passwordField) steps.push(`Fill \"${passwordField}\" with \"TestPassword123!\"`);\n  if (loginButton) steps.push(`Click \"${loginButton}\"`);\n  steps.push(\"Verify successful navigation or dashboard visible\");\n\n  return { steps, meta: { usernameField, passwordField, loginButton } };\n}\n\nexport async function generateTestCases(\n  analysis: WebsiteAnalysis,\n  userPrompt: string\n): Promise<TestCaseGenerationResponse> {\n  console.log(`[TestGen] Prompt: \"${userPrompt}\"`);\n  console.log(`[TestGen] Elements: ${analysis.allInteractive?.length || 0}`);\n  \n  if (!analysis.allInteractive || analysis.allInteractive.length === 0) {\n    console.error('[TestGen] No elements found!');\n    throw new Error('No interactive elements found on page');\n  }\n  \n  const matches = matchPromptToElements(userPrompt, analysis);\n  \n  const steps: string[] = [];\n  \n  for (const match of matches.fields) {\n    const el = match.element;\n    const fieldName = el.placeholder || el.name || el.text || 'field';\n    // ensure xpath exists (use synthesized if necessary)\n    const xpath = el.xpath || synthesizeXPath(el);\n    if (!el.xpath) console.warn(`[TestGen] Synthesized xpath for field \"${fieldName}\": ${xpath}`);\n    steps.push(`Fill \"${fieldName}\" with test data`);\n    console.log(`[TestGen] Field: ${fieldName} → ${xpath}`);\n    // attach synthesized xpath back onto element so later code generation can use it\n    (el as any).xpath = xpath;\n  }\n  \n  for (const match of matches.buttons) {\n    const el = match.element;\n    const buttonText = el.text || el.name || 'button';\n    const xpath = el.xpath || synthesizeXPath(el);\n    if (!el.xpath) console.warn(`[TestGen] Synthesized xpath for button \"${buttonText}\": ${xpath}`);\n    steps.push(`Click \"${buttonText}\"`);\n    console.log(`[TestGen] Button: ${buttonText} → ${xpath}`);\n    (el as any).xpath = xpath;\n  }\n  \n  steps.push(\"Verify successful action\");\n  \n  const playwrightCode = generatePlaywrightCodeFromMatches(analysis.url, matches, steps);\n  \n  const testCase: TestCase = {\n    id: randomUUID(),\n    title: `Test - ${userPrompt.substring(0, 50)}`,\n    description: `Generated from: \"${userPrompt}\"`,\n    type: \"E2E\",\n    priority: \"High\",\n    steps,\n    expectedResult: \"All steps succeed\",\n    playwrightCode,\n  };\n  \n  return {\n    analysis,\n    testCases: [testCase],\n    summary: {\n      totalTests: 1,\n      byType: { E2E: 1 },\n      coverageAreas: [\"User Flow\"],\n    },\n  };\n}\n\nfunction generatePlaywrightCodeFromMatches(\n  url: string,\n  matches: { fields: MatchedElement[]; buttons: MatchedElement[] },\n  steps: string[]\n): string {\n  const lines: string[] = [];\n  \n  lines.push(`import { test, expect } from '@playwright/test';`);\n  lines.push(``);\n  lines.push(`test('Generated Test', async ({ page }) => {`);\n  lines.push(`  await page.goto('${url}');`);\n  lines.push(`  await page.waitForLoadState('networkidle');`);\n  lines.push(``);\n  \n  for (const match of matches.fields) {\n    const el = match.element;\n    const fieldName = el.placeholder || el.name || el.text;\n    // prefer actual xpath, synthesize if missing (should already be set above)\n    const xpath = el.xpath || synthesizeXPath(el);\n    const value = fieldName.toLowerCase().includes('pass') ? 'TestPassword123!' : 'testuser@example.com';\n    \n    lines.push(`  // Fill: ${fieldName}`);\n    lines.push(`  await page.locator('xpath=${xpath}').fill('${value}');`);\n    lines.push(``);\n  }\n  \n  for (const match of matches.buttons) {\n    const el = match.element;\n    const buttonText = el.text || el.name;\n    const xpath = el.xpath || synthesizeXPath(el);\n    \n    lines.push(`  // Click: ${buttonText}`);\n    lines.push(`  await page.locator('xpath=${xpath}').click();`);\n    lines.push(`  await page.waitForLoadState('networkidle');`);\n    lines.push(``);\n  }\n  \n  lines.push(`  await expect(page).toHaveURL(/./);`);\n  lines.push(`});`);\n  \n  return lines.join('\\n');\n}\n\nfunction getFieldSelectors(\n  analysis: WebsiteAnalysis | StoredXPathData,\n  fieldName: string\n): { css: string[]; xpaths: string[] } {\n  const css: string[] = [];\n  const xpaths: string[] = [];\n  const nl = (fieldName || \"\").toLowerCase();\n\n  if ('forms' in analysis && Array.isArray(analysis.forms)) {\n    for (const form of analysis.forms) {\n      for (const f of form.fields) {\n        const fname = (f.name || \"\").toLowerCase();\n        const match =\n          fname.includes(nl) ||\n          nl.includes(fname) ||\n          (nl.includes(\"user\") && (fname.includes(\"user\") || fname.includes(\"email\"))) ||\n          (nl.includes(\"pass\") && fname.includes(\"pass\"));\n        if (match) {\n          // Add all available selectors\n          if (Array.isArray(f.css)) css.push(...f.css);\n          if (Array.isArray(f.xpaths)) xpaths.push(...f.xpaths);\n          if (Array.isArray(f.selectors)) css.push(...f.selectors);\n          // Add single selector fields if arrays are empty\n          if (f.xpath && !xpaths.includes(f.xpath)) xpaths.push(f.xpath);\n          if (f.cssSelector && !css.includes(f.cssSelector)) css.push(f.cssSelector);\n        }\n      }\n    }\n  }\n  // Debug log\n  if (css.length === 0 && xpaths.length === 0) {\n    console.warn(`[getFieldSelectors] No selectors found for field \"${fieldName}\".`);\n  }\n  return { css: Array.from(new Set(css)), xpaths: Array.from(new Set(xpaths)) };\n}\n\nfunction getButtonSelectors(\n  analysis: WebsiteAnalysis | StoredXPathData,\n  buttonText: string\n): { css: string[]; xpaths: string[] } {\n  const css: string[] = [];\n  const xpaths: string[] = [];\n  const tl = (buttonText || \"\").toLowerCase();\n\n  const scan = (arr: any[] | undefined) => {\n    if (!Array.isArray(arr)) return;\n    for (const item of arr) {\n      if (item && typeof item === \"object\" && \"text\" in item) {\n        const t = String((item as any).text || \"\").toLowerCase();\n        if (t.includes(tl) || tl.includes(t)) {\n          if (Array.isArray((item as any).css)) css.push(...(item as any).css);\n          if (Array.isArray((item as any).xpaths)) xpaths.push(...(item as any).xpaths);\n          if (Array.isArray((item as any).selectors)) css.push(...(item as any).selectors);\n          if ((item as any).xpath && !xpaths.includes((item as any).xpath)) xpaths.push((item as any).xpath);\n          if ((item as any).cssSelector && !css.includes((item as any).cssSelector)) css.push((item as any).cssSelector);\n        }\n      }\n    }\n  };\n\n  scan((analysis as any).buttonsWithSelectors);\n  scan((analysis as any).buttons);\n\n  // Debug log\n  if (css.length === 0 && xpaths.length === 0) {\n    console.warn(`[getButtonSelectors] No selectors found for button \"${buttonText}\".`);\n  }\n  return { css: Array.from(new Set(css)), xpaths: Array.from(new Set(xpaths)) };\n}\n\nfunction buildTextBasedButtonCandidates(text: string): string[] {\n  return [\n    `text=${text}`,\n    `xpath=//button[normalize-space()=${xpathLiteral(text)}]`,\n    `xpath=//a[normalize-space()=${xpathLiteral(text)}]`,\n    `xpath=//input[(translate(@value,'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz')=${xpathLiteral(text.toLowerCase())}) and (@type=\"submit\" or @type=\"button\")]`,\n    `xpath=//*[contains(normalize-space(.), ${xpathLiteral(text)}) and (self::button or self::a or @role=\"button\")]`,\n  ];\n}\n\nexport function makePlaywrightTestFile(\n  analysis: WebsiteAnalysis,\n  testCases: TestCase[]\n): string {\n  const lines: string[] = [];\n  lines.push(`import { test, expect } from '@playwright/test';`);\n  lines.push(``);\n  lines.push(`// Generated test file for ${analysis.url}`);\n  lines.push(`// Generated at: ${new Date().toISOString()}`);\n  lines.push(``);\n\n  for (const tc of testCases) {\n    if (tc.playwrightCode) {\n      // Remove import if already present in individual test\n      const code = tc.playwrightCode.replace(/^import.*?;\\s*/gm, '');\n      lines.push(code);\n      lines.push(``);\n    }\n  }\n\n  return lines.join('\\n');\n}\n","size_bytes":26761},"client/src/test/TestCaseGenerator.test.tsx":{"content":"import { describe, it, expect, vi } from 'vitest';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport TestCaseGenerator from '../components/TestCaseGenerator';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: false,\n    },\n  },\n});\n\ndescribe('TestCaseGenerator', () => {\n  const renderComponent = () => {\n    return render(\n      <QueryClientProvider client={queryClient}>\n        <TestCaseGenerator />\n      </QueryClientProvider>\n    );\n  };\n\n  it('renders form inputs correctly', () => {\n    renderComponent();\n    \n    expect(screen.getByTestId('input-url')).toBeInTheDocument();\n    expect(screen.getByTestId('input-prompt')).toBeInTheDocument();\n    expect(screen.getByTestId('button-generate')).toBeInTheDocument();\n  });\n\n  it('validates required fields', async () => {\n    renderComponent();\n    \n    fireEvent.click(screen.getByTestId('button-generate'));\n    \n    await waitFor(() => {\n      expect(screen.getByText(/please enter a valid url/i)).toBeInTheDocument();\n    });\n  });\n});\n","size_bytes":1141},"server/selectorModel.ts":{"content":"import type { WebsiteAnalysis } from \"@shared/schema\";\nimport type { ElementContext } from \"./intelligentLocator\";\nimport { selectBestSelectorsFromElements } from \"./intelligentLocator\";\n\n/**\n * Escape string for XPath literal\n */\nfunction xpathLiteral(s: string) {\n  if (s.includes(\"'\") && s.includes('\"')) {\n    const parts: string[] = [];\n    for (const chunk of s.split(\"'\")) {\n      parts.push(`'${chunk}'`);\n      parts.push(`\"'\"`);\n    }\n    parts.pop();\n    return `concat(${parts.join(\",\")})`;\n  }\n  if (s.includes(\"'\")) return `\"${s}\"`;\n  return `'${s}'`;\n}\n\n/**\n * Build multiple XPath candidates for an element\n */\nfunction buildXPathCandidates(el: Partial<ElementContext> & { xpath?: string }) {\n  const candidates: string[] = [];\n\n  if (el.id) candidates.push(`//${el.tag || '*'}[@id=${xpathLiteral(el.id)}]`);\n  if (el.name) candidates.push(`//${el.tag || '*'}[@name=${xpathLiteral(el.name)}]`);\n  if (el.ariaLabel) candidates.push(`//${el.tag || '*'}[@aria-label=${xpathLiteral(el.ariaLabel)}]`);\n  if (el.placeholder) candidates.push(`//${el.tag || '*'}[@placeholder=${xpathLiteral(el.placeholder)}]`);\n\n  // Text-based candidates (exact and contains)\n  const text = (el.text || '').trim();\n  if (text) {\n    const short = text.length > 200 ? text.slice(0, 200) : text;\n    candidates.push(`//${el.tag || '*'}[normalize-space()=${xpathLiteral(short)}]`);\n    candidates.push(`//${el.tag || '*'}[contains(normalize-space(.), ${xpathLiteral(short)})]`);\n    // also a generic text fallback (any tag)\n    candidates.push(`//*[normalize-space()=${xpathLiteral(short)}]`);\n    candidates.push(`//*[contains(normalize-space(.), ${xpathLiteral(short)})]`);\n  }\n\n  // label -> input pattern\n  if (el.name || el.placeholder || el.ariaLabel) {\n    const labelText : any = el.name || el.placeholder || el.ariaLabel;\n    candidates.push(`//label[contains(normalize-space(.), ${xpathLiteral(labelText)})]/following::input[1]`);\n    candidates.push(`//label[contains(normalize-space(.), ${xpathLiteral(labelText)})]/following::*[1]`);\n  }\n\n  // include stored positional xpath if present\n  if (el.xpath) candidates.push(el.xpath);\n\n  // positional fallback generic: first occurrence of tag with index 1\n  if (el.tag) candidates.push(`//${el.tag}[1]`);\n\n  // dedupe preserving order\n  return Array.from(new Set(candidates));\n}\n\n/**\n * Infer a selector (primarily XPath) for an intent given a site analysis.\n * Uses selectBestSelectorsFromElements (Gemini/OpenAI/heuristic) internally.\n */\nexport async function inferSelectorForIntent(\n  intent: string,\n  analysis: WebsiteAnalysis\n): Promise<{\n  success: boolean;\n  chosen?: string;\n  candidates: string[];\n  element?: ElementContext | null;\n  confidence: number;\n  source: \"gemini\" | \"openai\" | \"heuristic\" | \"none\";\n  reasoning?: string;\n}> {\n  const elements = (analysis as any).allInteractive || [];\n  if (!elements || elements.length === 0) {\n    return { success: false, candidates: [], element: null, confidence: 0, source: \"none\", reasoning: \"No interactive elements scraped\" };\n  }\n\n  const { element, selector, confidence, source } = await selectBestSelectorsFromElements(intent, elements as ElementContext[]);\n\n  if (!element) {\n    return { success: false, candidates: [], element: null, confidence: 0, source: \"none\", reasoning: \"No matching element\" };\n  }\n\n  // If scraper provided xpathCandidates, prefer them\n  const providedCandidates: string[] = Array.isArray((element as any).xpathCandidates) ? (element as any).xpathCandidates : [];\n\n  // Build fallback candidates from element properties (existing logic)\n  const fallbackCandidates = buildXPathCandidates({ ...element, xpath: (element as any).xpath });\n\n  // Combine candidates with scraper-provided ones first\n  const xpathCandidates = [...providedCandidates, ...fallbackCandidates].filter(Boolean);\n\n  // Determine chosen xpath:\n  let chosen: string | undefined;\n  if ((element as any).xpath) chosen = (element as any).xpath; // prefer stored xpath\n  else if (selector && typeof selector === \"string\" && selector.startsWith(\"xpath=\")) chosen = selector.replace(/^xpath=/, '');\n  else if (xpathCandidates.length > 0) chosen = xpathCandidates[0];\n\n  // Normalize chosen\n  if (typeof chosen === 'string' && chosen.startsWith('xpath=')) chosen = chosen.replace(/^xpath=/, '');\n\n  const reasoning = `Matched by ${source} (confidence ${ (confidence || 0).toFixed(2) }) — element tag=${element.tag} id=${element.id || '-'} name=${element.name || '-'} aria=${element.ariaLabel || '-'}`;\n\n  return {\n    success: true,\n    chosen,\n    candidates: xpathCandidates,\n    element,\n    confidence: confidence || 0,\n    source,\n    reasoning,\n  };\n}\n","size_bytes":4663},"client/src/components/ui/navigation-menu.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst NavigationMenu = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(NavigationMenuPrimitive.Root, Object.assign({ ref: ref, className: cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className) }, props, { children: [children, _jsx(NavigationMenuViewport, {})] })));\n});\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\nconst NavigationMenuList = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(NavigationMenuPrimitive.List, Object.assign({ ref: ref, className: cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className) }, props)));\n});\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\nconst navigationMenuTriggerStyle = cva(\"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\");\nconst NavigationMenuTrigger = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(NavigationMenuPrimitive.Trigger, Object.assign({ ref: ref, className: cn(navigationMenuTriggerStyle(), \"group\", className) }, props, { children: [children, \" \", _jsx(ChevronDown, { className: \"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\", \"aria-hidden\": \"true\" })] })));\n});\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\nconst NavigationMenuContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(NavigationMenuPrimitive.Content, Object.assign({ ref: ref, className: cn(\"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \", className) }, props)));\n});\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\nconst NavigationMenuViewport = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", { className: cn(\"absolute left-0 top-full flex justify-center\"), children: _jsx(NavigationMenuPrimitive.Viewport, Object.assign({ className: cn(\"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\", className), ref: ref }, props)) }));\n});\nNavigationMenuViewport.displayName =\n    NavigationMenuPrimitive.Viewport.displayName;\nconst NavigationMenuIndicator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(NavigationMenuPrimitive.Indicator, Object.assign({ ref: ref, className: cn(\"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\", className) }, props, { children: _jsx(\"div\", { className: \"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" }) })));\n});\nNavigationMenuIndicator.displayName =\n    NavigationMenuPrimitive.Indicator.displayName;\nexport { navigationMenuTriggerStyle, NavigationMenu, NavigationMenuList, NavigationMenuItem, NavigationMenuContent, NavigationMenuTrigger, NavigationMenuLink, NavigationMenuIndicator, NavigationMenuViewport, };\n","size_bytes":5069},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\n    \"./client/index.html\",\n    \"./client/src/**/*.{ts,tsx}\",\n  ],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\"\n      },\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },\n    }\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n} satisfies Config;\n","size_bytes":1526},"client/src/components/ui/select.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Select = SelectPrimitive.Root;\nconst SelectGroup = SelectPrimitive.Group;\nconst SelectValue = SelectPrimitive.Value;\nconst SelectTrigger = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(SelectPrimitive.Trigger, Object.assign({ ref: ref, className: cn(\"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\", className) }, props, { children: [children, _jsx(SelectPrimitive.Icon, { asChild: true, children: _jsx(ChevronDown, { className: \"h-4 w-4 opacity-50\" }) })] })));\n});\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\nconst SelectScrollUpButton = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SelectPrimitive.ScrollUpButton, Object.assign({ ref: ref, className: cn(\"flex cursor-default items-center justify-center py-1\", className) }, props, { children: _jsx(ChevronUp, { className: \"h-4 w-4\" }) })));\n});\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\nconst SelectScrollDownButton = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SelectPrimitive.ScrollDownButton, Object.assign({ ref: ref, className: cn(\"flex cursor-default items-center justify-center py-1\", className) }, props, { children: _jsx(ChevronDown, { className: \"h-4 w-4\" }) })));\n});\nSelectScrollDownButton.displayName =\n    SelectPrimitive.ScrollDownButton.displayName;\nconst SelectContent = React.forwardRef((_a, ref) => {\n    var { className, children, position = \"popper\" } = _a, props = __rest(_a, [\"className\", \"children\", \"position\"]);\n    return (_jsx(SelectPrimitive.Portal, { children: _jsxs(SelectPrimitive.Content, Object.assign({ ref: ref, className: cn(\"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\", position === \"popper\" &&\n                \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\", className), position: position }, props, { children: [_jsx(SelectScrollUpButton, {}), _jsx(SelectPrimitive.Viewport, { className: cn(\"p-1\", position === \"popper\" &&\n                        \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"), children: children }), _jsx(SelectScrollDownButton, {})] })) }));\n});\nSelectContent.displayName = SelectPrimitive.Content.displayName;\nconst SelectLabel = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SelectPrimitive.Label, Object.assign({ ref: ref, className: cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className) }, props)));\n});\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\nconst SelectItem = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(SelectPrimitive.Item, Object.assign({ ref: ref, className: cn(\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className) }, props, { children: [_jsx(\"span\", { className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\", children: _jsx(SelectPrimitive.ItemIndicator, { children: _jsx(Check, { className: \"h-4 w-4\" }) }) }), _jsx(SelectPrimitive.ItemText, { children: children })] })));\n});\nSelectItem.displayName = SelectPrimitive.Item.displayName;\nconst SelectSeparator = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SelectPrimitive.Separator, Object.assign({ ref: ref, className: cn(\"-mx-1 my-1 h-px bg-muted\", className) }, props)));\n});\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\nexport { Select, SelectGroup, SelectValue, SelectTrigger, SelectContent, SelectLabel, SelectItem, SelectSeparator, SelectScrollUpButton, SelectScrollDownButton, };\n","size_bytes":5578},"client/src/components/ui/button.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst buttonVariants = cva(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n    \" hover-elevate active-elevate-2\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground border border-primary-border\",\n            destructive: \"bg-destructive text-destructive-foreground border border-destructive-border\",\n            outline: \n            // Shows the background color of whatever card / sidebar / accent background it is inside of.\n            // Inherits the current text color.\n            \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n            secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n            // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n            ghost: \"border border-transparent\",\n        },\n        // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n        // inside buttons. With a min-height they will look appropriate with small amounts of content,\n        // but will expand to fit large amounts of content.\n        size: {\n            default: \"min-h-9 px-4 py-2\",\n            sm: \"min-h-8 rounded-md px-3 text-xs\",\n            lg: \"min-h-10 rounded-md px-8\",\n            icon: \"h-9 w-9\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\",\n    },\n});\nconst Button = React.forwardRef((_a, ref) => {\n    var { className, variant, size, asChild = false } = _a, props = __rest(_a, [\"className\", \"variant\", \"size\", \"asChild\"]);\n    const Comp = asChild ? Slot : \"button\";\n    return (_jsx(Comp, Object.assign({ className: cn(buttonVariants({ variant, size, className })), ref: ref }, props)));\n});\nButton.displayName = \"Button\";\nexport { Button, buttonVariants };\n","size_bytes":2781},"client/src/__tests__/TestCaseGenerator.test.js":{"content":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { describe, it, expect, beforeEach } from 'vitest';\nimport TestCaseGenerator from '../components/TestCaseGenerator';\ndescribe('TestCaseGenerator', () => {\n    const queryClient = new QueryClient();\n    beforeEach(() => {\n        render(_jsx(QueryClientProvider, { client: queryClient, children: _jsx(TestCaseGenerator, {}) }));\n    });\n    it('should render the form inputs', () => {\n        expect(screen.getByTestId('input-url')).toBeInTheDocument();\n        expect(screen.getByTestId('input-prompt')).toBeInTheDocument();\n        expect(screen.getByTestId('button-generate')).toBeInTheDocument();\n    });\n    it('should validate form inputs', async () => {\n        fireEvent.click(screen.getByTestId('button-generate'));\n        await waitFor(() => {\n            expect(screen.getByText(/please enter a valid url/i)).toBeInTheDocument();\n        });\n    });\n    it('should generate test cases successfully', async () => {\n        fireEvent.change(screen.getByTestId('input-url'), {\n            target: { value: 'https://example.com' }\n        });\n        fireEvent.change(screen.getByTestId('input-prompt'), {\n            target: { value: 'Test the login functionality' }\n        });\n        fireEvent.click(screen.getByTestId('button-generate'));\n        await waitFor(() => {\n            expect(screen.getByText(/test cases generated successfully/i)).toBeInTheDocument();\n        });\n    });\n});\n","size_bytes":1608},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/LiveAutomationPlayer.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Loader2, PlayCircle, StopCircle, RotateCcw, Zap } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface Step {\n  instruction: string;\n  status: 'pending' | 'executing' | 'success' | 'failed';\n  selector?: string;\n  confidence?: number;\n  error?: string;\n}\n\nexport default function LiveAutomationPlayer() {\n  const [url, setUrl] = useState(\"https://practicetestautomation.com/practice-test-login/\");\n  const [instruction, setInstruction] = useState(\"\");\n  const [steps, setSteps] = useState<Step[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [playing, setPlaying] = useState(false);\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const { toast } = useToast();\n\n  // Load initial page\n  const loadPage = async () => {\n    if (!url.trim()) {\n      toast({ title: \"Enter a URL\", variant: \"destructive\" });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/page-screenshot\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ url }),\n      });\n\n      if (!res.ok) throw new Error('Failed to load page');\n\n      const html = await res.text();\n      const blob = new Blob([html], { type: \"text/html; charset=utf-8\" });\n      const objUrl = URL.createObjectURL(blob);\n      \n      if (iframeRef.current) {\n        iframeRef.current.src = objUrl;\n      }\n\n      toast({ title: \"✓ Page loaded\", description: \"Ready for instructions\" });\n    } catch (error: any) {\n      toast({ title: \"Load failed\", description: error.message, variant: \"destructive\" });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Execute single instruction with visual feedback\n  const executeInstruction = async (instr: string) => {\n    const newStep: Step = {\n      instruction: instr,\n      status: 'executing'\n    };\n\n    setSteps(prev => [...prev, newStep]);\n\n    try {\n      // Parse instruction\n      const parseRes = await fetch(\"/api/parse-instructions\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ prompt: instr }),\n      });\n\n      if (!parseRes.ok) throw new Error('Parse failed');\n\n      const { actions } = await parseRes.json();\n      \n      if (actions.length === 0) {\n        throw new Error('No actions found');\n      }\n\n      const action = actions[0];\n\n      // Find element\n      const locateRes = await fetch(\"/api/intelligent-locate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n          url, \n          intent: action.intent,\n          elementType: action.elementType\n        }),\n      });\n\n      if (!locateRes.ok) throw new Error('Locate failed');\n\n      const { strategy } = await locateRes.json();\n\n      // Highlight element in iframe\n      highlightElement(strategy.element);\n\n      // Simulate action execution\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      setSteps(prev => prev.map((s, i) => \n        i === prev.length - 1 \n          ? { ...s, status: 'success', selector: strategy.selector, confidence: strategy.confidence }\n          : s\n      ));\n\n      toast({ \n        title: \"✓ Action executed\", \n        description: `${action.type} on \"${action.intent}\" (${Math.round(strategy.confidence * 100)}% confidence)` \n      });\n\n    } catch (error: any) {\n      setSteps(prev => prev.map((s, i) => \n        i === prev.length - 1 \n          ? { ...s, status: 'failed', error: error.message }\n          : s\n      ));\n\n      toast({ title: \"Execution failed\", description: error.message, variant: \"destructive\" });\n    }\n  };\n\n  // Highlight element in iframe\n  const highlightElement = (element: any) => {\n    if (!iframeRef.current || !element.boundingBox) return;\n\n    try {\n      const iframeDoc = iframeRef.current.contentDocument;\n      if (!iframeDoc) return;\n\n      // Remove previous highlight\n      const existing = iframeDoc.getElementById('ai-highlight');\n      if (existing) existing.remove();\n\n      // Add new highlight\n      const highlight = iframeDoc.createElement('div');\n      highlight.id = 'ai-highlight';\n      highlight.style.cssText = `\n        position: absolute;\n        left: ${element.boundingBox.x}px;\n        top: ${element.boundingBox.y}px;\n        width: ${element.boundingBox.width}px;\n        height: ${element.boundingBox.height}px;\n        border: 3px solid #22c55e;\n        background: rgba(34, 197, 94, 0.1);\n        pointer-events: none;\n        z-index: 999999;\n        animation: pulse 1s ease-in-out infinite;\n      `;\n      \n      iframeDoc.body.appendChild(highlight);\n\n      // Scroll to element\n      highlight.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    } catch (e) {\n      console.warn('Could not highlight element:', e);\n    }\n  };\n\n  // Handle Enter key\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey && instruction.trim() && !playing) {\n      e.preventDefault();\n      executeInstruction(instruction);\n      setInstruction(\"\");\n    }\n  };\n\n  // Reset\n  const reset = () => {\n    setSteps([]);\n    setInstruction(\"\");\n    loadPage();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-bold mb-2 flex items-center gap-2\">\n            <Zap className=\"w-8 h-8 text-primary\" />\n            Live Automation Player\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Type instructions and watch the AI find and interact with elements in real-time\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Left: Live Preview */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Live Website</CardTitle>\n              <CardDescription>\n                AI will highlight and interact with elements here\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                <div className=\"flex gap-2\">\n                  <Input\n                    placeholder=\"Website URL\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                  />\n                  <Button onClick={loadPage} disabled={loading} variant=\"outline\">\n                    {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Load\"}\n                  </Button>\n                </div>\n\n                <div className=\"border-2 rounded-lg overflow-hidden bg-white h-[500px] relative\">\n                  {!iframeRef.current?.src && !loading && (\n                    <div className=\"flex items-center justify-center h-full\">\n                      <div className=\"text-center\">\n                        <p className=\"text-muted-foreground mb-4\">Click \"Load\" to start</p>\n                        <Button onClick={loadPage}>Load Page</Button>\n                      </div>\n                    </div>\n                  )}\n                  {loading && (\n                    <div className=\"flex items-center justify-center h-full\">\n                      <Loader2 className=\"w-10 h-10 animate-spin text-primary\" />\n                    </div>\n                  )}\n                  <iframe\n                    ref={iframeRef}\n                    className=\"w-full h-full border-0\"\n                    sandbox=\"allow-forms allow-same-origin allow-scripts\"\n                    title=\"Live Preview\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Right: Instructions & Steps */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Instructions</CardTitle>\n              <CardDescription>\n                Type what you want to do (e.g., \"fill username with student\", \"click Submit\")\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"flex gap-2\">\n                  <Input\n                    placeholder='e.g., \"fill username with student\"'\n                    value={instruction}\n                    onChange={(e) => setInstruction(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                    disabled={playing}\n                  />\n                  <Button\n                    onClick={() => {\n                      if (instruction.trim()) {\n                        executeInstruction(instruction);\n                        setInstruction(\"\");\n                      }\n                    }}\n                    disabled={!instruction.trim() || playing}\n                  >\n                    <PlayCircle className=\"w-4 h-4\" />\n                  </Button>\n                  <Button onClick={reset} variant=\"outline\">\n                    <RotateCcw className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n\n                <div className=\"text-xs text-muted-foreground\">\n                  Press Enter to execute • AI will find elements semantically\n                </div>\n\n                {/* Executed Steps */}\n                <div className=\"space-y-2 max-h-[400px] overflow-y-auto\">\n                  {steps.length === 0 && (\n                    <div className=\"text-center text-muted-foreground text-sm py-8\">\n                      No steps yet. Type an instruction above.\n                    </div>\n                  )}\n                  {steps.map((step, i) => (\n                    <div\n                      key={i}\n                      className={`p-3 border rounded-lg ${\n                        step.status === 'success' ? 'border-green-500 bg-green-50' :\n                        step.status === 'failed' ? 'border-red-500 bg-red-50' :\n                        step.status === 'executing' ? 'border-blue-500 bg-blue-50' :\n                        'border-gray-300'\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <Badge variant=\"outline\">{i + 1}</Badge>\n                            {step.status === 'executing' && <Loader2 className=\"w-3 h-3 animate-spin\" />}\n                            {step.status === 'success' && <span className=\"text-green-500\">✓</span>}\n                            {step.status === 'failed' && <span className=\"text-red-500\">✗</span>}\n                          </div>\n                          <div className=\"text-sm font-medium\">{step.instruction}</div>\n                          {step.selector && (\n                            <code className=\"text-xs bg-white px-1 rounded mt-1 inline-block\">\n                              {step.selector}\n                            </code>\n                          )}\n                          {step.confidence !== undefined && (\n                            <Badge variant=\"secondary\" className=\"ml-2 text-xs\">\n                              {Math.round(step.confidence * 100)}%\n                            </Badge>\n                          )}\n                          {step.error && (\n                            <div className=\"text-xs text-red-600 mt-1\">{step.error}</div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Quick Actions */}\n                <div className=\"border-t pt-4\">\n                  <div className=\"text-xs font-semibold mb-2\">Quick Actions:</div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => setInstruction('fill username with student')}\n                    >\n                      Fill Username\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => setInstruction('fill password with Password123')}\n                    >\n                      Fill Password\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => setInstruction('click submit')}\n                    >\n                      Click Submit\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":13016},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { initDatabase } from \"./db/connection\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n// Request logging\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n// Add an Express error handler to log stack traces and return JSON in development\napp.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n        // Log full error\n        console.error('[Express Error] ', err?.stack || err?.message || err);\n        if (!res.headersSent) {\n                res.status(500).json({ error: err?.message || 'Internal Server Error', stack: process.env.NODE_ENV === 'development' ? err?.stack : undefined });\n        }\n});\n\n// Global process-level handlers\nprocess.on('uncaughtException', (err) => {\n        console.error('[Process] Uncaught Exception:', err?.stack || err?.message || err);\n        // don't exit in dev; consider graceful shutdown in production\n});\n\nprocess.on('unhandledRejection', (reason) => {\n        console.error('[Process] Unhandled Rejection:', reason);\n        // don't exit in dev; consider graceful shutdown in production\n});\n\n(async () => {\n  // Initialize database tables\n  await initDatabase();\n\n  const server = await registerRoutes(app);\n\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  const PORT = parseInt(process.env.PORT || \"5000\", 10);\n  const HOST = \"0.0.0.0\";\n  \n  server.listen(PORT, HOST, () => {\n    log(`Server running on http://${HOST}:${PORT}`);\n  });\n})();\n\n\n","size_bytes":2427},"client/src/__tests__/mocks/testData.ts":{"content":"import type { TestCaseGenerationResponse } from '@shared/schema';\n\nexport const mockTestGenerationResponse: TestCaseGenerationResponse = {\n  analysis: {\n    url: 'https://example.com',\n    title: 'Example Website',\n    description: 'Test website',\n    pages: ['/home', '/about'],\n    forms: [{\n      name: 'login',\n      fields: ['username', 'password']\n    }],\n    buttons: ['Submit', 'Login'],\n    links: ['/home', '/about']\n  },\n  testCases: [{\n    id: '1',\n    title: 'Test Login Form Validation',\n    description: 'Verify login form validation',\n    type: 'UI',\n    priority: 'High',\n    steps: [\n      'Navigate to login page',\n      'Submit empty form',\n      'Verify validation messages'\n    ],\n    expectedResult: 'Form shows validation errors',\n    playwrightCode: 'test(\"login validation\", async () => { /* test code */ });'\n  }],\n  summary: {\n    totalTests: 1,\n    byType: { UI: 1 },\n    coverageAreas: ['Forms', 'Validation']\n  }\n};\n","size_bytes":947},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/scroll-area.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\nimport { cn } from \"@/lib/utils\";\nconst ScrollArea = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsxs(ScrollAreaPrimitive.Root, Object.assign({ ref: ref, className: cn(\"relative overflow-hidden\", className) }, props, { children: [_jsx(ScrollAreaPrimitive.Viewport, { className: \"h-full w-full rounded-[inherit]\", children: children }), _jsx(ScrollBar, {}), _jsx(ScrollAreaPrimitive.Corner, {})] })));\n});\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\nconst ScrollBar = React.forwardRef((_a, ref) => {\n    var { className, orientation = \"vertical\" } = _a, props = __rest(_a, [\"className\", \"orientation\"]);\n    return (_jsx(ScrollAreaPrimitive.ScrollAreaScrollbar, Object.assign({ ref: ref, orientation: orientation, className: cn(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" &&\n            \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" &&\n            \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className) }, props, { children: _jsx(ScrollAreaPrimitive.ScrollAreaThumb, { className: \"relative flex-1 rounded-full bg-border\" }) })));\n});\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\nexport { ScrollArea, ScrollBar };\n","size_bytes":1985},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/pagination.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nconst Pagination = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"nav\", Object.assign({ role: \"navigation\", \"aria-label\": \"pagination\", className: cn(\"mx-auto flex w-full justify-center\", className) }, props)));\n};\nPagination.displayName = \"Pagination\";\nconst PaginationContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"ul\", Object.assign({ ref: ref, className: cn(\"flex flex-row items-center gap-1\", className) }, props)));\n});\nPaginationContent.displayName = \"PaginationContent\";\nconst PaginationItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"li\", Object.assign({ ref: ref, className: cn(\"\", className) }, props)));\n});\nPaginationItem.displayName = \"PaginationItem\";\nconst PaginationLink = (_a) => {\n    var { className, isActive, size = \"icon\" } = _a, props = __rest(_a, [\"className\", \"isActive\", \"size\"]);\n    return (_jsx(\"a\", Object.assign({ \"aria-current\": isActive ? \"page\" : undefined, className: cn(buttonVariants({\n            variant: isActive ? \"outline\" : \"ghost\",\n            size,\n        }), className) }, props)));\n};\nPaginationLink.displayName = \"PaginationLink\";\nconst PaginationPrevious = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(PaginationLink, Object.assign({ \"aria-label\": \"Go to previous page\", size: \"default\", className: cn(\"gap-1 pl-2.5\", className) }, props, { children: [_jsx(ChevronLeft, { className: \"h-4 w-4\" }), _jsx(\"span\", { children: \"Previous\" })] })));\n};\nPaginationPrevious.displayName = \"PaginationPrevious\";\nconst PaginationNext = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(PaginationLink, Object.assign({ \"aria-label\": \"Go to next page\", size: \"default\", className: cn(\"gap-1 pr-2.5\", className) }, props, { children: [_jsx(\"span\", { children: \"Next\" }), _jsx(ChevronRight, { className: \"h-4 w-4\" })] })));\n};\nPaginationNext.displayName = \"PaginationNext\";\nconst PaginationEllipsis = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(\"span\", Object.assign({ \"aria-hidden\": true, className: cn(\"flex h-9 w-9 items-center justify-center\", className) }, props, { children: [_jsx(MoreHorizontal, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"More pages\" })] })));\n};\nPaginationEllipsis.displayName = \"PaginationEllipsis\";\nexport { Pagination, PaginationContent, PaginationEllipsis, PaginationItem, PaginationLink, PaginationNext, PaginationPrevious, };\n","size_bytes":3402},"client/src/components/IntelligentAutomation.js":{"content":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Loader2, PlayCircle, CheckCircle, XCircle } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nexport default function IntelligentAutomation() {\n    const [url, setUrl] = useState(\"\");\n    const [prompt, setPrompt] = useState(\"\");\n    const [actions, setActions] = useState([]);\n    const [results, setResults] = useState(null);\n    const [parsing, setParsing] = useState(false);\n    const [executing, setExecuting] = useState(false);\n    const [stepResults, setStepResults] = useState([]);\n    const { toast } = useToast();\n    const parse = async () => {\n        setParsing(true);\n        const res = await fetch(\"/api/parse-instructions\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ prompt }),\n        });\n        const data = await res.json();\n        setActions(data.actions);\n        setParsing(false);\n    };\n    const execute = async () => {\n        setExecuting(true);\n        const res = await fetch(\"/api/intelligent-execute\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ url, actions }),\n        });\n        const data = await res.json();\n        setResults(data);\n        setExecuting(false);\n    };\n    // Execute a single step\n    const executeStep = async (stepIdx) => {\n        if (!actions[stepIdx] || !url)\n            return;\n        setExecuting(true);\n        try {\n            const res = await fetch(\"/api/intelligent-execute\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url, actions: [actions[stepIdx]] }),\n            });\n            const data = await res.json();\n            setStepResults(prev => {\n                const next = [...prev];\n                next[stepIdx] = data.results[0];\n                return next;\n            });\n        }\n        finally {\n            setExecuting(false);\n        }\n    };\n    return (_jsxs(\"div\", { className: \"max-w-2xl mx-auto p-6 space-y-6\", children: [_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: \"Intelligent Automation\" }) }), _jsxs(CardContent, { className: \"space-y-4\", children: [_jsx(Input, { placeholder: \"Website URL\", value: url, onChange: e => setUrl(e.target.value) }), _jsx(Textarea, { placeholder: 'e.g. \"Fill username with alice, fill password with secret, click login\"', value: prompt, onChange: e => setPrompt(e.target.value), rows: 3 }), _jsxs(\"div\", { className: \"flex gap-2\", children: [_jsx(Button, { onClick: parse, disabled: parsing, children: parsing ? _jsx(Loader2, { className: \"w-4 h-4 animate-spin\" }) : \"Parse\" }), _jsx(Button, { onClick: execute, disabled: executing || !actions.length, children: executing ? _jsx(Loader2, { className: \"w-4 h-4 animate-spin\" }) : _jsxs(_Fragment, { children: [_jsx(PlayCircle, { className: \"w-4 h-4\" }), \" Execute\"] }) })] })] })] }), actions.length > 0 && (_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: \"Parsed Actions\" }) }), _jsx(CardContent, { children: _jsx(\"ol\", { className: \"space-y-2\", children: actions.map((a, i) => (_jsxs(\"li\", { className: \"text-sm\", children: [a.type, \" \", _jsx(\"b\", { children: a.intent }), \" \", a.value && `with \"${a.value}\"`] }, i))) }) })] })), actions.length > 0 && (_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: \"Test Steps\" }) }), _jsx(CardContent, { children: _jsx(\"ol\", { className: \"space-y-2\", children: actions.map((a, i) => (_jsxs(\"li\", { className: \"flex items-center gap-2 text-sm\", children: [_jsxs(\"span\", { children: [a.type, \" \", _jsx(\"b\", { children: a.intent }), \" \", a.value && `with \"${a.value}\"`] }), _jsxs(Button, { size: \"sm\", variant: \"outline\", disabled: executing, onClick: () => executeStep(i), children: [_jsx(PlayCircle, { className: \"w-4 h-4\" }), \" Execute\"] }), stepResults[i] && (_jsxs(\"span\", { className: stepResults[i].success ? \"text-green-600\" : \"text-red-600\", children: [stepResults[i].success ? \"✓\" : \"✗\", \" \", stepResults[i].reasoning] }))] }, i))) }) })] })), results && (_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: \"Execution Results\" }) }), _jsx(CardContent, { children: _jsx(\"ol\", { className: \"space-y-2\", children: results.results.map((r, i) => (_jsxs(\"li\", { className: `flex items-center gap-2 text-sm ${r.success ? \"text-green-700\" : \"text-red-700\"}`, children: [r.success ? _jsx(CheckCircle, { className: \"w-4 h-4\" }) : _jsx(XCircle, { className: \"w-4 h-4\" }), _jsxs(\"span\", { children: [r.action.type, \" \", _jsx(\"b\", { children: r.action.intent }), \" \", r.action.value && `with \"${r.action.value}\"`, \" - \", r.reasoning] })] }, i))) }) })] }))] }));\n}\n","size_bytes":5157},"vitest.config.ts":{"content":"import { defineConfig } from 'vitest/config';\nimport react from '@vitejs/plugin-react';\nimport path from 'path';\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    environment: 'jsdom',\n    setupFiles: ['./client/src/__tests__/setup.ts'],\n    globals: true,\n    coverage: {\n      reporter: ['text', 'json', 'html'],\n      exclude: [\n        'node_modules/',\n        'client/src/__tests__/',\n      ],\n    },\n    alias: {\n      '@': path.resolve(__dirname, './client/src'),\n      '@shared': path.resolve(__dirname, './shared'),\n    }\n  },\n});\n","size_bytes":557},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/input-otp.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { OTPInput, OTPInputContext } from \"input-otp\";\nimport { Dot } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst InputOTP = React.forwardRef((_a, ref) => {\n    var { className, containerClassName } = _a, props = __rest(_a, [\"className\", \"containerClassName\"]);\n    return (_jsx(OTPInput, Object.assign({ ref: ref, containerClassName: cn(\"flex items-center gap-2 has-[:disabled]:opacity-50\", containerClassName), className: cn(\"disabled:cursor-not-allowed\", className) }, props)));\n});\nInputOTP.displayName = \"InputOTP\";\nconst InputOTPGroup = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"flex items-center\", className) }, props)));\n});\nInputOTPGroup.displayName = \"InputOTPGroup\";\nconst InputOTPSlot = React.forwardRef((_a, ref) => {\n    var { index, className } = _a, props = __rest(_a, [\"index\", \"className\"]);\n    const inputOTPContext = React.useContext(OTPInputContext);\n    const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];\n    return (_jsxs(\"div\", Object.assign({ ref: ref, className: cn(\"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\", isActive && \"z-10 ring-2 ring-ring ring-offset-background\", className) }, props, { children: [char, hasFakeCaret && (_jsx(\"div\", { className: \"pointer-events-none absolute inset-0 flex items-center justify-center\", children: _jsx(\"div\", { className: \"h-4 w-px animate-caret-blink bg-foreground duration-1000\" }) }))] })));\n});\nInputOTPSlot.displayName = \"InputOTPSlot\";\nconst InputOTPSeparator = React.forwardRef((_a, ref) => {\n    var props = __rest(_a, []);\n    return (_jsx(\"div\", Object.assign({ ref: ref, role: \"separator\" }, props, { children: _jsx(Dot, {}) })));\n});\nInputOTPSeparator.displayName = \"InputOTPSeparator\";\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };\n","size_bytes":2592},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/LiveAutomationPlayer.js":{"content":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Loader2, PlayCircle, RotateCcw, Zap } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nexport default function LiveAutomationPlayer() {\n    var _a;\n    const [url, setUrl] = useState(\"https://practicetestautomation.com/practice-test-login/\");\n    const [instruction, setInstruction] = useState(\"\");\n    const [steps, setSteps] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [playing, setPlaying] = useState(false);\n    const iframeRef = useRef(null);\n    const { toast } = useToast();\n    // Load initial page\n    const loadPage = async () => {\n        if (!url.trim()) {\n            toast({ title: \"Enter a URL\", variant: \"destructive\" });\n            return;\n        }\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/page-screenshot\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url }),\n            });\n            if (!res.ok)\n                throw new Error('Failed to load page');\n            const html = await res.text();\n            const blob = new Blob([html], { type: \"text/html; charset=utf-8\" });\n            const objUrl = URL.createObjectURL(blob);\n            if (iframeRef.current) {\n                iframeRef.current.src = objUrl;\n            }\n            toast({ title: \"✓ Page loaded\", description: \"Ready for instructions\" });\n        }\n        catch (error) {\n            toast({ title: \"Load failed\", description: error.message, variant: \"destructive\" });\n        }\n        finally {\n            setLoading(false);\n        }\n    };\n    // Execute single instruction with visual feedback\n    const executeInstruction = async (instr) => {\n        const newStep = {\n            instruction: instr,\n            status: 'executing'\n        };\n        setSteps(prev => [...prev, newStep]);\n        try {\n            // Parse instruction\n            const parseRes = await fetch(\"/api/parse-instructions\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ prompt: instr }),\n            });\n            if (!parseRes.ok)\n                throw new Error('Parse failed');\n            const { actions } = await parseRes.json();\n            if (actions.length === 0) {\n                throw new Error('No actions found');\n            }\n            const action = actions[0];\n            // Find element\n            const locateRes = await fetch(\"/api/intelligent-locate\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    url,\n                    intent: action.intent,\n                    elementType: action.elementType\n                }),\n            });\n            if (!locateRes.ok)\n                throw new Error('Locate failed');\n            const { strategy } = await locateRes.json();\n            // Highlight element in iframe\n            highlightElement(strategy.element);\n            // Simulate action execution\n            await new Promise(resolve => setTimeout(resolve, 1000));\n            setSteps(prev => prev.map((s, i) => i === prev.length - 1\n                ? Object.assign(Object.assign({}, s), { status: 'success', selector: strategy.selector, confidence: strategy.confidence }) : s));\n            toast({\n                title: \"✓ Action executed\",\n                description: `${action.type} on \"${action.intent}\" (${Math.round(strategy.confidence * 100)}% confidence)`\n            });\n        }\n        catch (error) {\n            setSteps(prev => prev.map((s, i) => i === prev.length - 1\n                ? Object.assign(Object.assign({}, s), { status: 'failed', error: error.message }) : s));\n            toast({ title: \"Execution failed\", description: error.message, variant: \"destructive\" });\n        }\n    };\n    // Highlight element in iframe\n    const highlightElement = (element) => {\n        if (!iframeRef.current || !element.boundingBox)\n            return;\n        try {\n            const iframeDoc = iframeRef.current.contentDocument;\n            if (!iframeDoc)\n                return;\n            // Remove previous highlight\n            const existing = iframeDoc.getElementById('ai-highlight');\n            if (existing)\n                existing.remove();\n            // Add new highlight\n            const highlight = iframeDoc.createElement('div');\n            highlight.id = 'ai-highlight';\n            highlight.style.cssText = `\n        position: absolute;\n        left: ${element.boundingBox.x}px;\n        top: ${element.boundingBox.y}px;\n        width: ${element.boundingBox.width}px;\n        height: ${element.boundingBox.height}px;\n        border: 3px solid #22c55e;\n        background: rgba(34, 197, 94, 0.1);\n        pointer-events: none;\n        z-index: 999999;\n        animation: pulse 1s ease-in-out infinite;\n      `;\n            iframeDoc.body.appendChild(highlight);\n            // Scroll to element\n            highlight.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n        catch (e) {\n            console.warn('Could not highlight element:', e);\n        }\n    };\n    // Handle Enter key\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey && instruction.trim() && !playing) {\n            e.preventDefault();\n            executeInstruction(instruction);\n            setInstruction(\"\");\n        }\n    };\n    // Reset\n    const reset = () => {\n        setSteps([]);\n        setInstruction(\"\");\n        loadPage();\n    };\n    return (_jsx(\"div\", { className: \"min-h-screen bg-background p-8\", children: _jsxs(\"div\", { className: \"max-w-7xl mx-auto\", children: [_jsxs(\"div\", { className: \"mb-6\", children: [_jsxs(\"h1\", { className: \"text-3xl font-bold mb-2 flex items-center gap-2\", children: [_jsx(Zap, { className: \"w-8 h-8 text-primary\" }), \"Live Automation Player\"] }), _jsx(\"p\", { className: \"text-muted-foreground\", children: \"Type instructions and watch the AI find and interact with elements in real-time\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\", children: [_jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { children: \"Live Website\" }), _jsx(CardDescription, { children: \"AI will highlight and interact with elements here\" })] }), _jsx(CardContent, { children: _jsxs(\"div\", { className: \"space-y-3\", children: [_jsxs(\"div\", { className: \"flex gap-2\", children: [_jsx(Input, { placeholder: \"Website URL\", value: url, onChange: (e) => setUrl(e.target.value) }), _jsx(Button, { onClick: loadPage, disabled: loading, variant: \"outline\", children: loading ? _jsx(Loader2, { className: \"w-4 h-4 animate-spin\" }) : \"Load\" })] }), _jsxs(\"div\", { className: \"border-2 rounded-lg overflow-hidden bg-white h-[500px] relative\", children: [!((_a = iframeRef.current) === null || _a === void 0 ? void 0 : _a.src) && !loading && (_jsx(\"div\", { className: \"flex items-center justify-center h-full\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"p\", { className: \"text-muted-foreground mb-4\", children: \"Click \\\"Load\\\" to start\" }), _jsx(Button, { onClick: loadPage, children: \"Load Page\" })] }) })), loading && (_jsx(\"div\", { className: \"flex items-center justify-center h-full\", children: _jsx(Loader2, { className: \"w-10 h-10 animate-spin text-primary\" }) })), _jsx(\"iframe\", { ref: iframeRef, className: \"w-full h-full border-0\", sandbox: \"allow-forms allow-same-origin allow-scripts\", title: \"Live Preview\" })] })] }) })] }), _jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { children: \"Instructions\" }), _jsx(CardDescription, { children: \"Type what you want to do (e.g., \\\"fill username with student\\\", \\\"click Submit\\\")\" })] }), _jsx(CardContent, { children: _jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex gap-2\", children: [_jsx(Input, { placeholder: 'e.g., \"fill username with student\"', value: instruction, onChange: (e) => setInstruction(e.target.value), onKeyDown: handleKeyDown, disabled: playing }), _jsx(Button, { onClick: () => {\n                                                            if (instruction.trim()) {\n                                                                executeInstruction(instruction);\n                                                                setInstruction(\"\");\n                                                            }\n                                                        }, disabled: !instruction.trim() || playing, children: _jsx(PlayCircle, { className: \"w-4 h-4\" }) }), _jsx(Button, { onClick: reset, variant: \"outline\", children: _jsx(RotateCcw, { className: \"w-4 h-4\" }) })] }), _jsx(\"div\", { className: \"text-xs text-muted-foreground\", children: \"Press Enter to execute \\u2022 AI will find elements semantically\" }), _jsxs(\"div\", { className: \"space-y-2 max-h-[400px] overflow-y-auto\", children: [steps.length === 0 && (_jsx(\"div\", { className: \"text-center text-muted-foreground text-sm py-8\", children: \"No steps yet. Type an instruction above.\" })), steps.map((step, i) => (_jsx(\"div\", { className: `p-3 border rounded-lg ${step.status === 'success' ? 'border-green-500 bg-green-50' :\n                                                            step.status === 'failed' ? 'border-red-500 bg-red-50' :\n                                                                step.status === 'executing' ? 'border-blue-500 bg-blue-50' :\n                                                                    'border-gray-300'}`, children: _jsx(\"div\", { className: \"flex items-start justify-between gap-2\", children: _jsxs(\"div\", { className: \"flex-1\", children: [_jsxs(\"div\", { className: \"flex items-center gap-2 mb-1\", children: [_jsx(Badge, { variant: \"outline\", children: i + 1 }), step.status === 'executing' && _jsx(Loader2, { className: \"w-3 h-3 animate-spin\" }), step.status === 'success' && _jsx(\"span\", { className: \"text-green-500\", children: \"\\u2713\" }), step.status === 'failed' && _jsx(\"span\", { className: \"text-red-500\", children: \"\\u2717\" })] }), _jsx(\"div\", { className: \"text-sm font-medium\", children: step.instruction }), step.selector && (_jsx(\"code\", { className: \"text-xs bg-white px-1 rounded mt-1 inline-block\", children: step.selector })), step.confidence !== undefined && (_jsxs(Badge, { variant: \"secondary\", className: \"ml-2 text-xs\", children: [Math.round(step.confidence * 100), \"%\"] })), step.error && (_jsx(\"div\", { className: \"text-xs text-red-600 mt-1\", children: step.error }))] }) }) }, i)))] }), _jsxs(\"div\", { className: \"border-t pt-4\", children: [_jsx(\"div\", { className: \"text-xs font-semibold mb-2\", children: \"Quick Actions:\" }), _jsxs(\"div\", { className: \"flex flex-wrap gap-2\", children: [_jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => setInstruction('fill username with student'), children: \"Fill Username\" }), _jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => setInstruction('fill password with Password123'), children: \"Fill Password\" }), _jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => setInstruction('click submit'), children: \"Click Submit\" })] })] })] }) })] })] })] }) }));\n}\n","size_bytes":11613},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"server/openai.ts":{"content":"import OpenAI from \"openai\";\n\nconst apiKey = process.env.OPENAI_API_KEY;\n\nif (!apiKey) {\n  console.warn('⚠️ OPENAI_API_KEY not set - AI features will be disabled');\n}\n\nconst openai = new OpenAI({ \n  apiKey: apiKey || 'sk-dummy-key-for-development' \n});\n\nexport { openai };\n","size_bytes":277},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":792},"shared/schema.js":{"content":"import { z } from \"zod\";\n// Test Case Generation Request Schema\nexport const generateTestCasesRequestSchema = z.object({\n    url: z.string().url(\"Please enter a valid URL\"),\n    prompt: z.string().min(10, \"Prompt must be at least 10 characters\"),\n});\n// Test Case Types\nexport const testCaseTypeSchema = z.enum([\"UI\", \"API\", \"E2E\", \"Integration\", \"Unit\", \"Performance\", \"Security\", \"Accessibility\"]);\n// Individual Test Case Schema\nexport const testCaseSchema = z.object({\n    id: z.string(),\n    title: z.string(),\n    description: z.string(),\n    type: testCaseTypeSchema,\n    priority: z.enum([\"High\", \"Medium\", \"Low\"]),\n    steps: z.array(z.string()),\n    expectedResult: z.string(),\n    playwrightCode: z.string().optional(),\n});\n// Website Analysis Schema\nexport const websiteAnalysisSchema = z.object({\n    url: z.string(),\n    allInteractive: z.array(z.object({\n        tag: z.string(),\n        type: z.string(),\n        text: z.string(),\n        ariaLabel: z.string(),\n        role: z.string(),\n        placeholder: z.string(),\n        name: z.string(),\n        id: z.string(),\n        selectors: z.array(z.string()),\n        xpath: z.string(),\n        friendlyName: z.string().optional(),\n    })).optional(),\n    // Legacy fields for backward compatibility\n    forms: z.array(z.object({ name: z.string(), fields: z.array(z.any()) })).optional(),\n    buttonsWithSelectors: z.array(z.any()).optional(),\n    buttons: z.array(z.string()).optional(),\n    linksWithXPaths: z.array(z.any()).optional(),\n    allInteractiveElements: z.array(z.any()).optional(),\n});\n// Test Case Generation Response Schema\nexport const testCaseGenerationResponseSchema = z.object({\n    analysis: websiteAnalysisSchema,\n    testCases: z.array(testCaseSchema),\n    summary: z.object({\n        totalTests: z.number(),\n        byType: z.record(z.number()),\n        coverageAreas: z.array(z.string()),\n    }),\n});\n// Scrape Request Schema (for scraping without generation)\nexport const scrapeWebsiteRequestSchema = z.object({\n    url: z.string().url(\"Please enter a valid URL\"),\n});\n","size_bytes":2062},"client/src/components/ui/skeleton.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { cn } from \"@/lib/utils\";\nfunction Skeleton(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"animate-pulse rounded-md bg-muted\", className) }, props)));\n}\nexport { Skeleton };\n","size_bytes":799},"client/src/setupTests.js":{"content":"import '@testing-library/jest-dom';\nimport { beforeAll, vi } from 'vitest';\nbeforeAll(() => {\n    // Mock clipboard API\n    Object.defineProperty(navigator, 'clipboard', {\n        value: {\n            writeText: vi.fn(),\n        },\n        writable: true,\n    });\n});\n","size_bytes":268},"server/scraper.ts":{"content":"import type { WebsiteAnalysis } from \"@shared/schema\";\nimport { saveXPathData, type StoredXPathData } from \"./xpathStorage\";\n\nexport async function analyzeWebsite(url: string): Promise<WebsiteAnalysis> {\n  const { chromium } = await import(\"playwright\");\n  const browser = await chromium.launch({ headless: true });\n  const page = await browser.newPage();\n\n  page.on('console', (msg) => {\n    try {\n      const args = msg.args?.map(a => {\n        try { return a.toString(); } catch { return '<unserializable>'; }\n      }) || [];\n      console.log(`[Browser console][${msg.type()}]`, msg.text(), ...args);\n    } catch {\n      console.log('[Browser console] (unserializable message)');\n    }\n  });\n\n  page.on('pageerror', (err) => {\n    console.error('[Browser pageerror]', err?.message || err);\n  });\n\n  let allInteractive: any[] = [];\n  let title = \"\";\n\n  try {\n    await page.goto(url, { waitUntil: \"networkidle\", timeout: 30000 });\n    await page.waitForTimeout(800);\n    title = await page.title();\n\n    // Use string-based evaluate to completely bypass TypeScript transpiler\n    const selector = 'input, button, a, textarea, select, [role], [aria-label], [placeholder]';\n    \n    allInteractive = await page.evaluate(`\n      (function() {\n        var elements = document.querySelectorAll('${selector.replace(/'/g, \"\\\\'\")}');\n        var results = [];\n        \n        for (var i = 0; i < elements.length; i++) {\n          var el = elements[i];\n          \n          // Helper: build absolute XPath\n          function getXPath(node) {\n            if (node.id) return '//' + node.tagName.toLowerCase() + '[@id=\"' + node.id + '\"]';\n            \n            var segments = [];\n            var current = node;\n            \n            while (current && current.nodeType === 1) {\n              var tagName = current.tagName.toLowerCase();\n              var index = 1;\n              var sibling = current.previousElementSibling;\n              \n              while (sibling) {\n                if (sibling.tagName === current.tagName) index++;\n                sibling = sibling.previousElementSibling;\n              }\n              \n              var part = index > 1 ? tagName + '[' + index + ']' : tagName;\n              segments.unshift(part);\n              current = current.parentElement;\n            }\n            \n            return '/' + segments.join('/');\n          }\n          \n          var tag = el.tagName.toLowerCase();\n          var type = el.type || '';\n          var id = el.id || '';\n          var name = el.getAttribute('name') || '';\n          var textContent = (el.textContent || el.value || '').trim();\n          var ariaLabel = el.getAttribute('aria-label') || '';\n          var role = el.getAttribute('role') || '';\n          var placeholder = el.getAttribute('placeholder') || '';\n          \n          // Build friendly name\n          var friendlyName = '';\n          if (id) {\n            var lab = document.querySelector('label[for=\"' + id + '\"]');\n            if (lab && lab.textContent) friendlyName = lab.textContent.trim();\n          }\n          if (!friendlyName && el.getAttribute('aria-labelledby')) {\n            var labelledBy = el.getAttribute('aria-labelledby');\n            var ids = labelledBy.split(/\\\\s+/);\n            for (var j = 0; j < ids.length; j++) {\n              var lbl = document.getElementById(ids[j]);\n              if (lbl && lbl.textContent) {\n                friendlyName += (friendlyName ? ' ' : '') + lbl.textContent.trim();\n              }\n            }\n          }\n          if (!friendlyName) {\n            var p = el.parentElement;\n            while (p) {\n              if (p.tagName && p.tagName.toLowerCase() === 'label' && p.textContent) {\n                friendlyName = p.textContent.trim();\n                break;\n              }\n              p = p.parentElement;\n            }\n          }\n          if (!friendlyName && el.previousElementSibling && el.previousElementSibling.textContent) {\n            friendlyName = el.previousElementSibling.textContent.trim();\n          }\n          if (!friendlyName) friendlyName = placeholder || ariaLabel;\n          \n          var xpath = getXPath(el);\n          \n          // Build XPath candidates\n          var candidates = [];\n          if (id) candidates.push('//' + tag + '[@id=\"' + id + '\"]');\n          if (name) candidates.push('//' + tag + '[@name=\"' + name + '\"]');\n          if (ariaLabel) candidates.push('//' + tag + '[@aria-label=\"' + ariaLabel + '\"]');\n          if (placeholder) candidates.push('//' + tag + '[@placeholder=\"' + placeholder + '\"]');\n          if (textContent) {\n            var short = textContent.length > 200 ? textContent.slice(0, 200) : textContent;\n            candidates.push('//' + tag + '[normalize-space()=\"' + short + '\"]');\n            candidates.push('//' + tag + '[contains(normalize-space(.), \"' + short + '\")]');\n          }\n          if (xpath) candidates.push(xpath);\n          \n          // Dedupe\n          var uniq = [];\n          var seen = {};\n          for (var k = 0; k < candidates.length; k++) {\n            if (!seen[candidates[k]]) {\n              seen[candidates[k]] = true;\n              uniq.push(candidates[k]);\n            }\n          }\n          \n          var selectors = [];\n          if (id) selectors.push('#' + id);\n          if (name) selectors.push('[name=\"' + name + '\"]');\n          if (ariaLabel) selectors.push('[aria-label=\"' + ariaLabel + '\"]');\n          if (placeholder) selectors.push('[placeholder=\"' + placeholder + '\"]');\n          if (tag) selectors.push(tag);\n          \n          results.push({\n            tag: tag,\n            type: type,\n            id: id,\n            name: name,\n            text: textContent,\n            ariaLabel: ariaLabel,\n            role: role,\n            placeholder: placeholder,\n            friendlyName: friendlyName.trim(),\n            selectors: selectors,\n            xpath: xpath,\n            xpathCandidates: uniq\n          });\n        }\n        \n        return results;\n      })()\n    `);\n\n    console.log(`[Scraper] Successfully extracted ${allInteractive.length} elements`);\n\n    // Persist\n    const stored: StoredXPathData = {\n      url,\n      scrapedAt: new Date().toISOString(),\n      forms: [],\n      buttons: allInteractive.filter(e => ['button', 'input'].includes(e.tag)).map(e => ({\n        text: e.text,\n        selectors: e.selectors,\n        ariaLabel: e.ariaLabel,\n        role: e.role,\n        xpath: e.xpath,\n        xpathCandidates: e.xpathCandidates\n      })),\n      links: allInteractive.filter(e => e.tag === 'a').map(e => ({\n        text: e.text,\n        href: '',\n        selectors: e.selectors,\n        ariaLabel: e.ariaLabel,\n        xpath: e.xpath,\n        xpathCandidates: e.xpathCandidates\n      })),\n      allInteractive: allInteractive.map(e => ({\n        text: e.text,\n        tag: e.tag,\n        type: e.type,\n        selectors: e.selectors,\n        matchScore: 0,\n        xpath: e.xpath,\n        xpathCandidates: e.xpathCandidates\n      }))\n    };\n\n    saveXPathData(url, stored);\n    console.log('[Scraper] Saved XPath data:', allInteractive.length, 'elements');\n\n    return { url, title, allInteractive } as WebsiteAnalysis;\n  } catch (e: any) {\n    console.error('[Scraper] Error:', e?.stack || e?.message || e);\n    throw new Error('[Scraper] extraction error: ' + (e?.message || e));\n  } finally {\n    try {\n      await browser.close();\n    } catch (closeErr) {\n      // ignore\n    }\n  }\n}\n","size_bytes":7461},"client/src/__tests__/mocks/testData.js":{"content":"export const mockTestGenerationResponse = {\n    analysis: {\n        url: 'https://example.com',\n        title: 'Example Website',\n        description: 'Test website',\n        pages: ['/home', '/about'],\n        forms: [{\n                name: 'login',\n                fields: ['username', 'password']\n            }],\n        buttons: ['Submit', 'Login'],\n        links: ['/home', '/about']\n    },\n    testCases: [{\n            id: '1',\n            title: 'Test Login Form Validation',\n            description: 'Verify login form validation',\n            type: 'UI',\n            priority: 'High',\n            steps: [\n                'Navigate to login page',\n                'Submit empty form',\n                'Verify validation messages'\n            ],\n            expectedResult: 'Form shows validation errors',\n            playwrightCode: 'test(\"login validation\", async () => { /* test code */ });'\n        }],\n    summary: {\n        totalTests: 1,\n        byType: { UI: 1 },\n        coverageAreas: ['Forms', 'Validation']\n    }\n};\n","size_bytes":1038},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"server/instructionParser.ts":{"content":"export interface ParsedAction {\n  type: 'fill' | 'click' | 'select' | 'navigate' | 'verify';\n  intent: string;\n  value?: string;\n  elementType?: 'input' | 'button' | 'link' | 'select';\n  confidence: number;\n}\n\n/**\n * Parse natural language instructions into structured actions\n * \n * @example\n * \"Enter username and password, then click login\"\n * →\n * [\n *   { type: 'fill', intent: 'username', elementType: 'input' },\n *   { type: 'fill', intent: 'password', elementType: 'input' },\n *   { type: 'click', intent: 'login', elementType: 'button' }\n * ]\n */\nexport function parseInstructions(prompt: string): ParsedAction[] {\n  const actions: ParsedAction[] = [];\n  const normalizedPrompt = prompt.toLowerCase().trim();\n  \n  // Split by common delimiters\n  const segments = normalizedPrompt.split(/(?:,\\s*then|,\\s*and|,|then|and)\\s+/i);\n  \n  for (const segment of segments) {\n    const trimmed = segment.trim();\n    if (!trimmed) continue;\n    \n    // Pattern 1: Fill/Enter/Type actions\n    // \"enter [value] in [field]\" or \"fill [field] with [value]\"\n    const fillMatch = \n      trimmed.match(/(?:enter|type|fill|input)\\s+(?:in\\s+)?(?:the\\s+)?[\"']?([^\"']+?)[\"']?\\s+(?:in|into|to)\\s+(?:the\\s+)?[\"']?([^\"']+)[\"']?/i) ||\n      trimmed.match(/(?:enter|type|fill|input)\\s+(?:the\\s+)?[\"']?([^\"']+)[\"']?\\s+(?:field|input|box)/i);\n    \n    if (fillMatch) {\n      const fieldIntent = fillMatch[2] || fillMatch[1];\n      const value = fillMatch[2] ? fillMatch[1] : '';\n      \n      actions.push({\n        type: 'fill',\n        intent: fieldIntent.trim(),\n        value: value || `test_${fieldIntent}`,\n        elementType: 'input',\n        confidence: 0.9\n      });\n      continue;\n    }\n    \n    // Pattern 2: Click actions\n    // \"click [element]\" or \"press [button]\"\n    const clickMatch = trimmed.match(/(?:click|press|tap|hit)\\s+(?:on\\s+)?(?:the\\s+)?[\"']?([^\"']+)[\"']?/i);\n    \n    if (clickMatch) {\n      actions.push({\n        type: 'click',\n        intent: clickMatch[1].trim(),\n        elementType: 'button',\n        confidence: 0.9\n      });\n      continue;\n    }\n    \n    // Pattern 3: Select actions\n    // \"select [option] from [dropdown]\"\n    const selectMatch = trimmed.match(/(?:select|choose)\\s+[\"']?([^\"']+?)[\"']?\\s+(?:from|in)\\s+[\"']?([^\"']+)[\"']?/i);\n    \n    if (selectMatch) {\n      actions.push({\n        type: 'select',\n        intent: selectMatch[2].trim(),\n        value: selectMatch[1].trim(),\n        elementType: 'select',\n        confidence: 0.8\n      });\n      continue;\n    }\n    \n    // Pattern 4: Navigation\n    const navMatch = trimmed.match(/(?:go\\s+to|navigate\\s+to|open|visit)\\s+[\"']?([^\"']+)[\"']?/i);\n    \n    if (navMatch) {\n      actions.push({\n        type: 'navigate',\n        intent: navMatch[1].trim(),\n        confidence: 0.95\n      });\n      continue;\n    }\n    \n    // Pattern 5: Verification\n    const verifyMatch = trimmed.match(/(?:verify|check|expect|assert)\\s+[\"']?([^\"']+)[\"']?/i);\n    \n    if (verifyMatch) {\n      actions.push({\n        type: 'verify',\n        intent: verifyMatch[1].trim(),\n        confidence: 0.7\n      });\n      continue;\n    }\n    \n    // Fallback: Try to extract field names\n    const fieldKeywords = ['username', 'password', 'email', 'name', 'phone', 'address'];\n    for (const keyword of fieldKeywords) {\n      if (trimmed.includes(keyword)) {\n        actions.push({\n          type: 'fill',\n          intent: keyword,\n          value: `test_${keyword}`,\n          elementType: 'input',\n          confidence: 0.6\n        });\n        break;\n      }\n    }\n  }\n  \n  return actions;\n}\n\n/**\n * Extract test values from instructions\n */\nexport function extractTestValues(prompt: string): Record<string, string> {\n  const values: Record<string, string> = {};\n  \n  // Extract quoted values: \"fill username with 'john@example.com'\"\n  const quotedMatches = prompt.matchAll(/[\"']([^\"']+)[\"']\\s+with\\s+[\"']([^\"']+)[\"']/gi);\n  for (const match of quotedMatches) {\n    values[match[1].toLowerCase()] = match[2];\n  }\n  \n  return values;\n}\n","size_bytes":3995},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/__tests__/setup.js":{"content":"import '@testing-library/jest-dom';\nimport { vi } from 'vitest';\nimport { mockTestGenerationResponse } from './mocks/testData';\n// Mock fetch globally\nglobal.fetch = vi.fn();\n// Setup default fetch mock response\nbeforeEach(() => {\n    fetch.mockResolvedValue({\n        ok: true,\n        json: async () => mockTestGenerationResponse,\n    });\n});\n// Clean up mocks\nafterEach(() => {\n    vi.clearAllMocks();\n});\n","size_bytes":409},"client/src/components/ui/textarea.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Textarea = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"textarea\", Object.assign({ className: cn(\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className), ref: ref }, props)));\n});\nTextarea.displayName = \"Textarea\";\nexport { Textarea };\n","size_bytes":1180},"client/src/pages/Home.tsx":{"content":"import TestCaseGenerator from \"@/components/TestCaseGenerator\";\n\nexport default function Home() {\n  return <TestCaseGenerator />;\n}\n","size_bytes":132},"client/src/components/ui/alert.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst alertVariants = cva(\"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\", {\n    variants: {\n        variant: {\n            default: \"bg-background text-foreground\",\n            destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n    },\n});\nconst Alert = React.forwardRef((_a, ref) => {\n    var { className, variant } = _a, props = __rest(_a, [\"className\", \"variant\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, role: \"alert\", className: cn(alertVariants({ variant }), className) }, props)));\n});\nAlert.displayName = \"Alert\";\nconst AlertTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"h5\", Object.assign({ ref: ref, className: cn(\"mb-1 font-medium leading-none tracking-tight\", className) }, props)));\n});\nAlertTitle.displayName = \"AlertTitle\";\nconst AlertDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ ref: ref, className: cn(\"text-sm [&_p]:leading-relaxed\", className) }, props)));\n});\nAlertDescription.displayName = \"AlertDescription\";\nexport { Alert, AlertTitle, AlertDescription };\n","size_bytes":2053},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"server/executionEngine.ts":{"content":"import type { Page } from \"playwright\";\nimport { findElementByIntent, executeAction } from \"./intelligentLocator\";\nimport type { ParsedAction } from \"./instructionParser\";\n\nexport interface ExecutionResult {\n  action: ParsedAction;\n  success: boolean;\n  selector: string;\n  reasoning: string;\n  confidence: number;\n  duration: number;\n  screenshot?: string;\n}\n\n/**\n * Execute a sequence of actions on a page\n */\nexport async function executeActionSequence(\n  page: Page,\n  actions: ParsedAction[]\n): Promise<ExecutionResult[]> {\n  const results: ExecutionResult[] = [];\n  \n  for (const action of actions) {\n    const startTime = Date.now();\n    let result: ExecutionResult;\n    \n    try {\n      if (action.type === 'navigate') {\n        // Navigate to URL\n        await page.goto(action.intent, { waitUntil: 'networkidle', timeout: 30000 });\n        result = {\n          action,\n          success: true,\n          selector: action.intent,\n          reasoning: `Navigated to ${action.intent}`,\n          confidence: 1.0,\n          duration: Date.now() - startTime\n        };\n      } else if (action.type === 'verify') {\n        // Verify text exists\n        const exists = await page.locator(`text=\"${action.intent}\"`).count() > 0;\n        result = {\n          action,\n          success: exists,\n          selector: `text=\"${action.intent}\"`,\n          reasoning: exists ? `Found text: ${action.intent}` : `Text not found: ${action.intent}`,\n          confidence: exists ? 1.0 : 0,\n          duration: Date.now() - startTime\n        };\n      } else if (action.type === 'fill') {\n        // Fill input field\n        const execResult = await executeAction(page, 'fill', action.intent, action.value);\n        result = {\n          action,\n          ...execResult,\n          confidence: action.confidence,\n          duration: Date.now() - startTime\n        };\n      } else if (action.type === 'click') {\n        // Click element\n        const execResult = await executeAction(page, 'click', action.intent);\n        result = {\n          action,\n          ...execResult,\n          confidence: action.confidence,\n          duration: Date.now() - startTime\n        };\n      } else if (action.type === 'select') {\n        // Select dropdown option\n        const strategy = await findElementByIntent(page, action.intent, 'any');\n        await page.locator(strategy.selector).first().selectOption(action.value || '');\n        result = {\n          action,\n          success: true,\n          selector: strategy.selector,\n          reasoning: strategy.reasoning,\n          confidence: strategy.confidence,\n          duration: Date.now() - startTime\n        };\n      } else {\n        result = {\n          action,\n          success: false,\n          selector: '',\n          reasoning: 'Unknown action type',\n          confidence: 0,\n          duration: Date.now() - startTime\n        };\n      }\n    } catch (error) {\n      result = {\n        action,\n        success: false,\n        selector: '',\n        reasoning: `Error: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        confidence: 0,\n        duration: Date.now() - startTime\n      };\n    }\n    \n    results.push(result);\n    \n    // Stop on first failure\n    if (!result.success) {\n      console.warn(`[ExecutionEngine] Action failed, stopping: ${result.reasoning}`);\n      break;\n    }\n    \n    // Small delay between actions\n    await page.waitForTimeout(500);\n  }\n  \n  // Take final screenshot\n  try {\n    const screenshot = await page.screenshot({ type: 'png', fullPage: false });\n    if (results.length > 0) {\n      results[results.length - 1].screenshot = screenshot.toString('base64');\n    }\n  } catch (error) {\n    console.warn('[ExecutionEngine] Screenshot failed:', error);\n  }\n  \n  return results;\n}\n","size_bytes":3767},"client/src/components/ui/sheet.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Sheet = SheetPrimitive.Root;\nconst SheetTrigger = SheetPrimitive.Trigger;\nconst SheetClose = SheetPrimitive.Close;\nconst SheetPortal = SheetPrimitive.Portal;\nconst SheetOverlay = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SheetPrimitive.Overlay, Object.assign({ className: cn(\"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className) }, props, { ref: ref })));\n});\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\nconst sheetVariants = cva(\"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\", {\n    variants: {\n        side: {\n            top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n            bottom: \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n            left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n            right: \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n        },\n    },\n    defaultVariants: {\n        side: \"right\",\n    },\n});\nconst SheetContent = React.forwardRef((_a, ref) => {\n    var { side = \"right\", className, children } = _a, props = __rest(_a, [\"side\", \"className\", \"children\"]);\n    return (_jsxs(SheetPortal, { children: [_jsx(SheetOverlay, {}), _jsxs(SheetPrimitive.Content, Object.assign({ ref: ref, className: cn(sheetVariants({ side }), className) }, props, { children: [children, _jsxs(SheetPrimitive.Close, { className: \"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\", children: [_jsx(X, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"Close\" })] })] }))] }));\n});\nSheetContent.displayName = SheetPrimitive.Content.displayName;\nconst SheetHeader = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col space-y-2 text-center sm:text-left\", className) }, props)));\n};\nSheetHeader.displayName = \"SheetHeader\";\nconst SheetFooter = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ className: cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className) }, props)));\n};\nSheetFooter.displayName = \"SheetFooter\";\nconst SheetTitle = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SheetPrimitive.Title, Object.assign({ ref: ref, className: cn(\"text-lg font-semibold text-foreground\", className) }, props)));\n});\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\nconst SheetDescription = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SheetPrimitive.Description, Object.assign({ ref: ref, className: cn(\"text-sm text-muted-foreground\", className) }, props)));\n});\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\nexport { Sheet, SheetPortal, SheetOverlay, SheetTrigger, SheetClose, SheetContent, SheetHeader, SheetFooter, SheetTitle, SheetDescription, };\n","size_bytes":4443},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/setupTests.ts":{"content":"import '@testing-library/jest-dom';\nimport { beforeAll, vi } from 'vitest';\n\nbeforeAll(() => {\n  // Mock clipboard API\n  Object.defineProperty(navigator, 'clipboard', {\n    value: {\n      writeText: vi.fn(),\n    },\n    writable: true,\n  });\n});\n","size_bytes":245},"client/src/components/ui/avatar.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\nimport { cn } from \"@/lib/utils\";\nconst Avatar = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AvatarPrimitive.Root, Object.assign({ ref: ref, className: cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`, className) }, props)));\n});\nAvatar.displayName = AvatarPrimitive.Root.displayName;\nconst AvatarImage = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AvatarPrimitive.Image, Object.assign({ ref: ref, className: cn(\"aspect-square h-full w-full\", className) }, props)));\n});\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\nconst AvatarFallback = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AvatarPrimitive.Fallback, Object.assign({ ref: ref, className: cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", className) }, props)));\n});\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\nexport { Avatar, AvatarImage, AvatarFallback };\n","size_bytes":1927},"client/src/components/ui/checkbox.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Checkbox = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(CheckboxPrimitive.Root, Object.assign({ ref: ref, className: cn(\"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\", className) }, props, { children: _jsx(CheckboxPrimitive.Indicator, { className: cn(\"flex items-center justify-center text-current\"), children: _jsx(Check, { className: \"h-4 w-4\" }) }) })));\n});\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\nexport { Checkbox };\n","size_bytes":1480},"client/src/components/ui/slider.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\nimport { cn } from \"@/lib/utils\";\nconst Slider = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(SliderPrimitive.Root, Object.assign({ ref: ref, className: cn(\"relative flex w-full touch-none select-none items-center\", className) }, props, { children: [_jsx(SliderPrimitive.Track, { className: \"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\", children: _jsx(SliderPrimitive.Range, { className: \"absolute h-full bg-primary\" }) }), _jsx(SliderPrimitive.Thumb, { className: \"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" })] })));\n});\nSlider.displayName = SliderPrimitive.Root.displayName;\nexport { Slider };\n","size_bytes":1548},"shared/schema.ts":{"content":"import { z } from \"zod\";\n\n// Test Case Generation Request Schema\nexport const generateTestCasesRequestSchema = z.object({\n  url: z.string().url(\"Please enter a valid URL\"),\n  prompt: z.string().min(10, \"Prompt must be at least 10 characters\"),\n});\n\nexport type GenerateTestCasesRequest = z.infer<typeof generateTestCasesRequestSchema>;\n\n// Test Case Types\nexport const testCaseTypeSchema = z.enum([\"UI\", \"API\", \"E2E\", \"Integration\", \"Unit\", \"Performance\", \"Security\", \"Accessibility\"]);\nexport type TestCaseType = z.infer<typeof testCaseTypeSchema>;\n\n// Individual Test Case Schema\nexport const testCaseSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  description: z.string(),\n  type: testCaseTypeSchema,\n  priority: z.enum([\"High\", \"Medium\", \"Low\"]),\n  steps: z.array(z.string()),\n  expectedResult: z.string(),\n  playwrightCode: z.string().optional(),\n});\n\nexport type TestCase = z.infer<typeof testCaseSchema>;\n\n// Website Analysis Schema\nexport const websiteAnalysisSchema = z.object({\n  url: z.string(),\n  allInteractive: z.array(\n    z.object({\n      tag: z.string(),\n      type: z.string(),\n      text: z.string(),\n      ariaLabel: z.string(),\n      role: z.string(),\n      placeholder: z.string(),\n      name: z.string(),\n      id: z.string(),\n      selectors: z.array(z.string()),\n      xpath: z.string(),\n      friendlyName: z.string().optional(),\n    })\n  ).optional(),\n  // Legacy fields for backward compatibility\n  forms: z.array(z.object({ name: z.string(), fields: z.array(z.any()) })).optional(),\n  buttonsWithSelectors: z.array(z.any()).optional(),\n  buttons: z.array(z.string()).optional(),\n  linksWithXPaths: z.array(z.any()).optional(),\n  allInteractiveElements: z.array(z.any()).optional(),\n});\n\nexport type WebsiteAnalysis = z.infer<typeof websiteAnalysisSchema>;\n\n// Test Case Generation Response Schema\nexport const testCaseGenerationResponseSchema = z.object({\n  analysis: websiteAnalysisSchema,\n  testCases: z.array(testCaseSchema),\n  summary: z.object({\n    totalTests: z.number(),\n    byType: z.record(z.number()),\n    coverageAreas: z.array(z.string()),\n  }),\n});\n\nexport type TestCaseGenerationResponse = z.infer<typeof testCaseGenerationResponseSchema>;\n\n// Scrape Request Schema (for scraping without generation)\nexport const scrapeWebsiteRequestSchema = z.object({\n  url: z.string().url(\"Please enter a valid URL\"),\n});\n\nexport type ScrapeWebsiteRequest = z.infer<typeof scrapeWebsiteRequestSchema>;\n","size_bytes":2445},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"server/routes.ts":{"content":"import express, { type Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { analyzeWebsite } from \"./scraper\";\nimport { intelligentAction, selectBestSelectorsFromElements } from \"./intelligentLocator\";\nimport { parseInstructions } from \"./instructionParser\";\nimport { generateTestCases } from \"./testCaseGenerator\";\nimport { saveXPathData, type StoredXPathData } from \"./xpathStorage\";\nimport { inferSelectorForIntent } from \"./selectorModel\";\nimport { saveScrapeResult, saveTestCases, saveExecutionResult } from \"./db/queries\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.post(\"/api/parse-instructions\", (req, res) => {\n    const { prompt } = req.body;\n    const actions = parseInstructions(prompt || \"\");\n    res.json({ actions, totalActions: actions.length });\n  });\n\n  app.post(\"/api/scrape-website\", async (req, res) => {\n    const { url } = req.body;\n    const analysis = await analyzeWebsite(url);\n    res.json(analysis);\n  });\n\n  app.post(\"/api/intelligent-execute\", async (req, res) => {\n    const { url, prompt, actions } = req.body;\n    const { chromium } = await import(\"playwright\");\n    const browser = await chromium.launch({ headless: true });\n    const page = await browser.newPage();\n    await page.goto(url, { waitUntil: \"networkidle\", timeout: 30000 });\n\n    let parsed = actions;\n    if (!parsed && prompt) parsed = parseInstructions(prompt);\n\n    const results = [];\n    for (const action of parsed) {\n      let result;\n      if (action.type === \"fill\") {\n        result = await intelligentAction(page, \"fill\", action.intent, action.value);\n      } else if (action.type === \"click\") {\n        result = await intelligentAction(page, \"click\", action.intent);\n      }\n      if (result) {\n        results.push({ ...result, action });\n        if (!result.success) break;\n      }\n      await page.waitForTimeout(500);\n    }\n\n    let screenshot = \"\";\n    try {\n      const buf = await page.screenshot({ type: \"png\", fullPage: false });\n      screenshot = buf.toString(\"base64\");\n    } catch {}\n    await browser.close();\n\n    const responseData = {\n      results,\n      summary: {\n        total: results.length,\n        successful: results.filter(r => r.success).length,\n        totalDuration: 0\n      },\n      screenshot,\n      success: results.every(r => r.success)\n    };\n\n    // Save execution result to database\n    try {\n      await saveExecutionResult({\n        url,\n        prompt: prompt || \"\",\n        success: responseData.success,\n        totalActions: responseData.summary.total,\n        successfulActions: responseData.summary.successful,\n        results: responseData.results,\n        screenshot,\n      });\n      console.log(`[API] ✓ Execution result saved to database`);\n    } catch (dbError: any) {\n      console.error('[API] Database save error (non-fatal):', dbError.message);\n    }\n\n    res.json(responseData);\n  });\n\n  app.post(\"/api/page-screenshot\", async (req, res) => {\n    try {\n      const { url } = req.body || {};\n      if (!url) return res.status(400).json({ error: \"URL required\" });\n\n      console.log(`[Preview] Rendering HTML for ${url}...`);\n      \n      const { chromium } = await import(\"playwright\");\n      const browser = await chromium.launch({ headless: true });\n      const page = await browser.newPage();\n      \n      // Navigate and wait for page to be ready\n      await page.goto(url, { waitUntil: \"networkidle\", timeout: 30000 });\n      await page.waitForTimeout(1500);\n      \n      // Get the full HTML\n      let html = await page.content();\n      \n      await browser.close();\n      console.log(`[Preview] Playwright rendered ${html?.length || 0} bytes`);\n\n      if (!html || html.length < 50) {\n        return res.status(500).json({ error: \"Received empty or invalid HTML\" });\n      }\n\n      // Remove security headers that block iframe embedding\n      html = html.replace(/<meta[^>]*http-equiv=[\"']?Content-Security-Policy[\"']?[^>]*>/gi, '');\n      html = html.replace(/<meta[^>]*http-equiv=[\"']?X-Frame-Options[\"']?[^>]*>/gi, '');\n      html = html.replace(/<meta[^>]*name=[\"']?referrer[\"']?[^>]*>/gi, '');\n\n      // Inject base tag to fix relative URLs\n      if (html.includes(\"<head\")) {\n        html = html.replace(\n          /<head([^>]*)>/i,\n          `<head$1>\\n  <base href=\"${url}\">\\n  <meta charset=\"utf-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">`\n        );\n      } else {\n        html = `<head>\\n  <base href=\"${url}\">\\n  <meta charset=\"utf-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n</head>\\n${html}`;\n      }\n\n      // Return as HTML\n      res.setHeader(\"Content-Type\", \"text/html; charset=utf-8\");\n      res.setHeader(\"Cache-Control\", \"no-store, no-cache, must-revalidate\");\n      res.setHeader(\"X-Content-Type-Options\", \"nosniff\");\n      res.status(200).send(html);\n      console.log(`[Preview] ✓ Sent ${html.length} bytes of HTML`);\n    } catch (error: any) {\n      console.error('[Preview] Fatal error:', error.message, error.stack);\n      if (!res.headersSent) {\n        res.status(500).json({ error: error.message });\n      }\n    }\n  });\n\n  // CORRECTED FLOW: Scrape → Analyze → Match → Generate → Save to DB\n  app.post(\"/api/generate-test-cases\", async (req, res) => {\n    try {\n      const { url, prompt } = req.body;\n      \n      console.log(`[API] Step 1: Scraping ${url}...`);\n      const analysis = await analyzeWebsite(url);\n      \n      console.log(`[API] Step 2: Found ${analysis.allInteractive?.length || 0} interactive elements`);\n      \n      console.log(`[API] Step 3: Matching prompt to elements...`);\n      const testCases = await generateTestCases(analysis, prompt);\n      \n      console.log(`[API] Step 4: Generated ${testCases.testCases.length} test cases`);\n      \n      // Save to database\n      try {\n        console.log(`[API] Step 5: Saving to database...`);\n        const scrapeResult = await saveScrapeResult({\n          url,\n          prompt,\n          analysisData: analysis,\n          interactiveElementsCount: analysis.allInteractive?.length || 0,\n        });\n        \n        if (testCases.testCases.length > 0) {\n          await saveTestCases({\n            scrapeResultId: scrapeResult.id,\n            websiteId: scrapeResult.websiteId,\n            testCases: testCases.testCases,\n          });\n        }\n        \n        console.log(`[API] ✓ Data saved to database`);\n      } catch (dbError: any) {\n        console.error('[API] Database save error (non-fatal):', dbError.message);\n      }\n      \n      res.json(testCases);\n    } catch (error: any) {\n      console.error('[API] Error:', error);\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // New: analyze site and produce best selectors (uses Gemini/OpenAI/fallback)\n  app.post(\"/api/analyze-and-selectors\", async (req, res) => {\n    try {\n      const { url, prompt } = req.body;\n      if (!url) return res.status(400).json({ error: \"url required\" });\n\n      const analysis = await analyzeWebsite(url);\n      const actions = parseInstructions(prompt || \"\");\n      const matches: any[] = [];\n\n      for (const action of actions) {\n        if (action.type === \"fill\" || action.type === \"click\") {\n          const { element, selector, confidence, source } = await selectBestSelectorsFromElements(action.intent, analysis.allInteractive || []);\n          matches.push({\n            action,\n            selector,\n            confidence,\n            source,\n            element,\n          });\n        } else {\n          matches.push({ action, selector: null, confidence: 0, source: \"none\", element: null });\n        }\n      }\n\n      // Save scraped data (already saved in scraper but ensure latest)\n      const stored: StoredXPathData = {\n        url,\n        scrapedAt: new Date().toISOString(),\n        forms: [],\n        buttons: (analysis.allInteractive || []).filter(e => ['button','input'].includes(e.tag)).map(e => ({ \n          text: e.text, \n          selectors: e.selectors, \n          ariaLabel: e.ariaLabel, \n          role: e.role,\n          xpath: (e as any).xpath,\n          xpathCandidates: (e as any).xpathCandidates // <-- ensure this is here\n        })),\n        links: (analysis.allInteractive || []).filter(e => e.tag === 'a').map(e => ({ \n          text: e.text, \n          href: '', \n          selectors: e.selectors, \n          ariaLabel: e.ariaLabel,\n          xpath: (e as any).xpath,\n          xpathCandidates: (e as any).xpathCandidates // <-- ensure this is here\n        })),\n        allInteractive: (analysis.allInteractive || []).map(e => ({ \n          text: e.text, \n          tag: e.tag, \n          type: e.type, \n          selectors: e.selectors, \n          matchScore: 0,\n          xpath: (e as any).xpath,\n          xpathCandidates: (e as any).xpathCandidates // <-- ensure this is here\n        })),\n      };\n      const path = saveXPathData(url, stored);\n\n      res.json({ analysis, matches, storagePath: path });\n    } catch (error: any) {\n      console.error('[Analyze] Error:', error);\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // New: infer selector for an intent on a URL\n  app.post(\"/api/infer-selector\", async (req, res) => {\n    try {\n      const { url, intent } = req.body;\n      if (!url || !intent) return res.status(400).json({ error: \"url and intent required\" });\n\n      // Scrape / analyze site first\n      const analysis = await analyzeWebsite(url);\n\n      // Run selector model\n      const result = await inferSelectorForIntent(intent, analysis);\n\n      // return analysis + selector result\n      res.json({ analysis, selectorResult: result });\n    } catch (error: any) {\n      console.error('[InferSelector] Error:', error);\n      res.status(500).json({ error: error?.message || String(error) });\n    }\n  });\n\n  // DEBUG: run a scrape and return counts + samples for quick inspection\n  app.post(\"/api/debug-scrape\", async (req, res) => {\n    try {\n      const { url } = req.body || {};\n      if (!url) return res.status(400).json({ error: \"url required\" });\n\n      console.log(`[DebugScrape] Scraping: ${url}`);\n      const analysis = await analyzeWebsite(url);\n\n      const all = analysis.allInteractive || [];\n      const counts: Record<string, number> = {};\n      for (const el of all) counts[el.tag] = (counts[el.tag] || 0) + 1;\n\n      const samples = all.slice(0, 40).map((e: any) => ({\n        tag: e.tag,\n        id: e.id || null,\n        name: e.name || null,\n        friendlyName: e.friendlyName || null,\n        text: (e.text && typeof e.text === 'string') ? (e.text.length > 200 ? e.text.slice(0,200) + '…' : e.text) : e.text,\n        selectors: e.selectors || [],\n        xpath: e.xpath || null,\n        xpathCandidates: e.xpathCandidates || [],\n      }));\n\n      res.json({ url: analysis.url, title: (analysis as any).title || null, total: all.length, counts, samples });\n    } catch (err: any) {\n      console.error('[DebugScrape] Error:', err);\n      res.status(500).json({ error: err?.message || String(err) });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":11117},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/lib/queryClient.js":{"content":"import { QueryClient } from \"@tanstack/react-query\";\nasync function throwIfResNotOk(res) {\n    if (!res.ok) {\n        const text = (await res.text()) || res.statusText;\n        throw new Error(`${res.status}: ${text}`);\n    }\n}\nexport async function apiRequest(method, url, data) {\n    const res = await fetch(url, {\n        method,\n        headers: data ? { \"Content-Type\": \"application/json\" } : {},\n        body: data ? JSON.stringify(data) : undefined,\n        credentials: \"include\",\n    });\n    await throwIfResNotOk(res);\n    return res;\n}\nexport const getQueryFn = ({ on401: unauthorizedBehavior }) => async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\"), {\n        credentials: \"include\",\n    });\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n        return null;\n    }\n    await throwIfResNotOk(res);\n    return await res.json();\n};\nexport const queryClient = new QueryClient({\n    defaultOptions: {\n        queries: {\n            queryFn: getQueryFn({ on401: \"throw\" }),\n            refetchInterval: false,\n            refetchOnWindowFocus: false,\n            staleTime: Infinity,\n            retry: false,\n        },\n        mutations: {\n            retry: false,\n        },\n    },\n});\n","size_bytes":1243},"client/src/components/ui/tabs.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"@/lib/utils\";\nconst Tabs = TabsPrimitive.Root;\nconst TabsList = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(TabsPrimitive.List, Object.assign({ ref: ref, className: cn(\"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\", className) }, props)));\n});\nTabsList.displayName = TabsPrimitive.List.displayName;\nconst TabsTrigger = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(TabsPrimitive.Trigger, Object.assign({ ref: ref, className: cn(\"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\", className) }, props)));\n});\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\nconst TabsContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(TabsPrimitive.Content, Object.assign({ ref: ref, className: cn(\"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\", className) }, props)));\n});\nTabsContent.displayName = TabsPrimitive.Content.displayName;\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","size_bytes":2203},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/separator.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\nimport { cn } from \"@/lib/utils\";\nconst Separator = React.forwardRef((_a, ref) => {\n    var { className, orientation = \"horizontal\", decorative = true } = _a, props = __rest(_a, [\"className\", \"orientation\", \"decorative\"]);\n    return (_jsx(SeparatorPrimitive.Root, Object.assign({ ref: ref, decorative: decorative, orientation: orientation, className: cn(\"shrink-0 bg-border\", orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\", className) }, props)));\n});\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\nexport { Separator };\n","size_bytes":1193},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Home from \"@/pages/Home\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":699},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/collapsible.js":{"content":"\"use client\";\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\nconst Collapsible = CollapsiblePrimitive.Root;\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n","size_bytes":330},"PROJECT_STRUCTURE.md":{"content":"# Project Structure\n\n```\nPromptTestCase/\n├── client/                          # ✅ FRONTEND ONLY\n│   ├── src/\n│   │   ├── components/              # React components\n│   │   │   ├── ui/                  # shadcn UI components\n│   │   │   └── TestCaseGenerator.tsx\n│   │   ├── pages/                   # Page components\n│   │   │   └── Home.tsx\n│   │   ├── lib/                     # Frontend utilities\n│   │   │   ├── queryClient.ts\n│   │   │   └── utils.ts\n│   │   ├── hooks/                   # Custom React hooks\n│   │   ├── __tests__/               # Frontend tests\n│   │   ├── App.tsx                  # Main app component\n│   │   ├── main.tsx                 # React entry point\n│   │   └── index.css                # Global styles\n│   ├── index.html                   # HTML template\n│   ├── public/                      # Static assets\n│   ├── tsconfig.json                # Client TypeScript config\n│   └── vite.config.ts               # Client Vite config (optional)\n│\n├── server/                          # ✅ BACKEND ONLY\n│   ├── routes.ts                    # API endpoints\n│   ├── scraper.ts                   # Playwright scraping\n│   ├── testCaseGenerator.ts        # Test generation\n│   ├── openai.ts                    # OpenAI client\n│   ├── xpathStorage.ts              # Data persistence\n│   ├── vite.ts                      # Vite dev middleware\n│   ├── index.ts                     # Server entry point\n│   └── tsconfig.json                # Server TypeScript config\n│\n├── shared/                          # ✅ SHARED CODE\n│   └── schema.ts                    # Zod schemas (both sides)\n│\n├── scraped-xpaths/                  # Runtime data (gitignored)\n│\n├── dist/                            # Build output\n│   ├── public/                      # Built frontend\n│   └── index.js                     # Built backend\n│\n├── vite.config.ts                   # Root Vite config\n├── tsconfig.json                    # Root TypeScript config\n├── tailwind.config.ts               # Tailwind config\n├── components.json                  # shadcn config\n├── vitest.config.ts                 # Test config\n├── package.json                     # Dependencies & scripts\n├── .gitignore\n├── .env\n├── PROJECT_STRUCTURE.md\n├── README.md\n└── design_guidelines.md\n```\n\n## Clear Separation Rules\n\n### ✅ Client Directory (`client/`)\n**Purpose**: All frontend React code\n**Contains**:\n- React components (.tsx)\n- React hooks\n- Frontend utilities\n- Styles (CSS/Tailwind)\n- Client-side tests\n- HTML template\n- Static assets\n\n**Dependencies**: \n- React, React DOM\n- TanStack Query\n- Tailwind CSS\n- shadcn UI\n- Wouter\n- React Hook Form\n\n**Build Output**: `dist/public/` (static files)\n\n**Dev Server**: Vite dev server on port 5173 (proxied through Express in dev)\n\n---\n\n### ✅ Server Directory (`server/`)\n**Purpose**: All backend Node.js/Express code\n**Contains**:\n- Express routes\n- Business logic\n- Database/File operations\n- External API integrations (OpenAI)\n- Web scraping (Playwright)\n- Middleware\n\n**Dependencies**:\n- Express\n- Playwright\n- OpenAI SDK\n- Axios\n- File system (fs)\n\n**Build Output**: `dist/index.js` (bundled server)\n\n**Runtime**: Node.js with Express on port 3000\n\n---\n\n### ✅ Shared Directory (`shared/`)\n**Purpose**: Code used by BOTH client and server\n**Contains**:\n- Zod schemas for validation\n- TypeScript types/interfaces\n- Constants shared across stack\n\n**Rules**:\n- ❌ NO React code\n- ❌ NO Express code\n- ❌ NO browser-specific APIs\n- ❌ NO Node-specific APIs\n- ✅ Only pure TypeScript types and schemas\n\n---\n\n## Development Workflow\n\n### Start Development\n```bash\nnpm run dev              # Starts Express + Vite middleware (recommended)\n# OR separately:\nnpm run dev:server       # Starts Express on port 3000\nnpm run dev:client       # Starts Vite on port 5173\n```\n\n### Build for Production\n```bash\nnpm run build            # Builds both client and server\nnpm start                # Runs production build\n```\n\n### Type Checking\n```bash\nnpm run check            # Check all TypeScript\nnpm run check:client     # Check client only\nnpm run check:server     # Check server only\n```\n\n---\n\n## Import Rules\n\n### ✅ Client can import:\n```typescript\nimport { something } from \"@/components/...\"  // Client code\nimport { schema } from \"@shared/schema\"       // Shared code\n```\n\n### ✅ Server can import:\n```typescript\nimport express from \"express\"                 // Server modules\nimport { schema } from \"../shared/schema\"     // Shared code\n```\n\n### ❌ Client CANNOT import:\n```typescript\nimport { route } from \"../server/routes\"      // ❌ NO SERVER CODE\nimport fs from \"fs\"                           // ❌ NO NODE APIS\n```\n\n### ❌ Server CANNOT import:\n```typescript\nimport { Button } from \"../client/src/...\"    // ❌ NO CLIENT CODE\nimport React from \"react\"                     // ❌ NO REACT\n```\n\n---\n\n## File Organization Best Practices\n\n1. **One concern per directory**: Don't mix UI with API logic\n2. **Shared code is minimal**: Only types and schemas\n3. **Build outputs are separate**: `dist/public/` vs `dist/index.js`\n4. **Config files at root**: Easier tooling setup\n5. **Environment per directory**: Client has client config, server has server config\n\nThis structure ensures:\n- ✅ Clear separation of concerns\n- ✅ Easy to understand where code belongs\n- ✅ Independent scaling (deploy client and server separately if needed)\n- ✅ Type safety across the stack\n- ✅ No accidental cross-contamination\n","size_bytes":5833},"client/src/components/ui/toggle.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst toggleVariants = cva(\"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\", {\n    variants: {\n        variant: {\n            default: \"bg-transparent\",\n            outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n        },\n        size: {\n            default: \"h-10 px-3 min-w-10\",\n            sm: \"h-9 px-2.5 min-w-9\",\n            lg: \"h-11 px-5 min-w-11\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\",\n    },\n});\nconst Toggle = React.forwardRef((_a, ref) => {\n    var { className, variant, size } = _a, props = __rest(_a, [\"className\", \"variant\", \"size\"]);\n    return (_jsx(TogglePrimitive.Root, Object.assign({ ref: ref, className: cn(toggleVariants({ variant, size, className })) }, props)));\n});\nToggle.displayName = TogglePrimitive.Root.displayName;\nexport { Toggle, toggleVariants };\n","size_bytes":1985},"client/src/components/ui/label.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\nconst Label = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(LabelPrimitive.Root, Object.assign({ ref: ref, className: cn(labelVariants(), className) }, props)));\n});\nLabel.displayName = LabelPrimitive.Root.displayName;\nexport { Label };\n","size_bytes":1135},"client/src/components/ui/switch.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport { cn } from \"@/lib/utils\";\nconst Switch = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(SwitchPrimitives.Root, Object.assign({ className: cn(\"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\", className) }, props, { ref: ref, children: _jsx(SwitchPrimitives.Thumb, { className: cn(\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\") }) })));\n});\nSwitch.displayName = SwitchPrimitives.Root.displayName;\nexport { Switch };\n","size_bytes":1570},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/sidebar.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\nimport { PanelLeftIcon } from \"lucide-react\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent, SheetDescription, SheetHeader, SheetTitle, } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger, } from \"@/components/ui/tooltip\";\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\nconst SidebarContext = React.createContext(null);\nfunction useSidebar() {\n    const context = React.useContext(SidebarContext);\n    if (!context) {\n        throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n    }\n    return context;\n}\nfunction SidebarProvider(_a) {\n    var { defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children } = _a, props = __rest(_a, [\"defaultOpen\", \"open\", \"onOpenChange\", \"className\", \"style\", \"children\"]);\n    const isMobile = useIsMobile();\n    const [openMobile, setOpenMobile] = React.useState(false);\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen);\n    const open = openProp !== null && openProp !== void 0 ? openProp : _open;\n    const setOpen = React.useCallback((value) => {\n        const openState = typeof value === \"function\" ? value(open) : value;\n        if (setOpenProp) {\n            setOpenProp(openState);\n        }\n        else {\n            _setOpen(openState);\n        }\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    }, [setOpenProp, open]);\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n        return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n    }, [isMobile, setOpen, setOpenMobile]);\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n        const handleKeyDown = (event) => {\n            if (event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n                (event.metaKey || event.ctrlKey)) {\n                event.preventDefault();\n                toggleSidebar();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [toggleSidebar]);\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\";\n    const contextValue = React.useMemo(() => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n    }), [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]);\n    return (_jsx(SidebarContext.Provider, { value: contextValue, children: _jsx(TooltipProvider, { delayDuration: 0, children: _jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-wrapper\", style: Object.assign({ \"--sidebar-width\": SIDEBAR_WIDTH, \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON }, style), className: cn(\"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\", className) }, props, { children: children })) }) }));\n}\nfunction Sidebar(_a) {\n    var { side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children } = _a, props = __rest(_a, [\"side\", \"variant\", \"collapsible\", \"className\", \"children\"]);\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n    if (collapsible === \"none\") {\n        return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar\", className: cn(\"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\", className) }, props, { children: children })));\n    }\n    if (isMobile) {\n        return (_jsx(Sheet, Object.assign({ open: openMobile, onOpenChange: setOpenMobile }, props, { children: _jsxs(SheetContent, { \"data-sidebar\": \"sidebar\", \"data-slot\": \"sidebar\", \"data-mobile\": \"true\", className: \"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\", style: {\n                    \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n                }, side: side, children: [_jsxs(SheetHeader, { className: \"sr-only\", children: [_jsx(SheetTitle, { children: \"Sidebar\" }), _jsx(SheetDescription, { children: \"Displays the mobile sidebar.\" })] }), _jsx(\"div\", { className: \"flex h-full w-full flex-col\", children: children })] }) })));\n    }\n    return (_jsxs(\"div\", { className: \"group peer text-sidebar-foreground hidden md:block\", \"data-state\": state, \"data-collapsible\": state === \"collapsed\" ? collapsible : \"\", \"data-variant\": variant, \"data-side\": side, \"data-slot\": \"sidebar\", children: [_jsx(\"div\", { \"data-slot\": \"sidebar-gap\", className: cn(\"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\", \"group-data-[collapsible=offcanvas]:w-0\", \"group-data-[side=right]:rotate-180\", variant === \"floating\" || variant === \"inset\"\n                    ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n                    : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\") }), _jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-container\", className: cn(\"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\", side === \"left\"\n                    ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n                    : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\", \n                // Adjust the padding for floating and inset variants.\n                variant === \"floating\" || variant === \"inset\"\n                    ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n                    : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\", className) }, props, { children: _jsx(\"div\", { \"data-sidebar\": \"sidebar\", \"data-slot\": \"sidebar-inner\", className: \"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\", children: children }) }))] }));\n}\nfunction SidebarTrigger(_a) {\n    var { className, onClick } = _a, props = __rest(_a, [\"className\", \"onClick\"]);\n    const { toggleSidebar } = useSidebar();\n    return (_jsxs(Button, Object.assign({ \"data-sidebar\": \"trigger\", \"data-slot\": \"sidebar-trigger\", variant: \"ghost\", size: \"icon\", className: cn(\"h-7 w-7\", className), onClick: (event) => {\n            onClick === null || onClick === void 0 ? void 0 : onClick(event);\n            toggleSidebar();\n        } }, props, { children: [_jsx(PanelLeftIcon, {}), _jsx(\"span\", { className: \"sr-only\", children: \"Toggle Sidebar\" })] })));\n}\nfunction SidebarRail(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const { toggleSidebar } = useSidebar();\n    // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n    return (_jsx(\"button\", Object.assign({ \"data-sidebar\": \"rail\", \"data-slot\": \"sidebar-rail\", \"aria-label\": \"Toggle Sidebar\", tabIndex: -1, onClick: toggleSidebar, title: \"Toggle Sidebar\", className: cn(\"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\", \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\", \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\", \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\", \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\", \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\", className) }, props)));\n}\nfunction SidebarInset(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"main\", Object.assign({ \"data-slot\": \"sidebar-inset\", className: cn(\"bg-background relative flex w-full flex-1 flex-col\", \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\", className) }, props)));\n}\nfunction SidebarInput(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(Input, Object.assign({ \"data-slot\": \"sidebar-input\", \"data-sidebar\": \"input\", className: cn(\"bg-background h-8 w-full shadow-none\", className) }, props)));\n}\nfunction SidebarHeader(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-header\", \"data-sidebar\": \"header\", className: cn(\"flex flex-col gap-2 p-2\", className) }, props)));\n}\nfunction SidebarFooter(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-footer\", \"data-sidebar\": \"footer\", className: cn(\"flex flex-col gap-2 p-2\", className) }, props)));\n}\nfunction SidebarSeparator(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(Separator, Object.assign({ \"data-slot\": \"sidebar-separator\", \"data-sidebar\": \"separator\", className: cn(\"bg-sidebar-border mx-2 w-auto\", className) }, props)));\n}\nfunction SidebarContent(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-content\", \"data-sidebar\": \"content\", className: cn(\"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\", className) }, props)));\n}\nfunction SidebarGroup(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-group\", \"data-sidebar\": \"group\", className: cn(\"relative flex w-full min-w-0 flex-col p-2\", className) }, props)));\n}\nfunction SidebarGroupLabel(_a) {\n    var { className, asChild = false } = _a, props = __rest(_a, [\"className\", \"asChild\"]);\n    const Comp = asChild ? Slot : \"div\";\n    return (_jsx(Comp, Object.assign({ \"data-slot\": \"sidebar-group-label\", \"data-sidebar\": \"group-label\", className: cn(\"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\", \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\", className) }, props)));\n}\nfunction SidebarGroupAction(_a) {\n    var { className, asChild = false } = _a, props = __rest(_a, [\"className\", \"asChild\"]);\n    const Comp = asChild ? Slot : \"button\";\n    return (_jsx(Comp, Object.assign({ \"data-slot\": \"sidebar-group-action\", \"data-sidebar\": \"group-action\", className: cn(\"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\", \n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\", \"group-data-[collapsible=icon]:hidden\", className) }, props)));\n}\nfunction SidebarGroupContent(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-group-content\", \"data-sidebar\": \"group-content\", className: cn(\"w-full text-sm\", className) }, props)));\n}\nfunction SidebarMenu(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"ul\", Object.assign({ \"data-slot\": \"sidebar-menu\", \"data-sidebar\": \"menu\", className: cn(\"flex w-full min-w-0 flex-col gap-1\", className) }, props)));\n}\nfunction SidebarMenuItem(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"li\", Object.assign({ \"data-slot\": \"sidebar-menu-item\", \"data-sidebar\": \"menu-item\", className: cn(\"group/menu-item relative\", className) }, props)));\n}\nconst sidebarMenuButtonVariants = cva(\"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n            outline: \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n        },\n        size: {\n            default: \"h-8 text-sm\",\n            sm: \"h-7 text-xs\",\n            lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n        },\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\",\n    },\n});\nfunction SidebarMenuButton(_a) {\n    var { asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className } = _a, props = __rest(_a, [\"asChild\", \"isActive\", \"variant\", \"size\", \"tooltip\", \"className\"]);\n    const Comp = asChild ? Slot : \"button\";\n    const { isMobile, state } = useSidebar();\n    const button = (_jsx(Comp, Object.assign({ \"data-slot\": \"sidebar-menu-button\", \"data-sidebar\": \"menu-button\", \"data-size\": size, \"data-active\": isActive, className: cn(sidebarMenuButtonVariants({ variant, size }), className) }, props)));\n    if (!tooltip) {\n        return button;\n    }\n    if (typeof tooltip === \"string\") {\n        tooltip = {\n            children: tooltip,\n        };\n    }\n    return (_jsxs(Tooltip, { children: [_jsx(TooltipTrigger, { asChild: true, children: button }), _jsx(TooltipContent, Object.assign({ side: \"right\", align: \"center\", hidden: state !== \"collapsed\" || isMobile }, tooltip))] }));\n}\nfunction SidebarMenuAction(_a) {\n    var { className, asChild = false, showOnHover = false } = _a, props = __rest(_a, [\"className\", \"asChild\", \"showOnHover\"]);\n    const Comp = asChild ? Slot : \"button\";\n    return (_jsx(Comp, Object.assign({ \"data-slot\": \"sidebar-menu-action\", \"data-sidebar\": \"menu-action\", className: cn(\"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\", \n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\", \"peer-data-[size=sm]/menu-button:top-1\", \"peer-data-[size=default]/menu-button:top-1.5\", \"peer-data-[size=lg]/menu-button:top-2.5\", \"group-data-[collapsible=icon]:hidden\", showOnHover &&\n            \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\", className) }, props)));\n}\nfunction SidebarMenuBadge(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"div\", Object.assign({ \"data-slot\": \"sidebar-menu-badge\", \"data-sidebar\": \"menu-badge\", className: cn(\"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\", \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\", \"peer-data-[size=sm]/menu-button:top-1\", \"peer-data-[size=default]/menu-button:top-1.5\", \"peer-data-[size=lg]/menu-button:top-2.5\", \"group-data-[collapsible=icon]:hidden\", className) }, props)));\n}\nfunction SidebarMenuSkeleton(_a) {\n    var { className, showIcon = false } = _a, props = __rest(_a, [\"className\", \"showIcon\"]);\n    // Random width between 50 to 90%.\n    const width = React.useMemo(() => {\n        return `${Math.floor(Math.random() * 40) + 50}%`;\n    }, []);\n    return (_jsxs(\"div\", Object.assign({ \"data-slot\": \"sidebar-menu-skeleton\", \"data-sidebar\": \"menu-skeleton\", className: cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className) }, props, { children: [showIcon && (_jsx(Skeleton, { className: \"size-4 rounded-md\", \"data-sidebar\": \"menu-skeleton-icon\" })), _jsx(Skeleton, { className: \"h-4 max-w-[var(--skeleton-width)] flex-1\", \"data-sidebar\": \"menu-skeleton-text\", style: {\n                    \"--skeleton-width\": width,\n                } })] })));\n}\nfunction SidebarMenuSub(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"ul\", Object.assign({ \"data-slot\": \"sidebar-menu-sub\", \"data-sidebar\": \"menu-sub\", className: cn(\"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\", \"group-data-[collapsible=icon]:hidden\", className) }, props)));\n}\nfunction SidebarMenuSubItem(_a) {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"li\", Object.assign({ \"data-slot\": \"sidebar-menu-sub-item\", \"data-sidebar\": \"menu-sub-item\", className: cn(\"group/menu-sub-item relative\", className) }, props)));\n}\nfunction SidebarMenuSubButton(_a) {\n    var { asChild = false, size = \"md\", isActive = false, className } = _a, props = __rest(_a, [\"asChild\", \"size\", \"isActive\", \"className\"]);\n    const Comp = asChild ? Slot : \"a\";\n    return (_jsx(Comp, Object.assign({ \"data-slot\": \"sidebar-menu-sub-button\", \"data-sidebar\": \"menu-sub-button\", \"data-size\": size, \"data-active\": isActive, className: cn(\"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\", \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\", size === \"sm\" && \"text-xs\", size === \"md\" && \"text-sm\", \"group-data-[collapsible=icon]:hidden\", className) }, props)));\n}\nexport { Sidebar, SidebarContent, SidebarFooter, SidebarGroup, SidebarGroupAction, SidebarGroupContent, SidebarGroupLabel, SidebarHeader, SidebarInput, SidebarInset, SidebarMenu, SidebarMenuAction, SidebarMenuBadge, SidebarMenuButton, SidebarMenuItem, SidebarMenuSkeleton, SidebarMenuSub, SidebarMenuSubButton, SidebarMenuSubItem, SidebarProvider, SidebarRail, SidebarSeparator, SidebarTrigger, useSidebar, };\n","size_bytes":20936},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"design_guidelines.md":{"content":"# Design Guidelines: AI Test Case Generator\n\n## Design Approach\n\n**Selected Approach**: Design System Hybrid (Linear + Material Design)\n- **Primary Inspiration**: Linear's clean developer-focused aesthetic for overall layout and typography\n- **Secondary Reference**: Material Design for form components and interactive elements\n- **Rationale**: This developer productivity tool requires clarity, efficiency, and professional polish. Linear's minimalist approach paired with Material's robust component patterns creates an interface optimized for technical users who value function and speed.\n\n## Core Design Principles\n\n1. **Information Hierarchy**: Clear visual separation between input, processing, and output zones\n2. **Technical Clarity**: Code-friendly typography and syntax highlighting for test cases\n3. **Efficiency First**: Streamlined workflow with minimal clicks from input to result\n4. **Professional Polish**: Clean, distraction-free interface that inspires confidence\n\n---\n\n## Typography System\n\n**Font Families** (via Google Fonts CDN):\n- **Primary**: Inter (400, 500, 600) - UI text, labels, descriptions\n- **Monospace**: JetBrains Mono (400, 500) - Code blocks, URLs, test case output\n\n**Hierarchy**:\n- **Page Title**: text-2xl font-semibold (Inter)\n- **Section Headers**: text-lg font-medium\n- **Body/Labels**: text-sm font-medium\n- **Helper Text**: text-xs text-gray-600\n- **Code Display**: text-sm font-mono (JetBrains Mono)\n- **Generated Output**: text-xs font-mono for test case code\n\n---\n\n## Layout System\n\n**Spacing Primitives**: Use Tailwind units of **2, 4, 6, and 8** consistently\n- Micro spacing: p-2, gap-2 (8px)\n- Standard spacing: p-4, gap-4, m-4 (16px)\n- Section spacing: p-6, py-6 (24px)\n- Major sections: p-8, py-8 (32px)\n\n**Container Strategy**:\n- Maximum width: max-w-6xl mx-auto\n- Side padding: px-4 on mobile, px-6 on desktop\n- Two-column split on desktop (lg:) where applicable\n\n**Layout Structure**:\n```\nHeader (fixed/sticky)\n├─ Logo/Title (left)\n└─ Action buttons (right)\n\nMain Content Area (max-w-6xl)\n├─ Input Section (full-width card)\n│  ├─ URL input field\n│  ├─ Prompt textarea\n│  └─ Generate button + options\n│\n├─ Results Section (conditional visibility)\n│  ├─ Status indicator\n│  ├─ Test case count summary\n│  └─ Test case display grid\n│\n└─ Generated Test Cases\n   └─ Expandable code blocks with copy functionality\n```\n\n---\n\n## Component Library\n\n### 1. **Header/Navigation**\n- Height: h-16\n- Background: Subtle border-b\n- Contains: Project title (left), API status indicator, settings icon (right)\n- Layout: flex items-center justify-between px-6\n\n### 2. **Input Card Container**\n- Prominent card with border and subtle shadow\n- Padding: p-6 on mobile, p-8 on desktop\n- Rounded corners: rounded-lg\n- Contains sequential form fields with clear labels\n\n### 3. **Form Components**\n\n**URL Input Field**:\n- Full width with label above\n- Height: h-12\n- Rounded: rounded-md\n- Border focus state with ring\n- Placeholder: \"https://example.com\"\n\n**Prompt Textarea**:\n- Multi-line text area (rows: 6)\n- Full width with label\n- Rounded: rounded-md\n- Placeholder: \"Describe what you want to test... (e.g., 'Test all form validations and submit flows')\"\n- Auto-resize consideration\n\n**Generate Button**:\n- Primary action button\n- Padding: px-6 py-3\n- Rounded: rounded-md\n- Font: font-medium text-sm\n- Loading state with spinner\n- Disabled state when processing\n\n### 4. **Results Display**\n\n**Status Banner**:\n- Appears when generating/complete\n- Padding: p-4\n- Rounded: rounded-md\n- Icons: Use Heroicons (check-circle, exclamation, loading spinner)\n\n**Test Case Summary Card**:\n- Grid display showing: Total tests, Test types, Coverage areas\n- Three-column grid on desktop: grid-cols-1 md:grid-cols-3\n- Gap: gap-4\n- Each stat: Bordered card with p-4\n\n**Test Case List**:\n- Stacked layout with gap-4\n- Each test case in expandable card\n- Card structure:\n  - Header: Test name + expand/collapse icon\n  - Body: Code block with syntax highlighting\n  - Footer: Copy button, test type badge\n\n### 5. **Code Display Block**\n- Background: Subtle contrast\n- Padding: p-4\n- Rounded: rounded-md\n- Font: JetBrains Mono\n- Scrollable: overflow-x-auto\n- Copy button positioned top-right\n- Line numbers optional (left margin)\n\n### 6. **Action Buttons**\n\n**Secondary Buttons** (Export, Save, Clear):\n- Padding: px-4 py-2\n- Border style\n- Rounded: rounded-md\n- Text: text-sm font-medium\n\n**Icon Buttons** (Copy, Expand, Settings):\n- Square: w-8 h-8\n- Rounded: rounded\n- Centered icons from Heroicons\n\n### 7. **Empty States**\n- Centered layout when no test cases generated\n- Icon: Large icon (w-16 h-16) from Heroicons\n- Title: text-lg font-medium\n- Description: text-sm\n- CTA: Generate button\n\n### 8. **Badges**\nFor test types/categories:\n- Small: px-2 py-1\n- Rounded: rounded-full\n- Text: text-xs font-medium\n- Examples: \"UI Test\", \"API Test\", \"E2E Test\"\n\n---\n\n## Icons\n\n**Library**: Heroicons (via CDN)\n**Usage**:\n- Input fields: magnifying-glass (URL), chat-bubble-left-right (prompt)\n- Actions: play (generate), clipboard-document (copy), arrow-down-tray (export)\n- Status: check-circle (success), exclamation-triangle (warning), arrow-path (loading)\n- Navigation: cog-6-tooth (settings), document-text (docs)\n\n---\n\n## Accessibility Standards\n\n- All form inputs with associated labels (for/id pairing)\n- Focus indicators on all interactive elements (ring-2 ring-offset-1)\n- ARIA labels for icon-only buttons\n- Keyboard navigation support (Tab order logical)\n- Loading states announced to screen readers\n- Sufficient contrast ratios (AA minimum)\n- Form validation with clear error messaging\n\n---\n\n## Responsive Behavior\n\n**Mobile (base)**:\n- Single column layout\n- Full-width cards\n- Stacked form fields\n- Hamburger menu if needed\n\n**Tablet (md:768px)**:\n- Two-column grid for test case summary stats\n- Slightly increased padding\n\n**Desktop (lg:1024px)**:\n- Three-column grid for stats\n- Optimized code block width\n- Side-by-side layouts where beneficial (form options + preview)\n\n---\n\n## Interactions & Micro-animations\n\n**Use Sparingly**:\n- Button hover: Subtle brightness shift (transition-colors duration-200)\n- Card hover: Slight elevation increase (hover:shadow-md)\n- Expand/collapse: Smooth height transition (transition-all duration-300)\n- Loading spinner: Rotate animation\n- Copy success: Brief checkmark flash\n\n**Avoid**: Elaborate scroll animations, parallax effects, or distracting motion\n\n---\n\n## Special Considerations\n\n**Code Syntax Highlighting**: \nUse Prism.js or Highlight.js via CDN for syntax-highlighted test case code blocks (JavaScript/TypeScript/Python syntax)\n\n**Progressive Disclosure**:\n- Initially show input form prominently\n- Results section appears only after generation\n- Expandable test cases to manage information density\n\n**Performance**:\n- Lazy load test case details if count exceeds 20\n- Virtual scrolling for large test suites\n- Debounced inputs where applicable\n\n---\n\nThis design creates a professional, efficient developer tool that prioritizes clarity and usability while maintaining visual polish. The layout guides users through a clear workflow: input → generate → review → export, with each stage distinctly defined and accessible.","size_bytes":7265},"client/src/components/ui/accordion.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Accordion = AccordionPrimitive.Root;\nconst AccordionItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(AccordionPrimitive.Item, Object.assign({ ref: ref, className: cn(\"border-b\", className) }, props)));\n});\nAccordionItem.displayName = \"AccordionItem\";\nconst AccordionTrigger = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsx(AccordionPrimitive.Header, { className: \"flex\", children: _jsxs(AccordionPrimitive.Trigger, Object.assign({ ref: ref, className: cn(\"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\", className) }, props, { children: [children, _jsx(ChevronDown, { className: \"h-4 w-4 shrink-0 transition-transform duration-200\" })] })) }));\n});\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\nconst AccordionContent = React.forwardRef((_a, ref) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (_jsx(AccordionPrimitive.Content, Object.assign({ ref: ref, className: \"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\" }, props, { children: _jsx(\"div\", { className: cn(\"pb-4 pt-0\", className), children: children }) })));\n});\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n","size_bytes":2290},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/main.js":{"content":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\ncreateRoot(document.getElementById(\"root\")).render(_jsx(App, {}));\n","size_bytes":210},"client/src/test/TestCaseGenerator.test.js":{"content":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { describe, it, expect } from 'vitest';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport TestCaseGenerator from '../components/TestCaseGenerator';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nconst queryClient = new QueryClient({\n    defaultOptions: {\n        queries: {\n            retry: false,\n        },\n    },\n});\ndescribe('TestCaseGenerator', () => {\n    const renderComponent = () => {\n        return render(_jsx(QueryClientProvider, { client: queryClient, children: _jsx(TestCaseGenerator, {}) }));\n    };\n    it('renders form inputs correctly', () => {\n        renderComponent();\n        expect(screen.getByTestId('input-url')).toBeInTheDocument();\n        expect(screen.getByTestId('input-prompt')).toBeInTheDocument();\n        expect(screen.getByTestId('button-generate')).toBeInTheDocument();\n    });\n    it('validates required fields', async () => {\n        renderComponent();\n        fireEvent.click(screen.getByTestId('button-generate'));\n        await waitFor(() => {\n            expect(screen.getByText(/please enter a valid url/i)).toBeInTheDocument();\n        });\n    });\n});\n","size_bytes":1215},"client/src/hooks/use-mobile.js":{"content":"import * as React from \"react\";\nconst MOBILE_BREAKPOINT = 768;\nexport function useIsMobile() {\n    const [isMobile, setIsMobile] = React.useState(undefined);\n    React.useEffect(() => {\n        const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n        const onChange = () => {\n            setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n        };\n        mql.addEventListener(\"change\", onChange);\n        setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n        return () => mql.removeEventListener(\"change\", onChange);\n    }, []);\n    return !!isMobile;\n}\n","size_bytes":589},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/progress.js":{"content":"\"use client\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\nimport { cn } from \"@/lib/utils\";\nconst Progress = React.forwardRef((_a, ref) => {\n    var { className, value } = _a, props = __rest(_a, [\"className\", \"value\"]);\n    return (_jsx(ProgressPrimitive.Root, Object.assign({ ref: ref, className: cn(\"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\", className) }, props, { children: _jsx(ProgressPrimitive.Indicator, { className: \"h-full w-full flex-1 bg-primary transition-all\", style: { transform: `translateX(-${100 - (value || 0)}%)` } }) })));\n});\nProgress.displayName = ProgressPrimitive.Root.displayName;\nexport { Progress };\n","size_bytes":1241},"client/src/components/ui/carousel.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nconst CarouselContext = React.createContext(null);\nfunction useCarousel() {\n    const context = React.useContext(CarouselContext);\n    if (!context) {\n        throw new Error(\"useCarousel must be used within a <Carousel />\");\n    }\n    return context;\n}\nconst Carousel = React.forwardRef((_a, ref) => {\n    var { orientation = \"horizontal\", opts, setApi, plugins, className, children } = _a, props = __rest(_a, [\"orientation\", \"opts\", \"setApi\", \"plugins\", \"className\", \"children\"]);\n    const [carouselRef, api] = useEmblaCarousel(Object.assign(Object.assign({}, opts), { axis: orientation === \"horizontal\" ? \"x\" : \"y\" }), plugins);\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\n    const onSelect = React.useCallback((api) => {\n        if (!api) {\n            return;\n        }\n        setCanScrollPrev(api.canScrollPrev());\n        setCanScrollNext(api.canScrollNext());\n    }, []);\n    const scrollPrev = React.useCallback(() => {\n        api === null || api === void 0 ? void 0 : api.scrollPrev();\n    }, [api]);\n    const scrollNext = React.useCallback(() => {\n        api === null || api === void 0 ? void 0 : api.scrollNext();\n    }, [api]);\n    const handleKeyDown = React.useCallback((event) => {\n        if (event.key === \"ArrowLeft\") {\n            event.preventDefault();\n            scrollPrev();\n        }\n        else if (event.key === \"ArrowRight\") {\n            event.preventDefault();\n            scrollNext();\n        }\n    }, [scrollPrev, scrollNext]);\n    React.useEffect(() => {\n        if (!api || !setApi) {\n            return;\n        }\n        setApi(api);\n    }, [api, setApi]);\n    React.useEffect(() => {\n        if (!api) {\n            return;\n        }\n        onSelect(api);\n        api.on(\"reInit\", onSelect);\n        api.on(\"select\", onSelect);\n        return () => {\n            api === null || api === void 0 ? void 0 : api.off(\"select\", onSelect);\n        };\n    }, [api, onSelect]);\n    return (_jsx(CarouselContext.Provider, { value: {\n            carouselRef,\n            api: api,\n            opts,\n            orientation: orientation || ((opts === null || opts === void 0 ? void 0 : opts.axis) === \"y\" ? \"vertical\" : \"horizontal\"),\n            scrollPrev,\n            scrollNext,\n            canScrollPrev,\n            canScrollNext,\n        }, children: _jsx(\"div\", Object.assign({ ref: ref, onKeyDownCapture: handleKeyDown, className: cn(\"relative\", className), role: \"region\", \"aria-roledescription\": \"carousel\" }, props, { children: children })) }));\n});\nCarousel.displayName = \"Carousel\";\nconst CarouselContent = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const { carouselRef, orientation } = useCarousel();\n    return (_jsx(\"div\", { ref: carouselRef, className: \"overflow-hidden\", children: _jsx(\"div\", Object.assign({ ref: ref, className: cn(\"flex\", orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\", className) }, props)) }));\n});\nCarouselContent.displayName = \"CarouselContent\";\nconst CarouselItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    const { orientation } = useCarousel();\n    return (_jsx(\"div\", Object.assign({ ref: ref, role: \"group\", \"aria-roledescription\": \"slide\", className: cn(\"min-w-0 shrink-0 grow-0 basis-full\", orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\", className) }, props)));\n});\nCarouselItem.displayName = \"CarouselItem\";\nconst CarouselPrevious = React.forwardRef((_a, ref) => {\n    var { className, variant = \"outline\", size = \"icon\" } = _a, props = __rest(_a, [\"className\", \"variant\", \"size\"]);\n    const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n    return (_jsxs(Button, Object.assign({ ref: ref, variant: variant, size: size, className: cn(\"absolute  h-8 w-8 rounded-full\", orientation === \"horizontal\"\n            ? \"-left-12 top-1/2 -translate-y-1/2\"\n            : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\", className), disabled: !canScrollPrev, onClick: scrollPrev }, props, { children: [_jsx(ArrowLeft, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"Previous slide\" })] })));\n});\nCarouselPrevious.displayName = \"CarouselPrevious\";\nconst CarouselNext = React.forwardRef((_a, ref) => {\n    var { className, variant = \"outline\", size = \"icon\" } = _a, props = __rest(_a, [\"className\", \"variant\", \"size\"]);\n    const { orientation, scrollNext, canScrollNext } = useCarousel();\n    return (_jsxs(Button, Object.assign({ ref: ref, variant: variant, size: size, className: cn(\"absolute h-8 w-8 rounded-full\", orientation === \"horizontal\"\n            ? \"-right-12 top-1/2 -translate-y-1/2\"\n            : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\", className), disabled: !canScrollNext, onClick: scrollNext }, props, { children: [_jsx(ArrowRight, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"Next slide\" })] })));\n});\nCarouselNext.displayName = \"CarouselNext\";\nexport { Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext, };\n","size_bytes":5900},"client/src/components/ui/input.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nconst Input = React.forwardRef((_a, ref) => {\n    var { className, type } = _a, props = __rest(_a, [\"className\", \"type\"]);\n    // h-9 to match icon buttons and default buttons.\n    return (_jsx(\"input\", Object.assign({ type: type, className: cn(\"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className), ref: ref }, props)));\n});\nInput.displayName = \"Input\";\nexport { Input };\n","size_bytes":1321},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/TestCaseGenerator.js":{"content":"import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Loader2, Globe, ChevronDown, ChevronUp, PlayCircle, CheckCircle, XCircle } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Textarea } from \"../components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { generateTestCasesRequestSchema } from \"../../../shared/schema\";\nexport default function TestCaseGenerator() {\n    const [scrapedAnalysis, setScrapedAnalysis] = useState(null);\n    const [generatedData, setGeneratedData] = useState(null);\n    const [expandedTestCase, setExpandedTestCase] = useState(null);\n    const [executing, setExecuting] = useState(false);\n    const [executionResults, setExecutionResults] = useState(null);\n    const [analysisSummary, setAnalysisSummary] = useState(null);\n    const { toast } = useToast();\n    const form = useForm({\n        resolver: zodResolver(generateTestCasesRequestSchema),\n        defaultValues: { url: \"\", prompt: \"\" },\n    });\n    // NEW: preview screenshot state\n    const [previewHtml, setPreviewHtml] = useState(null);\n    const [previewBlobUrl, setPreviewBlobUrl] = useState(null); // NEW\n    const [previewLoading, setPreviewLoading] = useState(false);\n    const [previewError, setPreviewError] = useState(null);\n    const iframeRef = useRef(null);\n    // Scrape with prompt\n    const scrapeMutation = useMutation({\n        mutationFn: async ({ url, prompt }) => {\n            const response = await apiRequest(\"POST\", \"/api/scrape-website\", { url, prompt });\n            return await response.json();\n        },\n        onSuccess: (data) => {\n            var _a, _b, _c;\n            setScrapedAnalysis(data);\n            // generate a human readable summary and log it\n            const summary = generateAnalysisSummary(data);\n            setAnalysisSummary(summary);\n            console.groupCollapsed('Site Analysis Summary');\n            console.log('URL:', data.url);\n            if (data.title)\n                console.log('Title:', data.title);\n            console.log('Interactive elements:', ((_a = data.allInteractive) === null || _a === void 0 ? void 0 : _a.length) || 0);\n            console.log('Top fields/buttons:', summary.topFields, summary.topButtons);\n            console.log('Suggested flows:', summary.suggestedFlows);\n            console.log('Full analysis object:', data);\n            console.groupEnd();\n            toast({\n                title: \"✓ XPaths scraped!\",\n                description: `Found ${((_b = data.forms) === null || _b === void 0 ? void 0 : _b.reduce((sum, f) => sum + (Array.isArray(f === null || f === void 0 ? void 0 : f.fields) ? f.fields.length : 0), 0)) || 0} fields, ${((_c = data.buttonsWithSelectors) === null || _c === void 0 ? void 0 : _c.length) || 0} buttons`,\n            });\n        },\n        onError: (error) => {\n            toast({ title: \"Scraping failed\", description: error.message, variant: \"destructive\" });\n        },\n    });\n    // Generate test cases\n    const generateMutation = useMutation({\n        mutationFn: async (data) => {\n            const response = await apiRequest(\"POST\", \"/api/generate-test-cases\", data);\n            return await response.json();\n        },\n        onSuccess: (data) => {\n            setGeneratedData(data);\n            toast({ title: \"Test cases generated!\", description: `Generated ${data.summary.totalTests} tests` });\n        },\n        onError: (error) => {\n            toast({ title: \"Generation failed\", description: error.message, variant: \"destructive\" });\n        },\n    });\n    // fetch screenshot without using iframe - Puppeteer on server\n    const fetchPreview = async (url) => {\n        try {\n            setPreviewLoading(true);\n            setPreviewHtml(null);\n            setPreviewError(null);\n            if (previewBlobUrl) {\n                URL.revokeObjectURL(previewBlobUrl);\n                setPreviewBlobUrl(null);\n            }\n            console.log('[Preview] Fetching HTML for:', url);\n            const res = await fetch(\"/api/page-screenshot\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url }),\n            });\n            console.log('[Preview] Response:', res.status, res.statusText);\n            if (!res.ok) {\n                const errorText = await res.text();\n                console.error('[Preview] Server error:', errorText);\n                throw new Error(`Server returned ${res.status}: ${res.statusText}`);\n            }\n            const contentType = res.headers.get('content-type');\n            console.log('[Preview] Content-Type:', contentType);\n            if (!(contentType === null || contentType === void 0 ? void 0 : contentType.includes('text/html'))) {\n                const text = await res.text();\n                console.error('[Preview] Expected HTML, got:', text.substring(0, 200));\n                throw new Error('Server did not return HTML');\n            }\n            const html = await res.text();\n            console.log('[Preview] HTML received:', html.length, 'bytes');\n            if (!html || html.length < 50) {\n                throw new Error('Received empty or invalid HTML');\n            }\n            setPreviewHtml(html);\n            // Create a blob URL for iframe src\n            const blob = new Blob([html], { type: \"text/html; charset=utf-8\" });\n            const objUrl = URL.createObjectURL(blob);\n            setPreviewBlobUrl(objUrl);\n            console.log('[Preview] ✓ Blob URL created:', objUrl);\n        }\n        catch (e) {\n            console.error('[Preview] Error:', e);\n            setPreviewError((e === null || e === void 0 ? void 0 : e.message) || \"Failed to load preview\");\n            toast({\n                title: \"Preview failed\",\n                description: (e === null || e === void 0 ? void 0 : e.message) || \"Could not load live preview. Check console for details.\",\n                variant: \"destructive\"\n            });\n        }\n        finally {\n            setPreviewLoading(false);\n        }\n    };\n    // Auto-load preview after scraping succeeds\n    useEffect(() => {\n        if (scrapedAnalysis === null || scrapedAnalysis === void 0 ? void 0 : scrapedAnalysis.url) {\n            fetchPreview(scrapedAnalysis.url);\n        }\n        return () => {\n            if (previewBlobUrl)\n                URL.revokeObjectURL(previewBlobUrl);\n            setPreviewHtml(null);\n            setPreviewBlobUrl(null);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [scrapedAnalysis === null || scrapedAnalysis === void 0 ? void 0 : scrapedAnalysis.url]);\n    const handleScrapeAndGenerate = () => {\n        const url = form.getValues(\"url\");\n        const prompt = form.getValues(\"prompt\");\n        if (!url || !prompt) {\n            toast({ title: \"Enter URL and prompt\", variant: \"destructive\" });\n            return;\n        }\n        // First scrape\n        scrapeMutation.mutate({ url, prompt });\n    };\n    const handleGenerate = () => {\n        const url = form.getValues(\"url\");\n        const prompt = form.getValues(\"prompt\");\n        if (!url || !prompt) {\n            toast({ title: \"Enter URL and prompt\", variant: \"destructive\" });\n            return;\n        }\n        generateMutation.mutate({ url, prompt });\n    };\n    // Execute test cases\n    const executeTestCases = async () => {\n        if (!generatedData || !form.getValues(\"url\")) {\n            toast({ title: \"No test cases to execute\", variant: \"destructive\" });\n            return;\n        }\n        setExecuting(true);\n        setExecutionResults(null);\n        try {\n            // Extract steps from test cases\n            const allSteps = generatedData.testCases.flatMap((tc) => tc.steps);\n            const res = await fetch(\"/api/execute-test-flow\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    url: form.getValues(\"url\"),\n                    steps: allSteps\n                }),\n            });\n            if (!res.ok)\n                throw new Error(\"Execution failed\");\n            const data = await res.json();\n            setExecutionResults(data);\n            toast({\n                title: data.success ? \"✓ Test execution completed\" : \"⚠ Some tests failed\",\n                description: `${data.summary.successful}/${data.summary.total} steps succeeded`,\n            });\n        }\n        catch (error) {\n            toast({\n                title: \"Execution error\",\n                description: error.message,\n                variant: \"destructive\",\n            });\n        }\n        finally {\n            setExecuting(false);\n        }\n    };\n    // Execute test cases DIRECTLY on the live preview iframe\n    const executeTestCasesOnPreview = async () => {\n        var _a, _b;\n        if (!generatedData || !iframeRef.current) {\n            toast({ title: \"No test cases to execute or preview not loaded\", variant: \"destructive\" });\n            return;\n        }\n        setExecuting(true);\n        setExecutionResults(null);\n        try {\n            const iframe = iframeRef.current;\n            const iframeDoc = iframe.contentDocument || ((_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.document);\n            if (!iframeDoc) {\n                throw new Error(\"Cannot access iframe content\");\n            }\n            const allSteps = generatedData.testCases.flatMap((tc) => tc.steps);\n            const results = [];\n            for (let i = 0; i < allSteps.length; i++) {\n                const step = allSteps[i];\n                const startTime = Date.now();\n                try {\n                    const fillMatch = step.match(/(?:fill|enter|type)\\s+[\"']?([^\"']+?)[\"']?\\s+(?:with\\s+)?[\"']?([^\"']+)[\"']?/i);\n                    const clickMatch = step.match(/click\\s+[\"']?([^\"']+)[\"']?/i);\n                    let success = false;\n                    let selector = '';\n                    let reasoning = '';\n                    if (fillMatch) {\n                        const fieldName = fillMatch[1].trim().toLowerCase();\n                        const value = ((_b = fillMatch[2]) === null || _b === void 0 ? void 0 : _b.trim()) || 'test_value';\n                        // Try to match by placeholder, name, id, aria-label, label text\n                        const inputs = Array.from(iframeDoc.querySelectorAll('input, textarea'));\n                        const targetInput = inputs.find(el => {\n                            const htmlEl = el;\n                            const text = [\n                                htmlEl.placeholder,\n                                htmlEl.name,\n                                htmlEl.id,\n                                htmlEl.getAttribute('aria-label'),\n                            ].filter(Boolean).map(s => s.toLowerCase()).join(' ');\n                            return text.includes(fieldName);\n                        });\n                        if (targetInput) {\n                            highlightElement(targetInput, iframeDoc);\n                            targetInput.value = value;\n                            targetInput.dispatchEvent(new Event('input', { bubbles: true }));\n                            targetInput.dispatchEvent(new Event('change', { bubbles: true }));\n                            success = true;\n                            selector = targetInput.name ? `input[name=\"${targetInput.name}\"]` : targetInput.id ? `#${targetInput.id}` : targetInput.tagName.toLowerCase();\n                            reasoning = `Filled \"${fieldName}\" with \"${value}\"`;\n                        }\n                        else {\n                            reasoning = `Field \"${fieldName}\" not found`;\n                        }\n                    }\n                    else if (clickMatch) {\n                        const buttonName = clickMatch[1].trim().toLowerCase();\n                        // Try to match by text, value, aria-label, title\n                        const buttons = Array.from(iframeDoc.querySelectorAll('button, a, input[type=\"submit\"], [role=\"button\"]'));\n                        const targetButton = buttons.find(el => {\n                            const text = [\n                                el.textContent,\n                                el.getAttribute('value'),\n                                el.getAttribute('aria-label'),\n                                el.getAttribute('title'),\n                            ].filter(Boolean).map(s => s.toLowerCase()).join(' ');\n                            return text.includes(buttonName);\n                        });\n                        if (targetButton) {\n                            highlightElement(targetButton, iframeDoc);\n                            targetButton.click();\n                            success = true;\n                            selector = targetButton.id ? `#${targetButton.id}` : targetButton.tagName.toLowerCase();\n                            reasoning = `Clicked \"${buttonName}\"`;\n                        }\n                        else {\n                            reasoning = `Button \"${buttonName}\" not found`;\n                        }\n                    }\n                    results.push({\n                        step: i + 1,\n                        instruction: step,\n                        success,\n                        reasoning,\n                        selector,\n                        duration: Date.now() - startTime\n                    });\n                    if (!success)\n                        break;\n                    // Wait between actions\n                    await new Promise(resolve => setTimeout(resolve, 500));\n                }\n                catch (error) {\n                    results.push({\n                        step: i + 1,\n                        instruction: step,\n                        success: false,\n                        reasoning: `Error: ${error.message}`,\n                        selector: '',\n                        duration: Date.now() - startTime\n                    });\n                    break;\n                }\n            }\n            // Take screenshot of iframe\n            let screenshot = '';\n            try {\n                screenshot = 'Screenshot not available for cross-origin content';\n            }\n            catch (e) {\n                screenshot = 'Screenshot failed';\n            }\n            const successCount = results.filter(r => r.success).length;\n            setExecutionResults({\n                success: results.every(r => r.success),\n                results,\n                summary: {\n                    total: results.length,\n                    successful: successCount,\n                    failed: results.length - successCount,\n                    totalDuration: results.reduce((sum, r) => sum + r.duration, 0)\n                },\n                screenshot\n            });\n            toast({\n                title: successCount === results.length ? \"✓ All steps passed\" : \"⚠ Some steps failed\",\n                description: `${successCount}/${results.length} steps succeeded`,\n            });\n        }\n        catch (error) {\n            toast({\n                title: \"Execution error\",\n                description: error.message,\n                variant: \"destructive\",\n            });\n        }\n        finally {\n            setExecuting(false);\n        }\n    };\n    // Highlight element in iframe\n    const highlightElement = (element, doc) => {\n        // Remove previous highlight\n        const existing = doc.getElementById('ai-test-highlight');\n        if (existing)\n            existing.remove();\n        // Add highlight\n        const rect = element.getBoundingClientRect();\n        const highlight = doc.createElement('div');\n        highlight.id = 'ai-test-highlight';\n        highlight.style.cssText = `\n\t\t\tposition: fixed;\n\t\t\tleft: ${rect.left}px;\n\t\t\ttop: ${rect.top}px;\n\t\t\twidth: ${rect.width}px;\n\t\t\theight: ${rect.height}px;\n\t\t\tborder: 3px solid #22c55e;\n\t\t\tbackground: rgba(34, 197, 94, 0.2);\n\t\t\tpointer-events: none;\n\t\t\tz-index: 999999;\n\t\t\ttransition: all 0.3s;\n\t\t`;\n        doc.body.appendChild(highlight);\n        // Scroll to element\n        element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    };\n    // helper: produce a small human-friendly summary and suggested flows\n    function generateAnalysisSummary(analysis) {\n        var _a;\n        const fields = (analysis.allInteractive || []).filter((e) => ['input', 'textarea', 'select'].includes(e.tag));\n        const buttons = (analysis.allInteractive || []).filter((e) => ['button', 'a'].includes(e.tag) || (e.type && e.type.toLowerCase() === 'submit'));\n        // detect username/password fields heuristically, check friendlyName first\n        const username = fields.find((f) => {\n            const label = f.friendlyName || f.name || f.id || f.placeholder || f.text || '';\n            return label.toLowerCase().includes('user') || label.toLowerCase().includes('email') || (f.name || '').toLowerCase().includes('user');\n        });\n        const password = fields.find((f) => {\n            const label = f.friendlyName || f.name || f.id || f.placeholder || f.text || '';\n            return label.toLowerCase().includes('pass') || (f.name || '').toLowerCase().includes('pass');\n        });\n        const submitBtn = buttons.find((b) => {\n            const label = b.friendlyName || b.text || b.id || b.name || '';\n            return label.toLowerCase().includes('submit') || label.toLowerCase().includes('login') || (b.selectors || []).some((s) => s.includes('submit') || s.includes('login'));\n        });\n        const topFields = fields.slice(0, 6).map((f) => ({ name: f.friendlyName || f.name || f.placeholder || f.id || f.text, selectors: f.selectors, xpath: f.xpath }));\n        const topButtons = buttons.slice(0, 6).map((b) => ({ text: b.friendlyName || b.text || b.name || b.id, selectors: b.selectors, xpath: b.xpath }));\n        const suggestedFlows = [];\n        if (username && password && submitBtn) {\n            suggestedFlows.push(`Login flow: Fill \"${username.name || username.placeholder || username.id}\" -> Fill \"${password.name || password.placeholder || password.id}\" -> Click \"${submitBtn.text || submitBtn.id || 'submit'}\"`);\n        }\n        if (fields.length)\n            suggestedFlows.push(`Form tests: ${fields.length} input fields detected - validate required, invalid/valid inputs`);\n        if (buttons.length)\n            suggestedFlows.push(`Navigation tests: ${buttons.length} clickable elements detected`);\n        return {\n            title: analysis.title || null,\n            interactiveCount: (analysis.allInteractive || []).length,\n            topFields,\n            topButtons,\n            usernameField: username ? (username.name || username.id || username.placeholder) : null,\n            passwordField: password ? (password.name || password.id || password.placeholder) : null,\n            submitButton: submitBtn ? (submitBtn.text || submitBtn.id || ((_a = submitBtn.selectors) === null || _a === void 0 ? void 0 : _a[0])) : null,\n            suggestedFlows\n        };\n    }\n    return (_jsx(\"div\", { className: \"min-h-screen bg-background p-4\", children: _jsxs(\"div\", { className: \"max-w-[98vw] mx-auto\", children: [_jsxs(\"div\", { className: \"mb-4 text-center\", children: [_jsx(\"h1\", { className: \"text-3xl font-bold mb-2\", children: \"AI Test Case Generator\" }), _jsx(\"p\", { className: \"text-muted-foreground\", children: \"Enter URL and instructions to scrape XPaths and generate test cases\" })] }), _jsxs(\"div\", { className: \"grid grid-cols-1 lg:grid-cols-[40%_60%] gap-4\", children: [_jsxs(\"div\", { className: \"space-y-4 overflow-y-auto max-h-[calc(100vh-8rem)]\", children: [_jsxs(Card, { children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsx(CardTitle, { className: \"text-lg\", children: \"Website & Instructions\" }), _jsx(CardDescription, { className: \"text-xs\", children: \"Enter the URL and describe what you want to test\" })] }), _jsxs(CardContent, { className: \"space-y-3\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"text-xs font-medium\", children: \"Website URL\" }), _jsx(Input, { placeholder: \"https://example.com/login\", value: form.watch(\"url\"), onChange: (e) => form.setValue(\"url\", e.target.value), className: \"text-sm\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"text-xs font-medium\", children: \"Testing Instructions\" }), _jsx(Textarea, { placeholder: \"e.g., Fill username and password, then click Login button\", value: form.watch(\"prompt\"), onChange: (e) => form.setValue(\"prompt\", e.target.value), rows: 4, className: \"text-sm\" }), _jsx(\"p\", { className: \"text-[10px] text-muted-foreground mt-1\", children: \"Mention fields (username, password) and buttons (login, submit) you want to test\" })] }), _jsxs(\"div\", { className: \"flex gap-2\", children: [_jsx(Button, { onClick: handleScrapeAndGenerate, disabled: scrapeMutation.isPending, className: \"flex-1 text-xs h-9\", children: scrapeMutation.isPending ? _jsxs(_Fragment, { children: [_jsx(Loader2, { className: \"w-3 h-3 mr-1 animate-spin\" }), \"Scraping...\"] }) : \"1. Scrape\" }), _jsx(Button, { onClick: handleGenerate, disabled: !scrapedAnalysis || generateMutation.isPending, variant: \"secondary\", className: \"flex-1 text-xs h-9\", children: generateMutation.isPending ? _jsxs(_Fragment, { children: [_jsx(Loader2, { className: \"w-3 h-3 mr-1 animate-spin\" }), \"Generating...\"] }) : \"2. Generate\" })] })] })] }), _jsxs(Card, { children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsx(CardTitle, { className: \"text-lg\", children: \"Scraped Elements\" }), _jsx(CardDescription, { className: \"text-xs\", children: scrapedAnalysis ?\n                                                        `${(scrapedAnalysis.allInteractive || []).filter((e) => ['input', 'textarea', 'select'].includes(e.tag)).length} fields, ${(scrapedAnalysis.allInteractive || []).filter((e) => ['button', 'a'].includes(e.tag) || (e.type && e.type.toLowerCase() === 'submit')).length} buttons`\n                                                        : 'Waiting for scrape...' })] }), _jsxs(CardContent, { children: [!scrapedAnalysis && _jsx(\"div\", { className: \"text-xs text-muted-foreground text-center py-4\", children: \"Enter URL and prompt, then click \\\"Scrape\\\"\" }), scrapedAnalysis && (_jsx(\"div\", { className: \"space-y-2 max-h-[200px] overflow-y-auto\", children: (scrapedAnalysis.forms && scrapedAnalysis.forms.length > 0) ? (scrapedAnalysis.forms.map((form, fi) => (_jsxs(\"div\", { children: [_jsxs(\"div\", { className: \"font-semibold text-xs mb-1\", children: [\"\\uD83D\\uDCDD \", form.name] }), form.fields.map((field, i) => {\n                                                                var _a;\n                                                                return (_jsxs(\"div\", { className: \"ml-3 mb-1.5 text-[11px]\", children: [_jsxs(\"div\", { className: \"font-medium\", children: [field.name, \" (\", field.type, \")\"] }), _jsx(\"code\", { className: \"text-[9px] bg-muted px-1 rounded block mt-0.5 truncate\", children: ((_a = field.selectors) === null || _a === void 0 ? void 0 : _a[0]) || field.xpath || '—' })] }, i));\n                                                            })] }, fi)))) : (\n                                                    // Fallback listing from allInteractive\n                                                    _jsxs(\"div\", { className: \"space-y-1\", children: [(scrapedAnalysis.allInteractive || []).slice(0, 40).map((el, i) => (_jsxs(\"div\", { className: \"flex items-center justify-between text-[11px]\", children: [_jsxs(\"div\", { className: \"flex-1 min-w-0\", children: [_jsxs(\"div\", { className: \"font-medium truncate\", children: [el.tag, el.friendlyName ? ` — ${String(el.friendlyName).trim().slice(0, 60)}` : el.text ? ` — ${String(el.text).trim().slice(0, 60)}` : ''] }), _jsxs(\"div\", { className: \"text-[9px] text-muted-foreground mt-0.5\", children: [el.friendlyName ? `label=${el.friendlyName} ` : '', el.name ? `name=${el.name} ` : '', el.id ? `id=${el.id} ` : '', el.ariaLabel ? `aria=${el.ariaLabel}` : ''] })] }), _jsx(\"div\", { className: \"ml-3 text-right\", children: _jsx(\"code\", { className: \"text-[9px] bg-muted px-1 rounded truncate block max-w-[140px]\", children: (el.selectors && el.selectors[0]) || el.xpath || '—' }) })] }, i))), (scrapedAnalysis.allInteractive || []).length > 40 && (_jsxs(\"div\", { className: \"text-[10px] text-muted-foreground\", children: [\"Showing first 40 of \", (scrapedAnalysis.allInteractive || []).length, \" interactive elements\"] }))] })) }))] })] }), analysisSummary && (_jsxs(Card, { children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsx(CardTitle, { className: \"text-lg\", children: \"Site Understanding\" }), _jsx(CardDescription, { className: \"text-xs\", children: \"What the analyzer found and suggested flows\" })] }), _jsx(CardContent, { children: _jsxs(\"div\", { className: \"space-y-2 text-sm\", children: [_jsxs(\"div\", { children: [_jsx(\"strong\", { children: \"Title:\" }), \" \", analysisSummary.title || '—'] }), _jsxs(\"div\", { children: [_jsx(\"strong\", { children: \"Interactive elements:\" }), \" \", analysisSummary.interactiveCount] }), _jsxs(\"div\", { children: [_jsx(\"strong\", { children: \"Top fields:\" }), _jsx(\"ul\", { className: \"list-disc list-inside text-xs mt-1\", children: analysisSummary.topFields.map((f, i) => {\n                                                                    var _a;\n                                                                    return (_jsxs(\"li\", { children: [f.name, \" \\u2014 \", _jsx(\"code\", { className: \"text-[10px] bg-muted px-1 rounded\", children: (_a = f.selectors) === null || _a === void 0 ? void 0 : _a[0] })] }, i));\n                                                                }) })] }), _jsxs(\"div\", { children: [_jsx(\"strong\", { children: \"Top buttons:\" }), _jsx(\"ul\", { className: \"list-disc list-inside text-xs mt-1\", children: analysisSummary.topButtons.map((b, i) => {\n                                                                    var _a;\n                                                                    return (_jsxs(\"li\", { children: [b.text || 'button', \" \\u2014 \", _jsx(\"code\", { className: \"text-[10px] bg-muted px-1 rounded\", children: (_a = b.selectors) === null || _a === void 0 ? void 0 : _a[0] })] }, i));\n                                                                }) })] }), analysisSummary.suggestedFlows.length > 0 && (_jsxs(\"div\", { children: [_jsx(\"strong\", { children: \"Suggested flows:\" }), _jsx(\"ol\", { className: \"list-decimal list-inside text-xs mt-1\", children: analysisSummary.suggestedFlows.map((s, idx) => _jsx(\"li\", { children: s }, idx)) })] })), _jsxs(\"div\", { className: \"mt-2 flex gap-2\", children: [_jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => console.log('Full analysis:', scrapedAnalysis), children: \"Print full analysis to console\" }), _jsx(Button, { size: \"sm\", onClick: () => {\n                                                                    navigator.clipboard.writeText(JSON.stringify({ analysis: scrapedAnalysis, summary: analysisSummary }, null, 2));\n                                                                    toast({ title: 'Copied summary to clipboard' });\n                                                                }, children: \"Copy summary\" })] })] }) })] })), generatedData && (_jsxs(Card, { children: [_jsx(CardHeader, { className: \"pb-3\", children: _jsxs(CardTitle, { className: \"text-lg\", children: [\"Generated Test Cases (\", generatedData.summary.totalTests, \")\"] }) }), _jsx(CardContent, { children: _jsx(\"div\", { className: \"space-y-2\", children: generatedData.testCases.map((tc) => (_jsxs(Card, { children: [_jsx(CardHeader, { className: \"pb-2 pt-3\", children: _jsxs(\"div\", { className: \"flex items-start justify-between\", children: [_jsxs(\"div\", { className: \"flex-1\", children: [_jsx(\"div\", { className: \"font-medium text-xs\", children: tc.title }), _jsxs(\"div\", { className: \"flex gap-1.5 mt-1\", children: [_jsx(Badge, { variant: \"outline\", className: \"text-[9px] h-4 px-1.5\", children: tc.type }), _jsx(Badge, { variant: \"outline\", className: \"text-[9px] h-4 px-1.5\", children: tc.priority })] })] }), _jsx(Button, { size: \"icon\", variant: \"ghost\", onClick: () => setExpandedTestCase(expandedTestCase === tc.id ? null : tc.id), className: \"h-6 w-6\", children: expandedTestCase === tc.id ? _jsx(ChevronUp, { className: \"w-3 h-3\" }) : _jsx(ChevronDown, { className: \"w-3 h-3\" }) })] }) }), expandedTestCase === tc.id && (_jsxs(CardContent, { className: \"pt-0 pb-3\", children: [_jsxs(\"div\", { className: \"space-y-1.5 text-[10px] mb-2\", children: [_jsx(\"div\", { children: _jsx(\"strong\", { children: \"Steps:\" }) }), _jsx(\"ol\", { className: \"list-decimal list-inside space-y-0.5\", children: tc.steps.map((s, i) => _jsx(\"li\", { children: s }, i)) })] }), _jsx(\"div\", { className: \"text-[9px] font-semibold mb-1\", children: \"Playwright Code:\" }), _jsx(\"pre\", { className: \"bg-[#1f2937] text-[#e5e7eb] p-2 rounded text-[9px] overflow-auto max-h-32\", children: _jsx(\"code\", { children: tc.playwrightCode }) })] }))] }, tc.id))) }) })] })), generatedData && (_jsxs(Card, { children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsx(CardTitle, { className: \"text-lg\", children: \"Execute Tests\" }), _jsx(CardDescription, { className: \"text-xs\", children: \"Run the generated test cases on the live preview\" })] }), _jsx(CardContent, { children: _jsx(Button, { onClick: executeTestCasesOnPreview, disabled: executing || !previewBlobUrl, size: \"lg\", className: \"w-full gap-2 h-10\", children: executing ? (_jsxs(_Fragment, { children: [_jsx(Loader2, { className: \"w-4 h-4 animate-spin\" }), \"Executing...\"] })) : (_jsxs(_Fragment, { children: [_jsx(PlayCircle, { className: \"w-4 h-4\" }), \"\\u25B6\\uFE0F Execute on Live Preview\"] })) }) })] })), executionResults && (_jsxs(Card, { children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsx(CardTitle, { className: \"text-lg\", children: \"Execution Results\" }), _jsx(CardDescription, { className: \"text-xs\", children: \"Test execution completed\" })] }), _jsx(CardContent, { children: _jsxs(\"div\", { className: \"space-y-2\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-2 bg-muted rounded-lg\", children: [_jsxs(\"div\", { children: [_jsx(\"div\", { className: \"text-xs font-medium\", children: \"Execution Summary\" }), _jsxs(\"div\", { className: \"text-[9px] text-muted-foreground\", children: [executionResults.summary.successful, \" / \", executionResults.summary.total, \" steps passed\"] })] }), _jsx(Badge, { variant: executionResults.success ? \"default\" : \"destructive\", className: \"text-sm px-2 py-0.5\", children: executionResults.success ? \"✓ Passed\" : \"✗ Failed\" })] }), executionResults.results.map((r, i) => (_jsx(\"div\", { className: `p-2 border rounded-lg ${r.success ? \"border-green-500 bg-green-50\" : \"border-red-500 bg-red-50\"}`, children: _jsxs(\"div\", { className: \"flex items-start gap-2\", children: [r.success ? (_jsx(CheckCircle, { className: \"w-3 h-3 text-green-500 flex-shrink-0 mt-0.5\" })) : (_jsx(XCircle, { className: \"w-3 h-3 text-red-500 flex-shrink-0 mt-0.5\" })), _jsxs(\"div\", { className: \"flex-1\", children: [_jsxs(\"div\", { className: \"font-medium text-[10px] mb-0.5\", children: [\"Step \", r.step] }), _jsx(\"div\", { className: \"text-[9px] text-muted-foreground mb-0.5\", children: r.instruction }), _jsxs(\"div\", { className: \"text-[9px]\", children: [_jsx(\"span\", { className: \"font-semibold\", children: \"Result:\" }), \" \", r.reasoning] }), r.selector && (_jsx(\"code\", { className: \"text-[8px] bg-white px-1 py-0.5 rounded mt-0.5 inline-block\", children: r.selector }))] })] }) }, i)))] }) })] }))] }), _jsx(\"div\", { className: \"lg:sticky lg:top-4 lg:h-[calc(100vh-6rem)]\", children: _jsxs(Card, { className: \"h-full flex flex-col\", children: [_jsxs(CardHeader, { className: \"pb-3\", children: [_jsxs(CardTitle, { className: \"flex items-center justify-between text-lg\", children: [_jsx(\"span\", { children: \"Live Preview\" }), _jsx(\"div\", { className: \"flex gap-2\", children: _jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => {\n                                                                const url = form.getValues(\"url\");\n                                                                if (url)\n                                                                    fetchPreview(url);\n                                                                else\n                                                                    toast({ title: \"Enter URL\", variant: \"destructive\" });\n                                                            }, disabled: previewLoading, className: \"h-8 text-xs\", children: previewLoading ? _jsxs(_Fragment, { children: [_jsx(Loader2, { className: \"w-3 h-3 mr-1 animate-spin\" }), \" Loading...\"] }) : \"Refresh\" }) })] }), _jsx(CardDescription, { className: \"text-xs\", children: \"Live browser rendering - test execution happens here\" })] }), _jsxs(CardContent, { className: \"flex-1 flex flex-col min-h-0 pb-3\", children: [_jsxs(\"div\", { className: \"flex-1 border-2 rounded-lg overflow-hidden bg-white flex items-center justify-center\", children: [previewLoading && (_jsxs(\"div\", { className: \"flex flex-col items-center gap-2 p-6\", children: [_jsx(Loader2, { className: \"w-8 h-8 animate-spin text-primary\" }), _jsx(\"div\", { className: \"text-sm font-medium\", children: \"Loading live preview...\" }), _jsx(\"div\", { className: \"text-xs text-muted-foreground\", children: \"This may take 10-30 seconds\" })] })), !previewLoading && previewBlobUrl && (_jsx(\"iframe\", { ref: iframeRef, title: \"Live Page Preview\", src: previewBlobUrl, className: \"w-full h-full border-0\", sandbox: \"allow-forms allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox allow-downloads\", onLoad: () => {\n                                                            var _a;\n                                                            console.log('[Preview] ✓ Iframe loaded successfully');\n                                                            setPreviewError(null);\n                                                            // Try to access iframe content for execution\n                                                            try {\n                                                                const iframeDoc = (_a = iframeRef.current) === null || _a === void 0 ? void 0 : _a.contentDocument;\n                                                                if (iframeDoc) {\n                                                                    console.log('[Preview] ✓ Can access iframe DOM');\n                                                                }\n                                                            }\n                                                            catch (e) {\n                                                                console.warn('[Preview] Cannot access iframe DOM (cross-origin):', e);\n                                                            }\n                                                        }, onError: (e) => {\n                                                            console.error('[Preview] ✗ Iframe error:', e);\n                                                            setPreviewError('Iframe failed to load');\n                                                        } })), !previewLoading && !previewBlobUrl && previewError && (_jsxs(\"div\", { className: \"text-center p-6\", children: [_jsx(\"div\", { className: \"text-red-500 mb-3 text-sm\", children: \"\\u26A0\\uFE0F Preview Error\" }), _jsx(\"div\", { className: \"text-xs text-muted-foreground mb-3\", children: previewError }), _jsx(Button, { size: \"sm\", variant: \"outline\", onClick: () => {\n                                                                    const url = form.getValues(\"url\");\n                                                                    if (url)\n                                                                        fetchPreview(url);\n                                                                }, className: \"text-xs h-8\", children: \"Retry Preview\" })] })), !previewLoading && !previewBlobUrl && !previewError && (_jsxs(\"div\", { className: \"text-center p-6\", children: [_jsx(Globe, { className: \"w-12 h-12 mx-auto mb-2 text-muted-foreground opacity-40\" }), _jsx(\"div\", { className: \"text-sm text-muted-foreground mb-1\", children: \"Live preview will appear here\" }), _jsx(\"div\", { className: \"text-xs text-muted-foreground mb-3\", children: \"Click \\\"Scrape\\\" to load the site\" })] }))] }), _jsxs(\"div\", { className: \"mt-2 text-[10px] text-muted-foreground flex items-center justify-between\", children: [_jsxs(\"div\", { className: \"flex items-center gap-1.5\", children: [_jsx(\"span\", { className: \"inline-block w-1.5 h-1.5 rounded-full bg-green-500\" }), \"Playwright engine\"] }), (scrapedAnalysis === null || scrapedAnalysis === void 0 ? void 0 : scrapedAnalysis.url) && (_jsx(\"span\", { className: \"font-mono text-[9px] truncate max-w-[300px]\", children: scrapedAnalysis.url }))] })] })] }) })] })] }) }));\n}\n","size_bytes":37645},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/breadcrumb.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nconst Breadcrumb = React.forwardRef((_a, ref) => {\n    var props = __rest(_a, []);\n    return _jsx(\"nav\", Object.assign({ ref: ref, \"aria-label\": \"breadcrumb\" }, props));\n});\nBreadcrumb.displayName = \"Breadcrumb\";\nconst BreadcrumbList = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"ol\", Object.assign({ ref: ref, className: cn(\"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\", className) }, props)));\n});\nBreadcrumbList.displayName = \"BreadcrumbList\";\nconst BreadcrumbItem = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"li\", Object.assign({ ref: ref, className: cn(\"inline-flex items-center gap-1.5\", className) }, props)));\n});\nBreadcrumbItem.displayName = \"BreadcrumbItem\";\nconst BreadcrumbLink = React.forwardRef((_a, ref) => {\n    var { asChild, className } = _a, props = __rest(_a, [\"asChild\", \"className\"]);\n    const Comp = asChild ? Slot : \"a\";\n    return (_jsx(Comp, Object.assign({ ref: ref, className: cn(\"transition-colors hover:text-foreground\", className) }, props)));\n});\nBreadcrumbLink.displayName = \"BreadcrumbLink\";\nconst BreadcrumbPage = React.forwardRef((_a, ref) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsx(\"span\", Object.assign({ ref: ref, role: \"link\", \"aria-disabled\": \"true\", \"aria-current\": \"page\", className: cn(\"font-normal text-foreground\", className) }, props)));\n});\nBreadcrumbPage.displayName = \"BreadcrumbPage\";\nconst BreadcrumbSeparator = (_a) => {\n    var { children, className } = _a, props = __rest(_a, [\"children\", \"className\"]);\n    return (_jsx(\"li\", Object.assign({ role: \"presentation\", \"aria-hidden\": \"true\", className: cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className) }, props, { children: children !== null && children !== void 0 ? children : _jsx(ChevronRight, {}) })));\n};\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\";\nconst BreadcrumbEllipsis = (_a) => {\n    var { className } = _a, props = __rest(_a, [\"className\"]);\n    return (_jsxs(\"span\", Object.assign({ role: \"presentation\", \"aria-hidden\": \"true\", className: cn(\"flex h-9 w-9 items-center justify-center\", className) }, props, { children: [_jsx(MoreHorizontal, { className: \"h-4 w-4\" }), _jsx(\"span\", { className: \"sr-only\", children: \"More\" })] })));\n};\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\";\nexport { Breadcrumb, BreadcrumbList, BreadcrumbItem, BreadcrumbLink, BreadcrumbPage, BreadcrumbSeparator, BreadcrumbEllipsis, };\n","size_bytes":3297},"client/src/components/ui/toaster.js":{"content":"var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport, } from \"@/components/ui/toast\";\nexport function Toaster() {\n    const { toasts } = useToast();\n    return (_jsxs(ToastProvider, { children: [toasts.map(function (_a) {\n                var { id, title, description, action } = _a, props = __rest(_a, [\"id\", \"title\", \"description\", \"action\"]);\n                return (_jsxs(Toast, Object.assign({}, props, { children: [_jsxs(\"div\", { className: \"grid gap-1\", children: [title && _jsx(ToastTitle, { children: title }), description && (_jsx(ToastDescription, { children: description }))] }), action, _jsx(ToastClose, {})] }), id));\n            }), _jsx(ToastViewport, {})] }));\n}\n","size_bytes":1314},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"server/db/connection.ts":{"content":"import { drizzle } from \"drizzle-orm/postgres-js\";\nimport postgres from \"postgres\";\nimport * as schema from \"./schema\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL environment variable is not set\");\n}\n\n// Create PostgreSQL connection\nconst queryClient = postgres(process.env.DATABASE_URL);\n\n// Initialize Drizzle ORM with PostgreSQL\nexport const db = drizzle(queryClient, { schema });\n\n// Initialize database tables\nexport async function initDatabase() {\n  try {\n    // Create websites table\n    await queryClient`\n      CREATE TABLE IF NOT EXISTS websites (\n        id SERIAL PRIMARY KEY,\n        url VARCHAR(500) NOT NULL UNIQUE,\n        domain VARCHAR(255) NOT NULL,\n        path VARCHAR(500),\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n\n    // Create scrape_results table\n    await queryClient`\n      CREATE TABLE IF NOT EXISTS scrape_results (\n        id SERIAL PRIMARY KEY,\n        website_id INTEGER NOT NULL REFERENCES websites(id),\n        url VARCHAR(500) NOT NULL,\n        prompt TEXT NOT NULL,\n        analysis_data JSONB,\n        interactive_elements_count INTEGER,\n        scraped_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n\n    // Create test_cases table\n    await queryClient`\n      CREATE TABLE IF NOT EXISTS test_cases (\n        id SERIAL PRIMARY KEY,\n        scrape_result_id INTEGER NOT NULL REFERENCES scrape_results(id),\n        website_id INTEGER NOT NULL REFERENCES websites(id),\n        test_case_id VARCHAR(100) NOT NULL,\n        title VARCHAR(500) NOT NULL,\n        description TEXT NOT NULL,\n        type VARCHAR(50) NOT NULL,\n        priority VARCHAR(20) NOT NULL,\n        steps JSONB NOT NULL,\n        expected_result TEXT NOT NULL,\n        playwright_code TEXT,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n\n    // Create execution_results table\n    await queryClient`\n      CREATE TABLE IF NOT EXISTS execution_results (\n        id SERIAL PRIMARY KEY,\n        website_id INTEGER NOT NULL REFERENCES websites(id),\n        scrape_result_id INTEGER REFERENCES scrape_results(id),\n        url VARCHAR(500) NOT NULL,\n        prompt TEXT NOT NULL,\n        success BOOLEAN NOT NULL,\n        total_actions INTEGER,\n        successful_actions INTEGER,\n        results JSONB,\n        screenshot TEXT,\n        executed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n\n    console.log(\"✓ Database tables initialized successfully\");\n  } catch (error: any) {\n    console.error(\"Database initialization error:\", error.message);\n    // Don't throw - allow app to start even if tables already exist\n  }\n}\n","size_bytes":2669},"attached_assets/storage_1762943387664.ts":{"content":"import {\n  type TestCase,\n  type InsertTestCase,\n  type TestExecution,\n  type InsertTestExecution,\n  type FlakyTest,\n  type InsertFlakyTest,\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nexport interface IStorage {\n  // Test Cases\n  getTestCase(id: string): Promise<TestCase | undefined>;\n  getAllTestCases(): Promise<TestCase[]>;\n  createTestCase(testCase: InsertTestCase): Promise<TestCase>;\n\n  // Test Executions\n  getTestExecution(id: string): Promise<TestExecution | undefined>;\n  getTestExecutionsByTestCaseId(testCaseId: string): Promise<TestExecution[]>;\n  createTestExecution(execution: InsertTestExecution): Promise<TestExecution>;\n\n  // Flaky Tests\n  getFlakyTest(id: string): Promise<FlakyTest | undefined>;\n  getFlakyTestByTestCaseId(testCaseId: string): Promise<FlakyTest | undefined>;\n  getAllFlakyTests(): Promise<FlakyTest[]>;\n  createFlakyTest(flakyTest: InsertFlakyTest): Promise<FlakyTest>;\n  updateFlakyTest(id: string, updates: Partial<FlakyTest>): Promise<FlakyTest | undefined>;\n}\n\nexport class MemStorage implements IStorage {\n  private testCases: Map<string, TestCase>;\n  private testExecutions: Map<string, TestExecution>;\n  private flakyTests: Map<string, FlakyTest>;\n\n  constructor() {\n    this.testCases = new Map();\n    this.testExecutions = new Map();\n    this.flakyTests = new Map();\n  }\n\n  // Test Cases\n  async getTestCase(id: string): Promise<TestCase | undefined> {\n    return this.testCases.get(id);\n  }\n\n  async getAllTestCases(): Promise<TestCase[]> {\n    return Array.from(this.testCases.values());\n  }\n\n  async createTestCase(insertTestCase: InsertTestCase): Promise<TestCase> {\n    const id = randomUUID();\n    const testCase: TestCase = {\n      ...insertTestCase,\n      id,\n      createdAt: new Date(),\n    };\n    this.testCases.set(id, testCase);\n    return testCase;\n  }\n\n  // Test Executions\n  async getTestExecution(id: string): Promise<TestExecution | undefined> {\n    return this.testExecutions.get(id);\n  }\n\n  async getTestExecutionsByTestCaseId(testCaseId: string): Promise<TestExecution[]> {\n    return Array.from(this.testExecutions.values())\n      .filter((execution) => execution.testCaseId === testCaseId)\n      .sort((a, b) => b.executedAt.getTime() - a.executedAt.getTime());\n  }\n\n  async createTestExecution(insertExecution: InsertTestExecution): Promise<TestExecution> {\n    const id = randomUUID();\n    const execution: TestExecution = {\n      ...insertExecution,\n      id,\n      executedAt: new Date(),\n    };\n    this.testExecutions.set(id, execution);\n    return execution;\n  }\n\n  // Flaky Tests\n  async getFlakyTest(id: string): Promise<FlakyTest | undefined> {\n    return this.flakyTests.get(id);\n  }\n\n  async getFlakyTestByTestCaseId(testCaseId: string): Promise<FlakyTest | undefined> {\n    return Array.from(this.flakyTests.values()).find(\n      (flakyTest) => flakyTest.testCaseId === testCaseId\n    );\n  }\n\n  async getAllFlakyTests(): Promise<FlakyTest[]> {\n    return Array.from(this.flakyTests.values())\n      .filter((test) => !test.isResolved)\n      .sort((a, b) => b.flakinessScore - a.flakinessScore);\n  }\n\n  async createFlakyTest(insertFlakyTest: InsertFlakyTest): Promise<FlakyTest> {\n    const id = randomUUID();\n    const flakyTest: FlakyTest = {\n      ...insertFlakyTest,\n      id,\n      detectedAt: new Date(),\n    };\n    this.flakyTests.set(id, flakyTest);\n    return flakyTest;\n  }\n\n  async updateFlakyTest(id: string, updates: Partial<FlakyTest>): Promise<FlakyTest | undefined> {\n    const existing = this.flakyTests.get(id);\n    if (!existing) return undefined;\n\n    const updated = { ...existing, ...updates };\n    this.flakyTests.set(id, updated);\n    return updated;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":3724},"attached_assets/index_1762943387663.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"attached_assets/db_1762943387659.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"attached_assets/routes_1762943387664.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { FlakyTestAnalyzer } from \"./flaky-analyzer\";\nimport { insertTestCaseSchema, insertTestExecutionSchema } from \"@shared/schema\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  const analyzer = new FlakyTestAnalyzer();\n\n  // Get all test cases\n  app.get(\"/api/test-cases\", async (_req, res) => {\n    try {\n      const testCases = await storage.getAllTestCases();\n      res.json(testCases);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch test cases\" });\n    }\n  });\n\n  // Create a new test case\n  app.post(\"/api/test-cases\", async (req, res) => {\n    try {\n      const parsed = insertTestCaseSchema.parse(req.body);\n      const testCase = await storage.createTestCase(parsed);\n      res.status(201).json(testCase);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid test case data\" });\n    }\n  });\n\n  // Get test case by ID\n  app.get(\"/api/test-cases/:id\", async (req, res) => {\n    try {\n      const testCase = await storage.getTestCase(req.params.id);\n      if (!testCase) {\n        return res.status(404).json({ error: \"Test case not found\" });\n      }\n      res.json(testCase);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch test case\" });\n    }\n  });\n\n  // Create test execution and analyze for flakiness\n  app.post(\"/api/test-executions\", async (req, res) => {\n    try {\n      const parsed = insertTestExecutionSchema.parse(req.body);\n      const execution = await storage.createTestExecution(parsed);\n\n      const allExecutions = await storage.getTestExecutionsByTestCaseId(parsed.testCaseId);\n\n      if (allExecutions.length >= 5) {\n        const analysis = analyzer.analyze(allExecutions);\n\n        if (analysis.isFlakey) {\n          const existingFlakyTest = await storage.getFlakyTestByTestCaseId(parsed.testCaseId);\n\n          if (existingFlakyTest) {\n            await storage.updateFlakyTest(existingFlakyTest.id, {\n              flakinessScore: analysis.flakinessScore,\n              timingVariance: analysis.timingVariance,\n              failureRate: analysis.failureRate,\n              totalRuns: allExecutions.length,\n              failedRuns: allExecutions.filter((e) => e.status === \"failed\").length,\n              rootCauses: analysis.rootCauses,\n              lastFailedAt: parsed.status === \"failed\" ? new Date() : existingFlakyTest.lastFailedAt,\n            });\n          } else {\n            await storage.createFlakyTest({\n              testCaseId: parsed.testCaseId,\n              flakinessScore: analysis.flakinessScore,\n              timingVariance: analysis.timingVariance,\n              failureRate: analysis.failureRate,\n              totalRuns: allExecutions.length,\n              failedRuns: allExecutions.filter((e) => e.status === \"failed\").length,\n              rootCauses: analysis.rootCauses,\n              lastFailedAt: parsed.status === \"failed\" ? new Date() : null,\n              isResolved: false,\n            });\n          }\n        }\n      }\n\n      res.status(201).json(execution);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid execution data\" });\n    }\n  });\n\n  // Get executions for a test case\n  app.get(\"/api/test-cases/:id/executions\", async (req, res) => {\n    try {\n      const executions = await storage.getTestExecutionsByTestCaseId(req.params.id);\n      res.json(executions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch executions\" });\n    }\n  });\n\n  // Get all flaky tests\n  app.get(\"/api/flaky-tests\", async (_req, res) => {\n    try {\n      const flakyTests = await storage.getAllFlakyTests();\n      res.json(flakyTests);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch flaky tests\" });\n    }\n  });\n\n  // Get flaky test details\n  app.get(\"/api/flaky-tests/:id\", async (req, res) => {\n    try {\n      const flakyTest = await storage.getFlakyTest(req.params.id);\n      if (!flakyTest) {\n        return res.status(404).json({ error: \"Flaky test not found\" });\n      }\n      res.json(flakyTest);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch flaky test\" });\n    }\n  });\n\n  // Mark flaky test as resolved\n  app.patch(\"/api/flaky-tests/:id/resolve\", async (req, res) => {\n    try {\n      const updated = await storage.updateFlakyTest(req.params.id, { isResolved: true });\n      if (!updated) {\n        return res.status(404).json({ error: \"Flaky test not found\" });\n      }\n      res.json(updated);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update flaky test\" });\n    }\n  });\n\n  // Get dashboard stats\n  app.get(\"/api/dashboard/stats\", async (_req, res) => {\n    try {\n      const allTestCases = await storage.getAllTestCases();\n      const allFlakyTests = await storage.getAllFlakyTests();\n\n      const last30Days = new Date();\n      last30Days.setDate(last30Days.getDate() - 30);\n\n      const totalTests = allTestCases.length;\n      const flakyTestCount = allFlakyTests.length;\n      const flakyPercentage = totalTests > 0 ? (flakyTestCount / totalTests) * 100 : 0;\n\n      res.json({\n        totalTests,\n        flakyTestCount,\n        flakyPercentage: Math.round(flakyPercentage * 10) / 10,\n      });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch stats\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":5482},"DATABASE_SETUP.md":{"content":"# Database Setup Instructions\n\n## Running on Replit\nYour application is already configured to use Replit's built-in PostgreSQL database. The database connection is automatic when running on Replit.\n\n## Running Locally (After Downloading)\n\nIf you download the code and want to run it locally, you'll need to set up a PostgreSQL database:\n\n### Option 1: Using Local PostgreSQL\n\n1. **Install PostgreSQL** on your machine\n   - macOS: `brew install postgresql`\n   - Ubuntu/Debian: `sudo apt-get install postgresql`\n   - Windows: Download from [postgresql.org](https://www.postgresql.org/download/)\n\n2. **Create a database**\n   ```bash\n   psql -U postgres\n   CREATE DATABASE test_generator_db;\n   \\q\n   ```\n\n3. **Set environment variable**\n   Create a `.env` file in the project root:\n   ```\n   DATABASE_URL=postgresql://postgres:password@localhost:5432/test_generator_db\n   ```\n\n### Option 2: Using Cloud PostgreSQL\n\nYou can use a cloud PostgreSQL service like:\n- **Neon** (https://neon.tech) - Free tier available\n- **Supabase** (https://supabase.com) - Free tier available\n- **Railway** (https://railway.app) - Free tier available\n\nAfter creating a database, copy the connection string and add it to your `.env` file:\n```\nDATABASE_URL=your_connection_string_here\n```\n\n### Running the Application\n\n1. Install dependencies:\n   ```bash\n   npm install\n   ```\n\n2. Start the application:\n   ```bash\n   npm run dev\n   ```\n\nThe database tables will be created automatically when the application starts.\n\n## Database Structure\n\nYour application creates the following tables automatically:\n- **websites** - Stores unique URLs tested\n- **scrape_results** - Stores scraped website analysis data\n- **test_cases** - Stores generated test cases\n- **execution_results** - Stores test execution results\n\nThe URL structure you requested (like `https://umit.ac.in/exam`) is parsed into:\n- Domain: `umit.ac.in`\n- Path: `/exam`\n\nAll data is organized by website URL with proper relationships between tables.\n","size_bytes":1984},"attached_assets/flaky-analyzer_1762943387662.ts":{"content":"import { type TestExecution, type RootCause } from \"@shared/schema\";\n\nexport interface FlakyAnalysisResult {\n  isFlakey: boolean;\n  flakinessScore: number;\n  timingVariance: number;\n  failureRate: number;\n  rootCauses: RootCause[];\n}\n\nexport class FlakyTestAnalyzer {\n  analyze(executions: TestExecution[]): FlakyAnalysisResult {\n    if (executions.length < 3) {\n      return {\n        isFlakey: false,\n        flakinessScore: 0,\n        timingVariance: 0,\n        failureRate: 0,\n        rootCauses: [],\n      };\n    }\n\n    const failedRuns = executions.filter((e) => e.status === \"failed\").length;\n    const totalRuns = executions.length;\n    const failureRate = (failedRuns / totalRuns) * 100;\n\n    const timingVariance = this.calculateTimingVariance(executions);\n    const domStability = this.calculateDOMStability(executions);\n    const rootCauses = this.identifyRootCauses(executions, timingVariance, domStability);\n\n    const hasIntermittentFailures = failedRuns > 0 && failedRuns < totalRuns;\n    const highVariance = timingVariance > 30;\n    const lowDOMStability = domStability < 70;\n\n    const isFlakey = hasIntermittentFailures && (highVariance || lowDOMStability);\n\n    let flakinessScore = 0;\n    if (isFlakey) {\n      flakinessScore = Math.min(\n        100,\n        failureRate * 0.5 + timingVariance * 0.3 + (100 - domStability) * 0.2\n      );\n    }\n\n    return {\n      isFlakey,\n      flakinessScore: Math.round(flakinessScore),\n      timingVariance: Math.round(timingVariance),\n      failureRate: Math.round(failureRate),\n      rootCauses,\n    };\n  }\n\n  private calculateTimingVariance(executions: TestExecution[]): number {\n    const times = executions.map((e) => e.executionTime);\n    const avg = times.reduce((sum, t) => sum + t, 0) / times.length;\n    const variance = times.reduce((sum, t) => sum + Math.pow(t - avg, 2), 0) / times.length;\n    const stdDev = Math.sqrt(variance);\n    return (stdDev / avg) * 100;\n  }\n\n  private calculateDOMStability(executions: TestExecution[]): number {\n    const scores = executions\n      .map((e) => e.domStabilityScore)\n      .filter((s): s is number => s !== null);\n    \n    if (scores.length === 0) return 100;\n    \n    return scores.reduce((sum, s) => sum + s, 0) / scores.length;\n  }\n\n  private identifyRootCauses(\n    executions: TestExecution[],\n    timingVariance: number,\n    domStability: number\n  ): RootCause[] {\n    const rootCauses: RootCause[] = [];\n    const failedExecutions = executions.filter((e) => e.status === \"failed\");\n\n    if (timingVariance > 30) {\n      const confidence = Math.min(95, timingVariance * 1.5);\n      const avgTime = executions.reduce((sum, e) => sum + e.executionTime, 0) / executions.length;\n      const hasWaitFailures = failedExecutions.some((e) => e.waitConditionFailures && e.waitConditionFailures > 0);\n      \n      rootCauses.push({\n        type: \"timing\",\n        confidence: Math.round(confidence),\n        description: hasWaitFailures\n          ? `High timing variance (${Math.round(timingVariance)}%) with wait condition failures. Average execution time: ${Math.round(avgTime)}ms with significant fluctuation.`\n          : `High timing variance (${Math.round(timingVariance)}%) indicates inconsistent async operations or network delays.`,\n      });\n    }\n\n    if (domStability < 70) {\n      rootCauses.push({\n        type: \"dom\",\n        confidence: Math.round(100 - domStability),\n        description: `Low DOM stability score (${Math.round(domStability)}%) suggests element locators are inconsistent or page structure changes dynamically.`,\n      });\n    }\n\n    const hasNetworkIssues = failedExecutions.some(\n      (e) => e.networkCallCount && e.networkCallCount > 5\n    );\n    if (hasNetworkIssues) {\n      rootCauses.push({\n        type: \"resource\",\n        confidence: 65,\n        description: \"Multiple network calls detected in failed executions, indicating potential external API dependency issues.\",\n      });\n    }\n\n    const executionTimeSpread = executions.map((e) => e.executionTime);\n    const hasHighConcurrencyRisk =\n      Math.max(...executionTimeSpread) / Math.min(...executionTimeSpread) > 2;\n    if (hasHighConcurrencyRisk && timingVariance > 40) {\n      rootCauses.push({\n        type: \"concurrency\",\n        confidence: Math.min(85, timingVariance),\n        description: \"Execution time spread suggests potential race conditions or resource contention issues.\",\n      });\n    }\n\n    return rootCauses.sort((a, b) => b.confidence - a.confidence);\n  }\n}\n","size_bytes":4488},"server/db/schema.ts":{"content":"import { pgTable, serial, varchar, text, timestamp, integer, jsonb, boolean } from \"drizzle-orm/pg-core\";\n\n// Websites table - stores unique URLs that have been tested\nexport const websites = pgTable(\"websites\", {\n  id: serial(\"id\").primaryKey(),\n  url: varchar(\"url\", { length: 500 }).notNull().unique(),\n  domain: varchar(\"domain\", { length: 255 }).notNull(),\n  path: varchar(\"path\", { length: 500 }),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\n// Scrape Results - stores scraped website analysis data\nexport const scrapeResults = pgTable(\"scrape_results\", {\n  id: serial(\"id\").primaryKey(),\n  websiteId: integer(\"website_id\").notNull().references(() => websites.id),\n  url: varchar(\"url\", { length: 500 }).notNull(),\n  prompt: text(\"prompt\").notNull(),\n  analysisData: jsonb(\"analysis_data\"),\n  interactiveElementsCount: integer(\"interactive_elements_count\"),\n  scrapedAt: timestamp(\"scraped_at\").notNull().defaultNow(),\n});\n\n// Test Cases - stores generated test cases\nexport const testCases = pgTable(\"test_cases\", {\n  id: serial(\"id\").primaryKey(),\n  scrapeResultId: integer(\"scrape_result_id\").notNull().references(() => scrapeResults.id),\n  websiteId: integer(\"website_id\").notNull().references(() => websites.id),\n  testCaseId: varchar(\"test_case_id\", { length: 100 }).notNull(),\n  title: varchar(\"title\", { length: 500 }).notNull(),\n  description: text(\"description\").notNull(),\n  type: varchar(\"type\", { length: 50 }).notNull(),\n  priority: varchar(\"priority\", { length: 20 }).notNull(),\n  steps: jsonb(\"steps\").notNull(),\n  expectedResult: text(\"expected_result\").notNull(),\n  playwrightCode: text(\"playwright_code\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\n// Execution Results - stores test execution results\nexport const executionResults = pgTable(\"execution_results\", {\n  id: serial(\"id\").primaryKey(),\n  websiteId: integer(\"website_id\").notNull().references(() => websites.id),\n  scrapeResultId: integer(\"scrape_result_id\").references(() => scrapeResults.id),\n  url: varchar(\"url\", { length: 500 }).notNull(),\n  prompt: text(\"prompt\").notNull(),\n  success: boolean(\"success\").notNull(),\n  totalActions: integer(\"total_actions\"),\n  successfulActions: integer(\"successful_actions\"),\n  results: jsonb(\"results\"),\n  screenshot: text(\"screenshot\"),\n  executedAt: timestamp(\"executed_at\").notNull().defaultNow(),\n});\n\nexport type Website = typeof websites.$inferSelect;\nexport type NewWebsite = typeof websites.$inferInsert;\n\nexport type ScrapeResult = typeof scrapeResults.$inferSelect;\nexport type NewScrapeResult = typeof scrapeResults.$inferInsert;\n\nexport type TestCase = typeof testCases.$inferSelect;\nexport type NewTestCase = typeof testCases.$inferInsert;\n\nexport type ExecutionResult = typeof executionResults.$inferSelect;\nexport type NewExecutionResult = typeof executionResults.$inferInsert;\n","size_bytes":2926},"server/db/queries.ts":{"content":"import { eq } from \"drizzle-orm\";\nimport { db } from \"./connection\";\nimport { websites, scrapeResults, testCases, executionResults } from \"./schema\";\nimport type { NewWebsite, NewScrapeResult, NewTestCase, NewExecutionResult } from \"./schema\";\n\n// Helper function to extract domain and path from URL\nfunction parseUrl(url: string): { domain: string; path: string } {\n  try {\n    const urlObj = new URL(url);\n    return {\n      domain: urlObj.hostname,\n      path: urlObj.pathname + urlObj.search,\n    };\n  } catch {\n    return { domain: url, path: \"/\" };\n  }\n}\n\n// Get or create website\nexport async function getOrCreateWebsite(url: string) {\n  try {\n    // Check if website exists\n    const existing = await db.select().from(websites).where(eq(websites.url, url)).limit(1);\n    \n    if (existing.length > 0) {\n      return existing[0];\n    }\n\n    // Create new website\n    const { domain, path } = parseUrl(url);\n    const newWebsite: NewWebsite = {\n      url,\n      domain,\n      path,\n    };\n\n    const created = await db.insert(websites).values(newWebsite).returning();\n    return created[0];\n  } catch (error) {\n    console.error(\"Error in getOrCreateWebsite:\", error);\n    throw error;\n  }\n}\n\n// Save scrape result\nexport async function saveScrapeResult(data: {\n  url: string;\n  prompt: string;\n  analysisData: any;\n  interactiveElementsCount?: number;\n}) {\n  try {\n    const website = await getOrCreateWebsite(data.url);\n\n    const newScrapeResult: NewScrapeResult = {\n      websiteId: website.id,\n      url: data.url,\n      prompt: data.prompt,\n      analysisData: data.analysisData,\n      interactiveElementsCount: data.interactiveElementsCount,\n    };\n\n    const created = await db.insert(scrapeResults).values(newScrapeResult).returning();\n    return created[0];\n  } catch (error) {\n    console.error(\"Error in saveScrapeResult:\", error);\n    throw error;\n  }\n}\n\n// Save test cases\nexport async function saveTestCases(data: {\n  scrapeResultId: number;\n  websiteId: number;\n  testCases: any[];\n}) {\n  try {\n    const testCaseRecords = data.testCases.map((tc) => ({\n      scrapeResultId: data.scrapeResultId,\n      websiteId: data.websiteId,\n      testCaseId: tc.id,\n      title: tc.title,\n      description: tc.description,\n      type: tc.type,\n      priority: tc.priority,\n      steps: tc.steps,\n      expectedResult: tc.expectedResult,\n      playwrightCode: tc.playwrightCode || null,\n    }));\n\n    await db.insert(testCases).values(testCaseRecords);\n    return testCaseRecords.length;\n  } catch (error) {\n    console.error(\"Error in saveTestCases:\", error);\n    throw error;\n  }\n}\n\n// Save execution result\nexport async function saveExecutionResult(data: {\n  url: string;\n  prompt: string;\n  scrapeResultId?: number;\n  success: boolean;\n  totalActions?: number;\n  successfulActions?: number;\n  results?: any;\n  screenshot?: string;\n}) {\n  try {\n    const website = await getOrCreateWebsite(data.url);\n\n    const newExecutionResult: NewExecutionResult = {\n      websiteId: website.id,\n      scrapeResultId: data.scrapeResultId,\n      url: data.url,\n      prompt: data.prompt,\n      success: data.success,\n      totalActions: data.totalActions,\n      successfulActions: data.successfulActions,\n      results: data.results,\n      screenshot: data.screenshot,\n    };\n\n    const created = await db.insert(executionResults).values(newExecutionResult).returning();\n    return created[0];\n  } catch (error) {\n    console.error(\"Error in saveExecutionResult:\", error);\n    throw error;\n  }\n}\n\n// Get all scrape results for a URL\nexport async function getScrapeResultsByUrl(url: string) {\n  try {\n    const website = await db.select().from(websites).where(eq(websites.url, url)).limit(1);\n    \n    if (website.length === 0) {\n      return [];\n    }\n\n    return await db.select().from(scrapeResults).where(eq(scrapeResults.websiteId, website[0].id));\n  } catch (error) {\n    console.error(\"Error in getScrapeResultsByUrl:\", error);\n    return [];\n  }\n}\n\n// Get test cases for a scrape result\nexport async function getTestCasesByScrapeResultId(scrapeResultId: number) {\n  try {\n    return await db.select().from(testCases).where(eq(testCases.scrapeResultId, scrapeResultId));\n  } catch (error) {\n    console.error(\"Error in getTestCasesByScrapeResultId:\", error);\n    return [];\n  }\n}\n\n// Get execution results for a URL\nexport async function getExecutionResultsByUrl(url: string) {\n  try {\n    const website = await db.select().from(websites).where(eq(websites.url, url)).limit(1);\n    \n    if (website.length === 0) {\n      return [];\n    }\n\n    return await db.select().from(executionResults).where(eq(executionResults.websiteId, website[0].id));\n  } catch (error) {\n    console.error(\"Error in getExecutionResultsByUrl:\", error);\n    return [];\n  }\n}\n","size_bytes":4756}},"version":2}